function M2(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function iT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sg={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function D2(){if(ww)return Bc;ww=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Bc.Fragment=e,Bc.jsx=t,Bc.jsxs=t,Bc}var xw;function O2(){return xw||(xw=1,sg.exports=D2()),sg.exports}var p=O2(),ig={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function k2(){if(Ew)return Oe;Ew=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function I(V,te,de){this.props=V,this.context=te,this.refs=M,this.updater=de||S}I.prototype.isReactComponent={},I.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=I.prototype;function q(V,te,de){this.props=V,this.context=te,this.refs=M,this.updater=de||S}var L=q.prototype=new F;L.constructor=q,O(L,I.prototype),L.isPureReactComponent=!0;var G=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function C(V,te,de,oe,fe,Re){return de=Re.ref,{$$typeof:n,type:V,key:te,ref:de!==void 0?de:null,props:Re}}function A(V,te){return C(V.type,te,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function P(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return te[de]})}var U=/\/+/g;function z(V,te){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):te.toString(36)}function k(){}function Se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ce(V,te,de,oe,fe){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(Re){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case n:case e:_e=!0;break;case v:return _e=V._init,Ce(_e(V._payload),te,de,oe,fe)}}if(_e)return fe=fe(V),_e=oe===""?"."+z(V,0):oe,G(fe)?(de="",_e!=null&&(de=_e.replace(U,"$&/")+"/"),Ce(fe,te,de,"",function(nt){return nt})):fe!=null&&(D(fe)&&(fe=A(fe,de+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+_e)),te.push(fe)),1;_e=0;var Ie=oe===""?".":oe+":";if(G(V))for(var He=0;He<V.length;He++)oe=V[He],Re=Ie+z(oe,He),_e+=Ce(oe,te,de,Re,fe);else if(He=w(V),typeof He=="function")for(V=He.call(V),He=0;!(oe=V.next()).done;)oe=oe.value,Re=Ie+z(oe,He++),_e+=Ce(oe,te,de,Re,fe);else if(Re==="object"){if(typeof V.then=="function")return Ce(Se(V),te,de,oe,fe);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Y(V,te,de){if(V==null)return V;var oe=[],fe=0;return Ce(V,oe,"","",function(Re){return te.call(de,Re,fe++)}),oe}function ce(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var Z=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ue(){}return Oe.Children={map:Y,forEach:function(V,te,de){Y(V,function(){te.apply(this,arguments)},de)},count:function(V){var te=0;return Y(V,function(){te++}),te},toArray:function(V){return Y(V,function(te){return te})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=I,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=q,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return J.H.useMemoCache(V)}},Oe.cache=function(V){return function(){return V.apply(null,arguments)}},Oe.cloneElement=function(V,te,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=O({},V.props),fe=V.key,Re=void 0;if(te!=null)for(_e in te.ref!==void 0&&(Re=void 0),te.key!==void 0&&(fe=""+te.key),te)!ae.call(te,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&te.ref===void 0||(oe[_e]=te[_e]);var _e=arguments.length-2;if(_e===1)oe.children=de;else if(1<_e){for(var Ie=Array(_e),He=0;He<_e;He++)Ie[He]=arguments[He+2];oe.children=Ie}return C(V.type,fe,void 0,void 0,Re,oe)},Oe.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Oe.createElement=function(V,te,de){var oe,fe={},Re=null;if(te!=null)for(oe in te.key!==void 0&&(Re=""+te.key),te)ae.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=te[oe]);var _e=arguments.length-2;if(_e===1)fe.children=de;else if(1<_e){for(var Ie=Array(_e),He=0;He<_e;He++)Ie[He]=arguments[He+2];fe.children=Ie}if(V&&V.defaultProps)for(oe in _e=V.defaultProps,_e)fe[oe]===void 0&&(fe[oe]=_e[oe]);return C(V,Re,void 0,void 0,null,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:f,render:V}},Oe.isValidElement=D,Oe.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ce}},Oe.memo=function(V,te){return{$$typeof:y,type:V,compare:te===void 0?null:te}},Oe.startTransition=function(V){var te=J.T,de={};J.T=de;try{var oe=V(),fe=J.S;fe!==null&&fe(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ue,Z)}catch(Re){Z(Re)}finally{J.T=te}},Oe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Oe.use=function(V){return J.H.use(V)},Oe.useActionState=function(V,te,de){return J.H.useActionState(V,te,de)},Oe.useCallback=function(V,te){return J.H.useCallback(V,te)},Oe.useContext=function(V){return J.H.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V,te){return J.H.useDeferredValue(V,te)},Oe.useEffect=function(V,te,de){var oe=J.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(V,te)},Oe.useId=function(){return J.H.useId()},Oe.useImperativeHandle=function(V,te,de){return J.H.useImperativeHandle(V,te,de)},Oe.useInsertionEffect=function(V,te){return J.H.useInsertionEffect(V,te)},Oe.useLayoutEffect=function(V,te){return J.H.useLayoutEffect(V,te)},Oe.useMemo=function(V,te){return J.H.useMemo(V,te)},Oe.useOptimistic=function(V,te){return J.H.useOptimistic(V,te)},Oe.useReducer=function(V,te,de){return J.H.useReducer(V,te,de)},Oe.useRef=function(V){return J.H.useRef(V)},Oe.useState=function(V){return J.H.useState(V)},Oe.useSyncExternalStore=function(V,te,de){return J.H.useSyncExternalStore(V,te,de)},Oe.useTransition=function(){return J.H.useTransition()},Oe.version="19.1.0",Oe}var Tw;function wf(){return Tw||(Tw=1,ig.exports=k2()),ig.exports}var N=wf();const Ei=iT(N),aT=M2({__proto__:null,default:Ei},[N]);var ag={exports:{}},Fc={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function P2(){return Aw||(Aw=1,function(n){function e(Y,ce){var Z=Y.length;Y.push(ce);e:for(;0<Z;){var ue=Z-1>>>1,V=Y[ue];if(0<a(V,ce))Y[ue]=ce,Y[Z]=V,Z=ue;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ce=Y[0],Z=Y.pop();if(Z!==ce){Y[0]=Z;e:for(var ue=0,V=Y.length,te=V>>>1;ue<te;){var de=2*(ue+1)-1,oe=Y[de],fe=de+1,Re=Y[fe];if(0>a(oe,Z))fe<V&&0>a(Re,oe)?(Y[ue]=Re,Y[fe]=Z,ue=fe):(Y[ue]=oe,Y[de]=Z,ue=de);else if(fe<V&&0>a(Re,Z))Y[ue]=Re,Y[fe]=Z,ue=fe;else break e}}return ce}function a(Y,ce){var Z=Y.sortIndex-ce.sortIndex;return Z!==0?Z:Y.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],y=[],v=1,b=null,w=3,S=!1,O=!1,M=!1,I=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function G(Y){for(var ce=t(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=Y)s(y),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=t(y)}}function J(Y){if(M=!1,G(Y),!O)if(t(m)!==null)O=!0,ae||(ae=!0,z());else{var ce=t(y);ce!==null&&Ce(J,ce.startTime-Y)}}var ae=!1,C=-1,A=5,D=-1;function P(){return I?!0:!(n.unstable_now()-D<A)}function U(){if(I=!1,ae){var Y=n.unstable_now();D=Y;var ce=!0;try{e:{O=!1,M&&(M=!1,q(C),C=-1),S=!0;var Z=w;try{t:{for(G(Y),b=t(m);b!==null&&!(b.expirationTime>Y&&P());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,w=b.priorityLevel;var V=ue(b.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){b.callback=V,G(Y),ce=!0;break t}b===t(m)&&s(m),G(Y)}else s(m);b=t(m)}if(b!==null)ce=!0;else{var te=t(y);te!==null&&Ce(J,te.startTime-Y),ce=!1}}break e}finally{b=null,w=Z,S=!1}ce=void 0}}finally{ce?z():ae=!1}}}var z;if(typeof L=="function")z=function(){L(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Se=k.port2;k.port1.onmessage=U,z=function(){Se.postMessage(null)}}else z=function(){F(U,0)};function Ce(Y,ce){C=F(function(){Y(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var Z=w;w=ce;try{return Y()}finally{w=Z}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=w;w=Y;try{return ce()}finally{w=Z}},n.unstable_scheduleCallback=function(Y,ce,Z){var ue=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Z+V,Y={id:v++,callback:ce,priorityLevel:Y,startTime:Z,expirationTime:V,sortIndex:-1},Z>ue?(Y.sortIndex=Z,e(y,Y),t(m)===null&&Y===t(y)&&(M?(q(C),C=-1):M=!0,Ce(J,Z-ue))):(Y.sortIndex=V,e(m,Y),O||S||(O=!0,ae||(ae=!0,z()))),Y},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Y){var ce=w;return function(){var Z=w;w=ce;try{return Y.apply(this,arguments)}finally{w=Z}}}}(lg)),lg}var Sw;function j2(){return Sw||(Sw=1,og.exports=P2()),og.exports}var cg={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function V2(){if(Rw)return cn;Rw=1;var n=wf();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:y,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(m,y,null,v)},cn.flushSync=function(m){var y=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=y,s.p=v,s.d.f()}},cn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},cn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,b=f(v,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=f(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},cn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=f(v,y.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=f(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},cn.requestFormReset=function(m){s.d.r(m)},cn.unstable_batchedUpdates=function(m,y){return m(y)},cn.useFormState=function(m,y,v){return u.H.useFormState(m,y,v)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var Nw;function oT(){if(Nw)return cg.exports;Nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cg.exports=V2(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function L2(){if(Cw)return Fc;Cw=1;var n=j2(),e=wf(),t=oT();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return f(h),r;if(g===c)return f(h),i;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=g;else{for(var E=!1,T=h.child;T;){if(T===o){E=!0,o=h,c=g;break}if(T===c){E=!0,c=h,o=g;break}T=T.sibling}if(!E){for(T=g.child;T;){if(T===o){E=!0,o=g,c=h;break}if(T===c){E=!0,c=g,o=h;break}T=T.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function Se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case I:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case ae:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case L:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case G:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return i=r.displayName||null,i!==null?i:Se(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return Se(r(i))}catch{}}return null}var Ce=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ue=[],V=-1;function te(r){return{current:r}}function de(r){0>V||(r.current=ue[V],ue[V]=null,V--)}function oe(r,i){V++,ue[V]=r.current,r.current=i}var fe=te(null),Re=te(null),_e=te(null),Ie=te(null);function He(r,i){switch(oe(_e,i),oe(Re,r),oe(fe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Qb(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Qb(i),r=Xb(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(fe),oe(fe,r)}function nt(){de(fe),de(Re),de(_e)}function Pt(r){r.memoizedState!==null&&oe(Ie,r);var i=fe.current,o=Xb(i,r.type);i!==o&&(oe(Re,r),oe(fe,o))}function an(r){Re.current===r&&(de(fe),de(Re)),Ie.current===r&&(de(Ie),jc._currentValue=Z)}var pn=Object.prototype.hasOwnProperty,Mn=n.unstable_scheduleCallback,Ar=n.unstable_cancelCallback,Qi=n.unstable_shouldYield,Wa=n.unstable_requestPaint,En=n.unstable_now,kl=n.unstable_getCurrentPriorityLevel,Sr=n.unstable_ImmediatePriority,Za=n.unstable_UserBlockingPriority,Xi=n.unstable_NormalPriority,im=n.unstable_LowPriority,Ja=n.unstable_IdlePriority,Pl=n.log,Fu=n.unstable_setDisableYieldValue,_t=null,Je=null;function Dn(r){if(typeof Pl=="function"&&Fu(r),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(_t,r)}catch{}}var on=Math.clz32?Math.clz32:Wi,qu=Math.log,am=Math.LN2;function Wi(r){return r>>>=0,r===0?32:31-(qu(r)/am|0)|0}var Zi=256,Ji=4194304;function ur(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function eo(r,i,o){var c=r.pendingLanes;if(c===0)return 0;var h=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?h=ur(c):(E&=T,E!==0?h=ur(E):o||(o=T&~r,o!==0&&(h=ur(o))))):(T=c&~g,T!==0?h=ur(T):E!==0?h=ur(E):o||(o=c&~r,o!==0&&(h=ur(o)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:h}function ea(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function jl(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var r=Zi;return Zi<<=1,(Zi&4194048)===0&&(Zi=256),r}function Ll(){var r=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),r}function as(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function os(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ul(r,i,o,c,h,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,j=r.expirationTimes,Q=r.hiddenUpdates;for(o=E&~o;0<o;){var ne=31-on(o),ie=1<<ne;T[ne]=0,j[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var W=X[ne];W!==null&&(W.lane&=-536870913)}o&=~ie}c!==0&&Rr(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~i))}function Rr(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-on(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function zl(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-on(o),h=1<<c;h&i|r[c]&i&&(r[c]|=i),o&=~h}}function Ks(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function to(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ys(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:pw(r.type))}function Hu(r,i){var o=ce.p;try{return ce.p=r,i()}finally{ce.p=o}}var ht=Math.random().toString(36).slice(2),jt="__reactFiber$"+ht,Nt="__reactProps$"+ht,Yn="__reactContainer$"+ht,Bl="__reactEvents$"+ht,om="__reactListeners$"+ht,Qs="__reactHandles$"+ht,Gu="__reactResources$"+ht,ta="__reactMarker$"+ht;function Xs(r){delete r[jt],delete r[Nt],delete r[Bl],delete r[om],delete r[Qs]}function ls(r){var i=r[jt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Yn]||o[jt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=ew(r);r!==null;){if(o=r[jt])return o;r=ew(r)}return i}r=o,o=r.parentNode}return null}function Nr(r){if(r=r[jt]||r[Yn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Cr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function gn(r){var i=r[Gu];return i||(i=r[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(r){r[ta]=!0}var Fl=new Set,no={};function dr(r,i){cs(r,i),cs(r+"Capture",i)}function cs(r,i){for(no[r]=i,r=0;r<i.length;r++)Fl.add(i[r])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},na={};function Yu(r){return pn.call(na,r)?!0:pn.call(Ku,r)?!1:$u.test(r)?na[r]=!0:(Ku[r]=!0,!1)}function Ws(r,i,o){if(Yu(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Ir(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Wt(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}var ra,Qu;function us(r){if(ra===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",Qu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+r+Qu}var ro=!1;function so(r,i){if(!r||ro)return"";ro=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var X=W}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(W){X=W}r.call(ie.prototype)}}else{try{throw Error()}catch(W){X=W}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],T=g[1];if(E&&T){var j=E.split(`
`),Q=T.split(`
`);for(h=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(c===j.length||h===Q.length)for(c=j.length-1,h=Q.length-1;1<=c&&0<=h&&j[c]!==Q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(j[c]!==Q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||j[c]!==Q[h]){var ne=`
`+j[c].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=c&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?us(o):""}function ql(r){switch(r.tag){case 26:case 27:case 5:return us(r.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return so(r.type,!1);case 11:return so(r.type.render,!1);case 1:return so(r.type,!0);case 31:return us("Activity");default:return""}}function io(r){try{var i="";do i+=ql(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Hl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lm(r){var i=Hl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ao(r){r._valueTracker||(r._valueTracker=lm(r))}function Gl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=Hl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function sa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cm=/[\n"\\]/g;function Ct(r){return r.replace(cm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function On(r,i,o,c,h,g,E,T){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+yn(i)):r.value!==""+yn(i)&&(r.value=""+yn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?Zs(r,E,yn(i)):o!=null?Zs(r,E,yn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+yn(T):r.removeAttribute("name")}function ia(r,i,o,c,h,g,E,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+yn(o):"",i=i!=null?""+yn(i):o,T||i===r.value||(r.value=i),r.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=T?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Zs(r,i,o){i==="number"&&sa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ds(r,i,o,c){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function rt(r,i,o){if(i!=null&&(i=""+yn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+yn(o):""}function aa(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ce(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=yn(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Qn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||oa.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function $l(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&o[h]!==c&&Xu(r,h,c)}else for(var g in i)i.hasOwnProperty(g)&&Xu(r,g,i[g])}function Kl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(r){return dm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var hs=null;function Xn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var fs=null,ms=null;function Yl(r){var i=Nr(r);if(i&&(r=i.stateNode)){var o=r[Nt]||null;e:switch(r=i.stateNode,i.type){case"input":if(On(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var h=c[Nt]||null;if(!h)throw Error(s(90));On(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&Gl(c)}break e;case"textarea":rt(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ds(r,!!o.multiple,i,!1)}}}var Mr=!1;function Wu(r,i,o){if(Mr)return r(i,o);Mr=!0;try{var c=r(i);return c}finally{if(Mr=!1,(fs!==null||ms!==null)&&(Hd(),fs&&(i=fs,r=ms,ms=fs=null,Yl(i),r)))for(i=0;i<r.length;i++)Yl(r[i])}}function la(r,i){var o=r.stateNode;if(o===null)return null;var c=o[Nt]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(hr)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Wn=!1}var Dr=null,Js=null,ps=null;function Ql(){if(ps)return ps;var r,i=Js,o=i.length,c,h="value"in Dr?Dr.value:Dr.textContent,g=h.length;for(r=0;r<o&&i[r]===h[r];r++);var E=o-r;for(c=1;c<=E&&i[o-c]===h[g-c];c++);return ps=h.slice(r,1<c?1-c:void 0)}function Or(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function kr(){return!0}function Xl(){return!1}function Gt(r){function i(o,c,h,g,E){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?kr:Xl,this.isPropagationStopped=Xl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),i}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Gt(We),ua=v({},We,{view:0,detail:0}),Zu=Gt(ua),co,uo,Pr,da=v({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pr&&(Pr&&r.type==="mousemove"?(co=r.screenX-Pr.screenX,uo=r.screenY-Pr.screenY):uo=co=0,Pr=r),co)},movementY:function(r){return"movementY"in r?r.movementY:uo}}),Zn=Gt(da),Ju=v({},da,{dataTransfer:0}),hm=Gt(Ju),ha=v({},ua,{relatedTarget:0}),ho=Gt(ha),Wl=v({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Gt(Wl),ed=v({},We,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mo=Gt(ed),fm=v({},We,{data:0}),Zl=Gt(fm),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=nd[r])?!!i[r]:!1}function ma(){return Jl}var rd=v({},ua,{key:function(r){if(r.key){var i=fa[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Or(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?td[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(r){return r.type==="keypress"?Or(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Or(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),po=Gt(rd),sd=v({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=Gt(sd),gs=v({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),id=Gt(gs),ad=v({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),od=Gt(ad),ld=v({},da,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),go=Gt(ld),vn=v({},We,{newState:0,oldState:0}),cd=Gt(vn),ud=[9,13,27,32],jr=hr&&"CompositionEvent"in window,d=null;hr&&"documentMode"in document&&(d=document.documentMode);var _=hr&&"TextEvent"in window&&!d,x=hr&&(!jr||d&&8<d&&11>=d),R=" ",$=!1;function ee(r,i){switch(r){case"keyup":return ud.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ge=!1;function Vt(r,i){switch(r){case"compositionend":return he(i);case"keypress":return i.which!==32?null:($=!0,R);case"textInput":return r=i.data,r===R&&$?null:r;default:return null}}function $e(r,i){if(Ge)return r==="compositionend"||!jr&&ee(r,i)?(r=Ql(),ps=Js=Dr=null,Ge=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return x&&i.locale!=="ko"?null:i.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!$t[r.type]:i==="textarea"}function ys(r,i,o,c){fs?ms?ms.push(c):ms=[c]:fs=c,i=Xd(i,"onChange"),0<i.length&&(o=new lo("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var Zt=null,Vr=null;function tc(r){Hb(r,0)}function dd(r){var i=Cr(r);if(Gl(i))return r}function d_(r,i){if(r==="change")return i}var h_=!1;if(hr){var mm;if(hr){var pm="oninput"in document;if(!pm){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),pm=typeof f_.oninput=="function"}mm=pm}else mm=!1;h_=mm&&(!document.documentMode||9<document.documentMode)}function m_(){Zt&&(Zt.detachEvent("onpropertychange",p_),Vr=Zt=null)}function p_(r){if(r.propertyName==="value"&&dd(Vr)){var i=[];ys(i,Vr,r,Xn(r)),Wu(tc,i)}}function oN(r,i,o){r==="focusin"?(m_(),Zt=i,Vr=o,Zt.attachEvent("onpropertychange",p_)):r==="focusout"&&m_()}function lN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dd(Vr)}function cN(r,i){if(r==="click")return dd(i)}function uN(r,i){if(r==="input"||r==="change")return dd(i)}function dN(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var kn=typeof Object.is=="function"?Object.is:dN;function nc(r,i){if(kn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!pn.call(i,h)||!kn(r[h],i[h]))return!1}return!0}function g_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function y_(r,i){var o=g_(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=g_(o)}}function v_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?v_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function __(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=sa(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=sa(r.document)}return i}function gm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var hN=hr&&"documentMode"in document&&11>=document.documentMode,yo=null,ym=null,rc=null,vm=!1;function b_(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vm||yo==null||yo!==sa(c)||(c=yo,"selectionStart"in c&&gm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),rc&&nc(rc,c)||(rc=c,c=Xd(ym,"onSelect"),0<c.length&&(i=new lo("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=yo)))}function pa(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var vo={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},_m={},w_={};hr&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ga(r){if(_m[r])return _m[r];if(!vo[r])return r;var i=vo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in w_)return _m[r]=i[o];return r}var x_=ga("animationend"),E_=ga("animationiteration"),T_=ga("animationstart"),fN=ga("transitionrun"),mN=ga("transitionstart"),pN=ga("transitioncancel"),A_=ga("transitionend"),S_=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function fr(r,i){S_.set(r,i),dr(i,[r])}var R_=new WeakMap;function Jn(r,i){if(typeof r=="object"&&r!==null){var o=R_.get(r);return o!==void 0?o:(i={value:r,source:i,stack:io(i)},R_.set(r,i),i)}return{value:r,source:i,stack:io(i)}}var er=[],_o=0,wm=0;function hd(){for(var r=_o,i=wm=_o=0;i<r;){var o=er[i];er[i++]=null;var c=er[i];er[i++]=null;var h=er[i];er[i++]=null;var g=er[i];if(er[i++]=null,c!==null&&h!==null){var E=c.pending;E===null?h.next=h:(h.next=E.next,E.next=h),c.pending=h}g!==0&&N_(o,h,g)}}function fd(r,i,o,c){er[_o++]=r,er[_o++]=i,er[_o++]=o,er[_o++]=c,wm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function xm(r,i,o,c){return fd(r,i,o,c),md(r)}function bo(r,i){return fd(r,null,null,i),md(r)}function N_(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&i!==null&&(h=31-on(o),r=g.hiddenUpdates,c=r[h],c===null?r[h]=[i]:c.push(i),i.lane=o|536870912),g):null}function md(r){if(50<Nc)throw Nc=0,Np=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var wo={};function gN(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,i,o,c){return new gN(r,i,o,c)}function Em(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vs(r,i){var o=r.alternate;return o===null?(o=Pn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function C_(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function pd(r,i,o,c,h,g){var E=0;if(c=r,typeof r=="function")Em(r)&&(E=1);else if(typeof r=="string")E=v2(r,o,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Pn(31,o,i,h),r.elementType=D,r.lanes=g,r;case O:return ya(o.children,h,g,i);case M:E=8,h|=24;break;case I:return r=Pn(12,o,i,h|2),r.elementType=I,r.lanes=g,r;case J:return r=Pn(13,o,i,h),r.elementType=J,r.lanes=g,r;case ae:return r=Pn(19,o,i,h),r.elementType=ae,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case L:E=10;break e;case q:E=9;break e;case G:E=11;break e;case C:E=14;break e;case A:E=16,c=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Pn(E,o,i,h),i.elementType=r,i.type=c,i.lanes=g,i}function ya(r,i,o,c){return r=Pn(7,r,c,i),r.lanes=o,r}function Tm(r,i,o){return r=Pn(6,r,null,i),r.lanes=o,r}function Am(r,i,o){return i=Pn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var xo=[],Eo=0,gd=null,yd=0,tr=[],nr=0,va=null,_s=1,bs="";function _a(r,i){xo[Eo++]=yd,xo[Eo++]=gd,gd=r,yd=i}function I_(r,i,o){tr[nr++]=_s,tr[nr++]=bs,tr[nr++]=va,va=r;var c=_s;r=bs;var h=32-on(c)-1;c&=~(1<<h),o+=1;var g=32-on(i)+h;if(30<g){var E=h-h%5;g=(c&(1<<E)-1).toString(32),c>>=E,h-=E,_s=1<<32-on(i)+h|o<<h|c,bs=g+r}else _s=1<<g|o<<h|c,bs=r}function Sm(r){r.return!==null&&(_a(r,1),I_(r,1,0))}function Rm(r){for(;r===gd;)gd=xo[--Eo],xo[Eo]=null,yd=xo[--Eo],xo[Eo]=null;for(;r===va;)va=tr[--nr],tr[nr]=null,bs=tr[--nr],tr[nr]=null,_s=tr[--nr],tr[nr]=null}var _n=null,bt=null,Xe=!1,ba=null,Lr=!1,Nm=Error(s(519));function wa(r){var i=Error(s(418,""));throw ac(Jn(i,r)),Nm}function M_(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[jt]=r,i[Nt]=c,o){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(o=0;o<Ic.length;o++)Ue(Ic[o],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),ia(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ao(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),aa(i,c.value,c.defaultValue,c.children),ao(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Yb(i.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),c.onScroll!=null&&Ue("scroll",i),c.onScrollEnd!=null&&Ue("scrollend",i),c.onClick!=null&&(i.onclick=Wd),i=!0):i=!1,i||wa(r)}function D_(r){for(_n=r.return;_n;)switch(_n.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:_n=_n.return}}function sc(r){if(r!==_n)return!1;if(!Xe)return D_(r),Xe=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Hp(r.type,r.memoizedProps)),o=!o),o&&bt&&wa(r),D_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){bt=pr(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}bt=null}}else i===27?(i=bt,pi(r.type)?(r=Yp,Yp=null,bt=r):bt=i):bt=_n?pr(r.stateNode.nextSibling):null;return!0}function ic(){bt=_n=null,Xe=!1}function O_(){var r=ba;return r!==null&&(Sn===null?Sn=r:Sn.push.apply(Sn,r),ba=null),r}function ac(r){ba===null?ba=[r]:ba.push(r)}var Cm=te(null),xa=null,ws=null;function ei(r,i,o){oe(Cm,i._currentValue),i._currentValue=o}function xs(r){r._currentValue=Cm.current,de(Cm)}function Im(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function Mm(r,i,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=h;for(var j=0;j<i.length;j++)if(T.context===i[j]){g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),Im(g.return,o,r),c||(E=null);break e}g=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Im(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function oc(r,i,o,c){r=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=h.type;kn(h.pendingProps.value,E.value)||(r!==null?r.push(T):r=[T])}}else if(h===Ie.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(jc):r=[jc])}h=h.return}r!==null&&Mm(i,r,o,c),i.flags|=262144}function vd(r){for(r=r.firstContext;r!==null;){if(!kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ea(r){xa=r,ws=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return k_(xa,r)}function _d(r,i){return xa===null&&Ea(r),k_(r,i)}function k_(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ws===null){if(r===null)throw Error(s(308));ws=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ws=ws.next=i;return o}var yN=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},vN=n.unstable_scheduleCallback,_N=n.unstable_NormalPriority,Ut={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new yN,data:new Map,refCount:0}}function lc(r){r.refCount--,r.refCount===0&&vN(_N,function(){r.controller.abort()})}var cc=null,Om=0,To=0,Ao=null;function bN(r,i){if(cc===null){var o=cc=[];Om=0,To=Pp(),Ao={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Om++,i.then(P_,P_),i}function P_(){if(--Om===0&&cc!==null){Ao!==null&&(Ao.status="fulfilled");var r=cc;cc=null,To=0,Ao=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function wN(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var j_=Y.S;Y.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&bN(r,i),j_!==null&&j_(r,i)};var Ta=te(null);function km(){var r=Ta.current;return r!==null?r:ct.pooledCache}function bd(r,i){i===null?oe(Ta,Ta.current):oe(Ta,i.pool)}function V_(){var r=km();return r===null?null:{parent:Ut._currentValue,pool:r}}var uc=Error(s(460)),L_=Error(s(474)),wd=Error(s(542)),Pm={then:function(){}};function U_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xd(){}function z_(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(xd,xd),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,F_(r),r;default:if(typeof i.status=="string")i.then(xd,xd);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,F_(r),r}throw dc=i,uc}}var dc=null;function B_(){if(dc===null)throw Error(s(459));var r=dc;return dc=null,r}function F_(r){if(r===uc||r===wd)throw Error(s(483))}var ti=!1;function jm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ni(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ri(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=md(r),N_(r,null,o),i}return fd(r,c,i,o),md(r)}function hc(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,zl(r,o)}}function Lm(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?h=g=i:g=g.next=i}else h=g=i;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Um=!1;function fc(){if(Um){var r=Ao;if(r!==null)throw r}}function mc(r,i,o,c){Um=!1;var h=r.updateQueue;ti=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var j=T,Q=j.next;j.next=null,E===null?g=Q:E.next=Q,E=j;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==E&&(T===null?ne.firstBaseUpdate=Q:T.next=Q,ne.lastBaseUpdate=j))}if(g!==null){var ie=h.baseState;E=0,ne=Q=j=null,T=g;do{var X=T.lane&-536870913,W=X!==T.lane;if(W?(Ke&X)===X:(c&X)===X){X!==0&&X===To&&(Um=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ne=r,xe=T;X=i;var at=o;switch(xe.tag){case 1:if(Ne=xe.payload,typeof Ne=="function"){ie=Ne.call(at,ie,X);break e}ie=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=xe.payload,X=typeof Ne=="function"?Ne.call(at,ie,X):Ne,X==null)break e;ie=v({},ie,X);break e;case 2:ti=!0}}X=T.callback,X!==null&&(r.flags|=64,W&&(r.flags|=8192),W=h.callbacks,W===null?h.callbacks=[X]:W.push(X))}else W={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(Q=ne=W,j=ie):ne=ne.next=W,E|=X;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(j=ie),h.baseState=j,h.firstBaseUpdate=Q,h.lastBaseUpdate=ne,g===null&&(h.shared.lanes=0),di|=E,r.lanes=E,r.memoizedState=ie}}function q_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function H_(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)q_(o[r],i)}var So=te(null),Ed=te(0);function G_(r,i){r=Cs,oe(Ed,r),oe(So,i),Cs=r|i.baseLanes}function zm(){oe(Ed,Cs),oe(So,So.current)}function Bm(){Cs=Ed.current,de(So),de(Ed)}var si=0,ke=null,st=null,It=null,Td=!1,Ro=!1,Aa=!1,Ad=0,pc=0,No=null,xN=0;function At(){throw Error(s(321))}function Fm(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!kn(r[o],i[o]))return!1;return!0}function qm(r,i,o,c,h,g){return si=g,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=r===null||r.memoizedState===null?N0:C0,Aa=!1,g=o(c,h),Aa=!1,Ro&&(g=K_(i,o,c,h)),$_(r),g}function $_(r){Y.H=Md;var i=st!==null&&st.next!==null;if(si=0,It=st=ke=null,Td=!1,pc=0,No=null,i)throw Error(s(300));r===null||Kt||(r=r.dependencies,r!==null&&vd(r)&&(Kt=!0))}function K_(r,i,o,c){ke=r;var h=0;do{if(Ro&&(No=null),pc=0,Ro=!1,25<=h)throw Error(s(301));if(h+=1,It=st=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=CN,g=i(o,c)}while(Ro);return g}function EN(){var r=Y.H,i=r.useState()[0];return i=typeof i.then=="function"?gc(i):i,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(ke.flags|=1024),i}function Hm(){var r=Ad!==0;return Ad=0,r}function Gm(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function $m(r){if(Td){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Td=!1}si=0,It=st=ke=null,Ro=!1,pc=Ad=0,No=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ke.memoizedState=It=r:It=It.next=r,It}function Mt(){if(st===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var i=It===null?ke.memoizedState:It.next;if(i!==null)It=i,st=r;else{if(r===null)throw ke.alternate===null?Error(s(467)):Error(s(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},It===null?ke.memoizedState=It=r:It=It.next=r}return It}function Km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(r){var i=pc;return pc+=1,No===null&&(No=[]),r=z_(No,r,i),i=ke,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?N0:C0),r}function Sd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gc(r);if(r.$$typeof===L)return ln(r)}throw Error(s(438,String(r)))}function Ym(r){var i=null,o=ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Km(),ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=P;return i.index++,o}function Es(r,i){return typeof i=="function"?i(r):i}function Rd(r){var i=Mt();return Qm(i,st,r)}function Qm(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}i.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{i=h.next;var T=E=null,j=null,Q=i,ne=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Ke&ie)===ie:(si&ie)===ie){var X=Q.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===To&&(ne=!0);else if((si&X)===X){Q=Q.next,X===To&&(ne=!0);continue}else ie={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(T=j=ie,E=g):j=j.next=ie,ke.lanes|=X,di|=X;ie=Q.action,Aa&&o(g,ie),g=Q.hasEagerState?Q.eagerState:o(g,ie)}else X={lane:ie,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(T=j=X,E=g):j=j.next=X,ke.lanes|=ie,di|=ie;Q=Q.next}while(Q!==null&&Q!==i);if(j===null?E=g:j.next=T,!kn(g,r.memoizedState)&&(Kt=!0,ne&&(o=Ao,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=j,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Xm(r){var i=Mt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=i.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do g=r(g,E.action),E=E.next;while(E!==h);kn(g,i.memoizedState)||(Kt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function Y_(r,i,o){var c=ke,h=Mt(),g=Xe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!kn((st||h).memoizedState,o);E&&(h.memoizedState=o,Kt=!0),h=h.queue;var T=W_.bind(null,c,h,r);if(yc(2048,8,T,[r]),h.getSnapshot!==i||E||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,Co(9,Nd(),X_.bind(null,c,h,o,i),null),ct===null)throw Error(s(349));g||(si&124)!==0||Q_(c,i,o)}return o}function Q_(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=ke.updateQueue,i===null?(i=Km(),ke.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function X_(r,i,o,c){i.value=o,i.getSnapshot=c,Z_(i)&&J_(r)}function W_(r,i,o){return o(function(){Z_(i)&&J_(r)})}function Z_(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!kn(r,o)}catch{return!0}}function J_(r){var i=bo(r,2);i!==null&&zn(i,r,2)}function Wm(r){var i=Tn();if(typeof r=="function"){var o=r;if(r=o(),Aa){Dn(!0);try{o()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:r},i}function e0(r,i,o,c){return r.baseState=o,Qm(r,st,typeof c=="function"?c:Es)}function TN(r,i,o,c,h){if(Id(r))throw Error(s(485));if(r=i.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Y.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,t0(i,g)):(g.next=o.next,i.pending=o.next=g)}}function t0(r,i){var o=i.action,c=i.payload,h=r.state;if(i.isTransition){var g=Y.T,E={};Y.T=E;try{var T=o(h,c),j=Y.S;j!==null&&j(E,T),n0(r,i,T)}catch(Q){Zm(r,i,Q)}finally{Y.T=g}}else try{g=o(h,c),n0(r,i,g)}catch(Q){Zm(r,i,Q)}}function n0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){r0(r,i,c)},function(c){return Zm(r,i,c)}):r0(r,i,o)}function r0(r,i,o){i.status="fulfilled",i.value=o,s0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,t0(r,o)))}function Zm(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,s0(i),i=i.next;while(i!==c)}r.action=null}function s0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function i0(r,i){return i}function a0(r,i){if(Xe){var o=ct.formState;if(o!==null){e:{var c=ke;if(Xe){if(bt){t:{for(var h=bt,g=Lr;h.nodeType!==8;){if(!g){h=null;break t}if(h=pr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){bt=pr(h.nextSibling),c=h.data==="F!";break e}}wa(c)}c=!1}c&&(i=o[0])}}return o=Tn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:i},o.queue=c,o=A0.bind(null,ke,c),c.dispatch=o,c=Wm(!1),g=rp.bind(null,ke,!1,c.queue),c=Tn(),h={state:i,dispatch:null,action:r,pending:null},c.queue=h,o=TN.bind(null,ke,h,g,o),h.dispatch=o,c.memoizedState=r,[i,o,!1]}function o0(r){var i=Mt();return l0(i,st,r)}function l0(r,i,o){if(i=Qm(r,i,i0)[0],r=Rd(Es)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=gc(i)}catch(E){throw E===uc?wd:E}else c=i;i=Mt();var h=i.queue,g=h.dispatch;return o!==i.memoizedState&&(ke.flags|=2048,Co(9,Nd(),AN.bind(null,h,o),null)),[c,g,r]}function AN(r,i){r.action=i}function c0(r){var i=Mt(),o=st;if(o!==null)return l0(i,o,r);Mt(),i=i.memoizedState,o=Mt();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function Co(r,i,o,c){return r={tag:r,create:o,deps:c,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Km(),ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function Nd(){return{destroy:void 0,resource:void 0}}function u0(){return Mt().memoizedState}function Cd(r,i,o,c){var h=Tn();c=c===void 0?null:c,ke.flags|=r,h.memoizedState=Co(1|i,Nd(),o,c)}function yc(r,i,o,c){var h=Mt();c=c===void 0?null:c;var g=h.memoizedState.inst;st!==null&&c!==null&&Fm(c,st.memoizedState.deps)?h.memoizedState=Co(i,g,o,c):(ke.flags|=r,h.memoizedState=Co(1|i,g,o,c))}function d0(r,i){Cd(8390656,8,r,i)}function h0(r,i){yc(2048,8,r,i)}function f0(r,i){return yc(4,2,r,i)}function m0(r,i){return yc(4,4,r,i)}function p0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function g0(r,i,o){o=o!=null?o.concat([r]):null,yc(4,4,p0.bind(null,i,r),o)}function Jm(){}function y0(r,i){var o=Mt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Fm(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function v0(r,i){var o=Mt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Fm(i,c[1]))return c[0];if(c=r(),Aa){Dn(!0);try{r()}finally{Dn(!1)}}return o.memoizedState=[c,i],c}function ep(r,i,o){return o===void 0||(si&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=wb(),ke.lanes|=r,di|=r,o)}function _0(r,i,o,c){return kn(o,i)?o:So.current!==null?(r=ep(r,o,c),kn(r,i)||(Kt=!0),r):(si&42)===0?(Kt=!0,r.memoizedState=o):(r=wb(),ke.lanes|=r,di|=r,i)}function b0(r,i,o,c,h){var g=ce.p;ce.p=g!==0&&8>g?g:8;var E=Y.T,T={};Y.T=T,rp(r,!1,i,o);try{var j=h(),Q=Y.S;if(Q!==null&&Q(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=wN(j,c);vc(r,i,ne,Un(r))}else vc(r,i,c,Un(r))}catch(ie){vc(r,i,{then:function(){},status:"rejected",reason:ie},Un())}finally{ce.p=g,Y.T=E}}function SN(){}function tp(r,i,o,c){if(r.tag!==5)throw Error(s(476));var h=w0(r).queue;b0(r,h,i,Z,o===null?SN:function(){return x0(r),o(c)})}function w0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:Z},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function x0(r){var i=w0(r).next.queue;vc(r,i,{},Un())}function np(){return ln(jc)}function E0(){return Mt().memoizedState}function T0(){return Mt().memoizedState}function RN(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Un();r=ni(o);var c=ri(i,r,o);c!==null&&(zn(c,i,o),hc(c,i,o)),i={cache:Dm()},r.payload=i;return}i=i.return}}function NN(r,i,o){var c=Un();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Id(r)?S0(i,o):(o=xm(r,i,o,c),o!==null&&(zn(o,r,c),R0(o,i,c)))}function A0(r,i,o){var c=Un();vc(r,i,o,c)}function vc(r,i,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Id(r))S0(i,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,T=g(E,o);if(h.hasEagerState=!0,h.eagerState=T,kn(T,E))return fd(r,i,h,0),ct===null&&hd(),!1}catch{}finally{}if(o=xm(r,i,h,c),o!==null)return zn(o,r,c),R0(o,i,c),!0}return!1}function rp(r,i,o,c){if(c={lane:2,revertLane:Pp(),action:c,hasEagerState:!1,eagerState:null,next:null},Id(r)){if(i)throw Error(s(479))}else i=xm(r,o,c,2),i!==null&&zn(i,r,2)}function Id(r){var i=r.alternate;return r===ke||i!==null&&i===ke}function S0(r,i){Ro=Td=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function R0(r,i,o){if((o&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,zl(r,o)}}var Md={readContext:ln,use:Sd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},N0={readContext:ln,use:Sd,useCallback:function(r,i){return Tn().memoizedState=[r,i===void 0?null:i],r},useContext:ln,useEffect:d0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Cd(4194308,4,p0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Cd(4194308,4,r,i)},useInsertionEffect:function(r,i){Cd(4,2,r,i)},useMemo:function(r,i){var o=Tn();i=i===void 0?null:i;var c=r();if(Aa){Dn(!0);try{r()}finally{Dn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=Tn();if(o!==void 0){var h=o(i);if(Aa){Dn(!0);try{o(i)}finally{Dn(!1)}}}else h=i;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=NN.bind(null,ke,r),[c.memoizedState,r]},useRef:function(r){var i=Tn();return r={current:r},i.memoizedState=r},useState:function(r){r=Wm(r);var i=r.queue,o=A0.bind(null,ke,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Jm,useDeferredValue:function(r,i){var o=Tn();return ep(o,r,i)},useTransition:function(){var r=Wm(!1);return r=b0.bind(null,ke,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=ke,h=Tn();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ct===null)throw Error(s(349));(Ke&124)!==0||Q_(c,i,o)}h.memoizedState=o;var g={value:o,getSnapshot:i};return h.queue=g,d0(W_.bind(null,c,g,r),[r]),c.flags|=2048,Co(9,Nd(),X_.bind(null,c,g,o,i),null),o},useId:function(){var r=Tn(),i=ct.identifierPrefix;if(Xe){var o=bs,c=_s;o=(c&~(1<<32-on(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=Ad++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=xN++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:np,useFormState:a0,useActionState:a0,useOptimistic:function(r){var i=Tn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=rp.bind(null,ke,!0,o),o.dispatch=i,[r,i]},useMemoCache:Ym,useCacheRefresh:function(){return Tn().memoizedState=RN.bind(null,ke)}},C0={readContext:ln,use:Sd,useCallback:y0,useContext:ln,useEffect:h0,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:v0,useReducer:Rd,useRef:u0,useState:function(){return Rd(Es)},useDebugValue:Jm,useDeferredValue:function(r,i){var o=Mt();return _0(o,st.memoizedState,r,i)},useTransition:function(){var r=Rd(Es)[0],i=Mt().memoizedState;return[typeof r=="boolean"?r:gc(r),i]},useSyncExternalStore:Y_,useId:E0,useHostTransitionStatus:np,useFormState:o0,useActionState:o0,useOptimistic:function(r,i){var o=Mt();return e0(o,st,r,i)},useMemoCache:Ym,useCacheRefresh:T0},CN={readContext:ln,use:Sd,useCallback:y0,useContext:ln,useEffect:h0,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:v0,useReducer:Xm,useRef:u0,useState:function(){return Xm(Es)},useDebugValue:Jm,useDeferredValue:function(r,i){var o=Mt();return st===null?ep(o,r,i):_0(o,st.memoizedState,r,i)},useTransition:function(){var r=Xm(Es)[0],i=Mt().memoizedState;return[typeof r=="boolean"?r:gc(r),i]},useSyncExternalStore:Y_,useId:E0,useHostTransitionStatus:np,useFormState:c0,useActionState:c0,useOptimistic:function(r,i){var o=Mt();return st!==null?e0(o,st,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:T0},Io=null,_c=0;function Dd(r){var i=_c;return _c+=1,Io===null&&(Io=[]),z_(Io,r,i)}function bc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Od(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function I0(r){var i=r._init;return i(r._payload)}function M0(r){function i(H,B){if(r){var K=H.deletions;K===null?(H.deletions=[B],H.flags|=16):K.push(B)}}function o(H,B){if(!r)return null;for(;B!==null;)i(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function h(H,B){return H=vs(H,B),H.index=0,H.sibling=null,H}function g(H,B,K){return H.index=K,r?(K=H.alternate,K!==null?(K=K.index,K<B?(H.flags|=67108866,B):K):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function E(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function T(H,B,K,re){return B===null||B.tag!==6?(B=Tm(K,H.mode,re),B.return=H,B):(B=h(B,K),B.return=H,B)}function j(H,B,K,re){var ge=K.type;return ge===O?ne(H,B,K.props.children,re,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&I0(ge)===B.type)?(B=h(B,K.props),bc(B,K),B.return=H,B):(B=pd(K.type,K.key,K.props,null,H.mode,re),bc(B,K),B.return=H,B)}function Q(H,B,K,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Am(K,H.mode,re),B.return=H,B):(B=h(B,K.children||[]),B.return=H,B)}function ne(H,B,K,re,ge){return B===null||B.tag!==7?(B=ya(K,H.mode,re,ge),B.return=H,B):(B=h(B,K),B.return=H,B)}function ie(H,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Tm(""+B,H.mode,K),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return K=pd(B.type,B.key,B.props,null,H.mode,K),bc(K,B),K.return=H,K;case S:return B=Am(B,H.mode,K),B.return=H,B;case A:var re=B._init;return B=re(B._payload),ie(H,B,K)}if(Ce(B)||z(B))return B=ya(B,H.mode,K,null),B.return=H,B;if(typeof B.then=="function")return ie(H,Dd(B),K);if(B.$$typeof===L)return ie(H,_d(H,B),K);Od(H,B)}return null}function X(H,B,K,re){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:T(H,B,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ge?j(H,B,K,re):null;case S:return K.key===ge?Q(H,B,K,re):null;case A:return ge=K._init,K=ge(K._payload),X(H,B,K,re)}if(Ce(K)||z(K))return ge!==null?null:ne(H,B,K,re,null);if(typeof K.then=="function")return X(H,B,Dd(K),re);if(K.$$typeof===L)return X(H,B,_d(H,K),re);Od(H,K)}return null}function W(H,B,K,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get(K)||null,T(B,H,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return H=H.get(re.key===null?K:re.key)||null,j(B,H,re,ge);case S:return H=H.get(re.key===null?K:re.key)||null,Q(B,H,re,ge);case A:var Ve=re._init;return re=Ve(re._payload),W(H,B,K,re,ge)}if(Ce(re)||z(re))return H=H.get(K)||null,ne(B,H,re,ge,null);if(typeof re.then=="function")return W(H,B,K,Dd(re),ge);if(re.$$typeof===L)return W(H,B,K,_d(B,re),ge);Od(B,re)}return null}function Ne(H,B,K,re){for(var ge=null,Ve=null,be=B,Ee=B=0,Qt=null;be!==null&&Ee<K.length;Ee++){be.index>Ee?(Qt=be,be=null):Qt=be.sibling;var Qe=X(H,be,K[Ee],re);if(Qe===null){be===null&&(be=Qt);break}r&&be&&Qe.alternate===null&&i(H,be),B=g(Qe,B,Ee),Ve===null?ge=Qe:Ve.sibling=Qe,Ve=Qe,be=Qt}if(Ee===K.length)return o(H,be),Xe&&_a(H,Ee),ge;if(be===null){for(;Ee<K.length;Ee++)be=ie(H,K[Ee],re),be!==null&&(B=g(be,B,Ee),Ve===null?ge=be:Ve.sibling=be,Ve=be);return Xe&&_a(H,Ee),ge}for(be=c(be);Ee<K.length;Ee++)Qt=W(be,H,Ee,K[Ee],re),Qt!==null&&(r&&Qt.alternate!==null&&be.delete(Qt.key===null?Ee:Qt.key),B=g(Qt,B,Ee),Ve===null?ge=Qt:Ve.sibling=Qt,Ve=Qt);return r&&be.forEach(function(bi){return i(H,bi)}),Xe&&_a(H,Ee),ge}function xe(H,B,K,re){if(K==null)throw Error(s(151));for(var ge=null,Ve=null,be=B,Ee=B=0,Qt=null,Qe=K.next();be!==null&&!Qe.done;Ee++,Qe=K.next()){be.index>Ee?(Qt=be,be=null):Qt=be.sibling;var bi=X(H,be,Qe.value,re);if(bi===null){be===null&&(be=Qt);break}r&&be&&bi.alternate===null&&i(H,be),B=g(bi,B,Ee),Ve===null?ge=bi:Ve.sibling=bi,Ve=bi,be=Qt}if(Qe.done)return o(H,be),Xe&&_a(H,Ee),ge;if(be===null){for(;!Qe.done;Ee++,Qe=K.next())Qe=ie(H,Qe.value,re),Qe!==null&&(B=g(Qe,B,Ee),Ve===null?ge=Qe:Ve.sibling=Qe,Ve=Qe);return Xe&&_a(H,Ee),ge}for(be=c(be);!Qe.done;Ee++,Qe=K.next())Qe=W(be,H,Ee,Qe.value,re),Qe!==null&&(r&&Qe.alternate!==null&&be.delete(Qe.key===null?Ee:Qe.key),B=g(Qe,B,Ee),Ve===null?ge=Qe:Ve.sibling=Qe,Ve=Qe);return r&&be.forEach(function(I2){return i(H,I2)}),Xe&&_a(H,Ee),ge}function at(H,B,K,re){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ge=K.key;B!==null;){if(B.key===ge){if(ge=K.type,ge===O){if(B.tag===7){o(H,B.sibling),re=h(B,K.props.children),re.return=H,H=re;break e}}else if(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&I0(ge)===B.type){o(H,B.sibling),re=h(B,K.props),bc(re,K),re.return=H,H=re;break e}o(H,B);break}else i(H,B);B=B.sibling}K.type===O?(re=ya(K.props.children,H.mode,re,K.key),re.return=H,H=re):(re=pd(K.type,K.key,K.props,null,H.mode,re),bc(re,K),re.return=H,H=re)}return E(H);case S:e:{for(ge=K.key;B!==null;){if(B.key===ge)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(H,B.sibling),re=h(B,K.children||[]),re.return=H,H=re;break e}else{o(H,B);break}else i(H,B);B=B.sibling}re=Am(K,H.mode,re),re.return=H,H=re}return E(H);case A:return ge=K._init,K=ge(K._payload),at(H,B,K,re)}if(Ce(K))return Ne(H,B,K,re);if(z(K)){if(ge=z(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),xe(H,B,K,re)}if(typeof K.then=="function")return at(H,B,Dd(K),re);if(K.$$typeof===L)return at(H,B,_d(H,K),re);Od(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(H,B.sibling),re=h(B,K),re.return=H,H=re):(o(H,B),re=Tm(K,H.mode,re),re.return=H,H=re),E(H)):o(H,B)}return function(H,B,K,re){try{_c=0;var ge=at(H,B,K,re);return Io=null,ge}catch(be){if(be===uc||be===wd)throw be;var Ve=Pn(29,be,null,H.mode);return Ve.lanes=re,Ve.return=H,Ve}finally{}}}var Mo=M0(!0),D0=M0(!1),rr=te(null),Ur=null;function ii(r){var i=r.alternate;oe(zt,zt.current&1),oe(rr,r),Ur===null&&(i===null||So.current!==null||i.memoizedState!==null)&&(Ur=r)}function O0(r){if(r.tag===22){if(oe(zt,zt.current),oe(rr,r),Ur===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Ur=r)}}else ai()}function ai(){oe(zt,zt.current),oe(rr,rr.current)}function Ts(r){de(rr),Ur===r&&(Ur=null),de(zt)}var zt=te(0);function kd(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Kp(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function sp(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:v({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ip={enqueueSetState:function(r,i,o){r=r._reactInternals;var c=Un(),h=ni(c);h.payload=i,o!=null&&(h.callback=o),i=ri(r,h,c),i!==null&&(zn(i,r,c),hc(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=Un(),h=ni(c);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=ri(r,h,c),i!==null&&(zn(i,r,c),hc(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Un(),c=ni(o);c.tag=2,i!=null&&(c.callback=i),i=ri(r,c,o),i!==null&&(zn(i,r,o),hc(i,r,o))}};function k0(r,i,o,c,h,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!nc(o,c)||!nc(h,g):!0}function P0(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&ip.enqueueReplaceState(i,i.state,null)}function Sa(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function j0(r){Pd(r)}function V0(r){console.error(r)}function L0(r){Pd(r)}function jd(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function U0(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ap(r,i,o){return o=ni(o),o.tag=3,o.payload={element:null},o.callback=function(){jd(r,i)},o}function z0(r){return r=ni(r),r.tag=3,r}function B0(r,i,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){U0(i,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){U0(i,o,c),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function IN(r,i,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&oc(i,o,h,!0),o=rr.current,o!==null){switch(o.tag){case 13:return Ur===null?Ip():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Pm?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Dp(r,c,h)),!1;case 22:return o.flags|=65536,c===Pm?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Dp(r,c,h)),!1}throw Error(s(435,o.tag))}return Dp(r,c,h),Ip(),!1}if(Xe)return i=rr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==Nm&&(r=Error(s(422),{cause:c}),ac(Jn(r,o)))):(c!==Nm&&(i=Error(s(423),{cause:c}),ac(Jn(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Jn(c,o),h=ap(r.stateNode,c,h),Lm(r,h),wt!==4&&(wt=2)),!1;var g=Error(s(520),{cause:c});if(g=Jn(g,o),Rc===null?Rc=[g]:Rc.push(g),wt!==4&&(wt=2),i===null)return!0;c=Jn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=ap(o.stateNode,c,r),Lm(o,r),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hi===null||!hi.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=z0(h),B0(h,r,o,c),Lm(o,h),!1}o=o.return}while(o!==null);return!1}var F0=Error(s(461)),Kt=!1;function Jt(r,i,o,c){i.child=r===null?D0(i,null,o,c):Mo(i,r.child,o,c)}function q0(r,i,o,c,h){o=o.render;var g=i.ref;if("ref"in c){var E={};for(var T in c)T!=="ref"&&(E[T]=c[T])}else E=c;return Ea(i),c=qm(r,i,o,E,g,h),T=Hm(),r!==null&&!Kt?(Gm(r,i,h),As(r,i,h)):(Xe&&T&&Sm(i),i.flags|=1,Jt(r,i,c,h),i.child)}function H0(r,i,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Em(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,G0(r,i,g,c,h)):(r=pd(o.type,null,c,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!mp(r,h)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:nc,o(E,c)&&r.ref===i.ref)return As(r,i,h)}return i.flags|=1,r=vs(g,c),r.ref=i.ref,r.return=i,i.child=r}function G0(r,i,o,c,h){if(r!==null){var g=r.memoizedProps;if(nc(g,c)&&r.ref===i.ref)if(Kt=!1,i.pendingProps=c=g,mp(r,h))(r.flags&131072)!==0&&(Kt=!0);else return i.lanes=r.lanes,As(r,i,h)}return op(r,i,o,c,h)}function $0(r,i,o){var c=i.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,r!==null){for(h=i.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return K0(r,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&bd(i,g!==null?g.cachePool:null),g!==null?G_(i,g):zm(),O0(i);else return i.lanes=i.childLanes=536870912,K0(r,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(bd(i,g.cachePool),G_(i,g),ai(),i.memoizedState=null):(r!==null&&bd(i,null),zm(),ai());return Jt(r,i,h,o),i.child}function K0(r,i,o,c){var h=km();return h=h===null?null:{parent:Ut._currentValue,pool:h},i.memoizedState={baseLanes:o,cachePool:h},r!==null&&bd(i,null),zm(),O0(i),r!==null&&oc(r,i,c,!0),null}function Vd(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function op(r,i,o,c,h){return Ea(i),o=qm(r,i,o,c,void 0,h),c=Hm(),r!==null&&!Kt?(Gm(r,i,h),As(r,i,h)):(Xe&&c&&Sm(i),i.flags|=1,Jt(r,i,o,h),i.child)}function Y0(r,i,o,c,h,g){return Ea(i),i.updateQueue=null,o=K_(i,c,o,h),$_(r),c=Hm(),r!==null&&!Kt?(Gm(r,i,g),As(r,i,g)):(Xe&&c&&Sm(i),i.flags|=1,Jt(r,i,o,g),i.child)}function Q0(r,i,o,c,h){if(Ea(i),i.stateNode===null){var g=wo,E=o.contextType;typeof E=="object"&&E!==null&&(g=ln(E)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ip,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},jm(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?ln(E):wo,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(sp(i,o,E,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&ip.enqueueReplaceState(g,g.state,null),mc(i,c,g,h),fc(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){g=i.stateNode;var T=i.memoizedProps,j=Sa(o,T);g.props=j;var Q=g.context,ne=o.contextType;E=wo,typeof ne=="object"&&ne!==null&&(E=ln(ne));var ie=o.getDerivedStateFromProps;ne=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||Q!==E)&&P0(i,g,c,E),ti=!1;var X=i.memoizedState;g.state=X,mc(i,c,g,h),fc(),Q=i.memoizedState,T||X!==Q||ti?(typeof ie=="function"&&(sp(i,o,ie,c),Q=i.memoizedState),(j=ti||k0(i,o,j,c,X,Q,E))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Q),g.props=c,g.state=Q,g.context=E,c=j):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Vm(r,i),E=i.memoizedProps,ne=Sa(o,E),g.props=ne,ie=i.pendingProps,X=g.context,Q=o.contextType,j=wo,typeof Q=="object"&&Q!==null&&(j=ln(Q)),T=o.getDerivedStateFromProps,(Q=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ie||X!==j)&&P0(i,g,c,j),ti=!1,X=i.memoizedState,g.state=X,mc(i,c,g,h),fc();var W=i.memoizedState;E!==ie||X!==W||ti||r!==null&&r.dependencies!==null&&vd(r.dependencies)?(typeof T=="function"&&(sp(i,o,T,c),W=i.memoizedState),(ne=ti||k0(i,o,ne,c,X,W,j)||r!==null&&r.dependencies!==null&&vd(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,j)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=W),g.props=c,g.state=W,g.context=j,c=ne):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),c=!1)}return g=c,Vd(r,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&c?(i.child=Mo(i,r.child,null,h),i.child=Mo(i,null,o,h)):Jt(r,i,o,h),i.memoizedState=g.state,r=i.child):r=As(r,i,h),r}function X0(r,i,o,c){return ic(),i.flags|=256,Jt(r,i,o,c),i.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(r){return{baseLanes:r,cachePool:V_()}}function up(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=sr),r}function W0(r,i,o){var c=i.pendingProps,h=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(zt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(Xe){if(h?ii(i):ai(),Xe){var T=bt,j;if(j=T){e:{for(j=T,T=Lr;j.nodeType!==8;){if(!T){T=null;break e}if(j=pr(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(i.memoizedState={dehydrated:T,treeContext:va!==null?{id:_s,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},j=Pn(18,null,null,0),j.stateNode=T,j.return=i,i.child=j,_n=i,bt=null,j=!0):j=!1}j||wa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Kp(T)?i.lanes=32:i.lanes=536870912,null;Ts(i)}return T=c.children,c=c.fallback,h?(ai(),h=i.mode,T=Ld({mode:"hidden",children:T},h),c=ya(c,h,o,null),T.return=i,c.return=i,T.sibling=c,i.child=T,h=i.child,h.memoizedState=cp(o),h.childLanes=up(r,E,o),i.memoizedState=lp,c):(ii(i),dp(i,T))}if(j=r.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(g)i.flags&256?(ii(i),i.flags&=-257,i=hp(r,i,o)):i.memoizedState!==null?(ai(),i.child=r.child,i.flags|=128,i=null):(ai(),h=c.fallback,T=i.mode,c=Ld({mode:"visible",children:c.children},T),h=ya(h,T,o,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,Mo(i,r.child,null,o),c=i.child,c.memoizedState=cp(o),c.childLanes=up(r,E,o),i.memoizedState=lp,i=h);else if(ii(i),Kp(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var Q=E.dgst;E=Q,c=Error(s(419)),c.stack="",c.digest=E,ac({value:c,source:null,stack:null}),i=hp(r,i,o)}else if(Kt||oc(r,i,o,!1),E=(o&r.childLanes)!==0,Kt||E){if(E=ct,E!==null&&(c=o&-o,c=(c&42)!==0?1:Ks(c),c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,bo(r,c),zn(E,r,c),F0;T.data==="$?"||Ip(),i=hp(r,i,o)}else T.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=j.treeContext,bt=pr(T.nextSibling),_n=i,Xe=!0,ba=null,Lr=!1,r!==null&&(tr[nr++]=_s,tr[nr++]=bs,tr[nr++]=va,_s=r.id,bs=r.overflow,va=i),i=dp(i,c.children),i.flags|=4096);return i}return h?(ai(),h=c.fallback,T=i.mode,j=r.child,Q=j.sibling,c=vs(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,Q!==null?h=vs(Q,h):(h=ya(h,T,o,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,T=r.child.memoizedState,T===null?T=cp(o):(j=T.cachePool,j!==null?(Q=Ut._currentValue,j=j.parent!==Q?{parent:Q,pool:Q}:j):j=V_(),T={baseLanes:T.baseLanes|o,cachePool:j}),h.memoizedState=T,h.childLanes=up(r,E,o),i.memoizedState=lp,c):(ii(i),o=r.child,r=o.sibling,o=vs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function dp(r,i){return i=Ld({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ld(r,i){return r=Pn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function hp(r,i,o){return Mo(i,r.child,null,o),r=dp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Z0(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Im(r.return,i,o)}function fp(r,i,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function J0(r,i,o){var c=i.pendingProps,h=c.revealOrder,g=c.tail;if(Jt(r,i,c.children,o),c=zt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Z0(r,o,i);else if(r.tag===19)Z0(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(oe(zt,c),h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&kd(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),fp(i,!1,h,o,g);break;case"backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&kd(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}fp(i,!0,o,null,g);break;case"together":fp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function As(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),di|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(oc(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=vs(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=vs(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function mp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&vd(r)))}function MN(r,i,o){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),ei(i,Ut,r.memoizedState.cache),ic();break;case 27:case 5:Pt(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:ei(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ii(i),i.flags|=128,null):(o&i.child.childLanes)!==0?W0(r,i,o):(ii(i),r=As(r,i,o),r!==null?r.sibling:null);ii(i);break;case 19:var h=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(oc(r,i,o,!1),c=(o&i.childLanes)!==0),h){if(c)return J0(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(zt,zt.current),c)break;return null;case 22:case 23:return i.lanes=0,$0(r,i,o);case 24:ei(i,Ut,r.memoizedState.cache)}return As(r,i,o)}function eb(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Kt=!0;else{if(!mp(r,o)&&(i.flags&128)===0)return Kt=!1,MN(r,i,o);Kt=(r.flags&131072)!==0}else Kt=!1,Xe&&(i.flags&1048576)!==0&&I_(i,yd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,h=c._init;if(c=h(c._payload),i.type=c,typeof c=="function")Em(c)?(r=Sa(c,r),i.tag=1,i=Q0(null,i,c,r,o)):(i.tag=0,i=op(null,i,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===G){i.tag=11,i=q0(null,i,c,r,o);break e}else if(h===C){i.tag=14,i=H0(null,i,c,r,o);break e}}throw i=Se(c)||c,Error(s(306,i,""))}}return i;case 0:return op(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,h=Sa(c,i.pendingProps),Q0(r,i,c,h,o);case 3:e:{if(He(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var g=i.memoizedState;h=g.element,Vm(r,i),mc(i,c,null,o);var E=i.memoizedState;if(c=E.cache,ei(i,Ut,c),c!==g.cache&&Mm(i,[Ut],o,!0),fc(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=X0(r,i,c,o);break e}else if(c!==h){h=Jn(Error(s(424)),i),ac(h),i=X0(r,i,c,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=pr(r.firstChild),_n=i,Xe=!0,ba=null,Lr=!0,o=D0(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ic(),c===h){i=As(r,i,o);break e}Jt(r,i,c,o)}i=i.child}return i;case 26:return Vd(r,i),r===null?(o=sw(i.type,null,i.pendingProps,null))?i.memoizedState=o:Xe||(o=i.type,r=i.pendingProps,c=Zd(_e.current).createElement(o),c[jt]=i,c[Nt]=r,tn(c,o,r),Tt(c),i.stateNode=c):i.memoizedState=sw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Pt(i),r===null&&Xe&&(c=i.stateNode=tw(i.type,i.pendingProps,_e.current),_n=i,Lr=!0,h=bt,pi(i.type)?(Yp=h,bt=pr(c.firstChild)):bt=h),Jt(r,i,i.pendingProps.children,o),Vd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Xe&&((h=c=bt)&&(c=i2(c,i.type,i.pendingProps,Lr),c!==null?(i.stateNode=c,_n=i,bt=pr(c.firstChild),Lr=!1,h=!0):h=!1),h||wa(i)),Pt(i),h=i.type,g=i.pendingProps,E=r!==null?r.memoizedProps:null,c=g.children,Hp(h,g)?c=null:E!==null&&Hp(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=qm(r,i,EN,null,null,o),jc._currentValue=h),Vd(r,i),Jt(r,i,c,o),i.child;case 6:return r===null&&Xe&&((r=o=bt)&&(o=a2(o,i.pendingProps,Lr),o!==null?(i.stateNode=o,_n=i,bt=null,r=!0):r=!1),r||wa(i)),null;case 13:return W0(r,i,o);case 4:return He(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Mo(i,null,c,o):Jt(r,i,c,o),i.child;case 11:return q0(r,i,i.type,i.pendingProps,o);case 7:return Jt(r,i,i.pendingProps,o),i.child;case 8:return Jt(r,i,i.pendingProps.children,o),i.child;case 12:return Jt(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,ei(i,i.type,c.value),Jt(r,i,c.children,o),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,Ea(i),h=ln(h),c=c(h),i.flags|=1,Jt(r,i,c,o),i.child;case 14:return H0(r,i,i.type,i.pendingProps,o);case 15:return G0(r,i,i.type,i.pendingProps,o);case 19:return J0(r,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},r===null?(o=Ld(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=vs(r.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return $0(r,i,o);case 24:return Ea(i),c=ln(Ut),r===null?(h=km(),h===null&&(h=ct,g=Dm(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),i.memoizedState={parent:c,cache:h},jm(i),ei(i,Ut,h)):((r.lanes&o)!==0&&(Vm(r,i),mc(i,null,null,o),fc()),h=r.memoizedState,g=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ei(i,Ut,c)):(c=g.cache,ei(i,Ut,c),c!==h.cache&&Mm(i,[Ut],o,!0))),Jt(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ss(r){r.flags|=4}function tb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!cw(i)){if(i=rr.current,i!==null&&((Ke&4194048)===Ke?Ur!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||i!==Ur))throw dc=Pm,L_;r.flags|=8192}}function Ud(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ll():536870912,r.lanes|=i,Po|=i)}function wc(r,i){if(!Xe)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function gt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function DN(r,i,o){var c=i.pendingProps;switch(Rm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),xs(Ut),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(sc(i)?Ss(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,O_())),gt(i),null;case 26:return o=i.memoizedState,r===null?(Ss(i),o!==null?(gt(i),tb(i,o)):(gt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(Ss(i),gt(i),tb(i,o)):(gt(i),i.flags&=-16777217):(r.memoizedProps!==c&&Ss(i),gt(i),i.flags&=-16777217),null;case 27:an(i),o=_e.current;var h=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&Ss(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return gt(i),null}r=fe.current,sc(i)?M_(i):(r=tw(h,c,o),i.stateNode=r,Ss(i))}return gt(i),null;case 5:if(an(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&Ss(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(r=fe.current,sc(i))M_(i);else{switch(h=Zd(_e.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[jt]=i,r[Nt]=c;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=r;e:switch(tn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ss(i)}}return gt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&Ss(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=_e.current,sc(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,h=_n,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[jt]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Yb(r.nodeValue,o)),r||wa(i)}else r=Zd(r).createTextNode(c),r[jt]=i,i.stateNode=r}return gt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=sc(i),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[jt]=i}else ic(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=O_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ts(i),i):(Ts(i),null)}if(Ts(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),Ud(i,i.updateQueue),gt(i),null;case 4:return nt(),r===null&&Up(i.stateNode.containerInfo),gt(i),null;case 10:return xs(i.type),gt(i),null;case 19:if(de(zt),h=i.memoizedState,h===null)return gt(i),null;if(c=(i.flags&128)!==0,g=h.rendering,g===null)if(c)wc(h,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=kd(r),g!==null){for(i.flags|=128,wc(h,!1),r=g.updateQueue,i.updateQueue=r,Ud(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)C_(o,r),o=o.sibling;return oe(zt,zt.current&1|2),i.child}r=r.sibling}h.tail!==null&&En()>Fd&&(i.flags|=128,c=!0,wc(h,!1),i.lanes=4194304)}else{if(!c)if(r=kd(g),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,Ud(i,r),wc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Xe)return gt(i),null}else 2*En()-h.renderingStartTime>Fd&&o!==536870912&&(i.flags|=128,c=!0,wc(h,!1),i.lanes=4194304);h.isBackwards?(g.sibling=i.child,i.child=g):(r=h.last,r!==null?r.sibling=g:i.child=g,h.last=g)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,r=zt.current,oe(zt,c?r&1|2:r&1),i):(gt(i),null);case 22:case 23:return Ts(i),Bm(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),o=i.updateQueue,o!==null&&Ud(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&de(Ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xs(Ut),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ON(r,i){switch(Rm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return xs(Ut),nt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return an(i),null;case 13:if(Ts(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ic()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return de(zt),null;case 4:return nt(),null;case 10:return xs(i.type),null;case 22:case 23:return Ts(i),Bm(),r!==null&&de(Ta),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return xs(Ut),null;case 25:return null;default:return null}}function nb(r,i){switch(Rm(i),i.tag){case 3:xs(Ut),nt();break;case 26:case 27:case 5:an(i);break;case 4:nt();break;case 13:Ts(i);break;case 19:de(zt);break;case 10:xs(i.type);break;case 22:case 23:Ts(i),Bm(),r!==null&&de(Ta);break;case 24:xs(Ut)}}function xc(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==h)}}catch(T){ot(i,i.return,T)}}function oi(r,i,o){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var E=c.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=i;var j=o,Q=T;try{Q()}catch(ne){ot(h,j,ne)}}}c=c.next}while(c!==g)}}catch(ne){ot(i,i.return,ne)}}function rb(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{H_(i,o)}catch(c){ot(r,r.return,c)}}}function sb(r,i,o){o.props=Sa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ot(r,i,c)}}function Ec(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(h){ot(r,i,h)}}function zr(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){ot(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(r,i,h)}else o.current=null}function ib(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){ot(r,r.return,h)}}function pp(r,i,o){try{var c=r.stateNode;e2(c,r.type,o,i),c[Nt]=i}catch(h){ot(r,r.return,h)}}function ab(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&pi(r.type)||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ab(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&pi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yp(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Wd));else if(c!==4&&(c===27&&pi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(yp(r,i,o),r=r.sibling;r!==null;)yp(r,i,o),r=r.sibling}function zd(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(c===27&&pi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(zd(r,i,o),r=r.sibling;r!==null;)zd(r,i,o),r=r.sibling}function ob(r){var i=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,c,o),i[jt]=r,i[Nt]=o}catch(g){ot(r,r.return,g)}}var Rs=!1,St=!1,vp=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function kN(r,i){if(r=r.containerInfo,Fp=sh,r=__(r),gm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,T=-1,j=-1,Q=0,ne=0,ie=r,X=null;t:for(;;){for(var W;ie!==o||h!==0&&ie.nodeType!==3||(T=E+h),ie!==g||c!==0&&ie.nodeType!==3||(j=E+c),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)X=ie,ie=W;for(;;){if(ie===r)break t;if(X===o&&++Q===h&&(T=E),X===g&&++ne===c&&(j=E),(W=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=W}o=T===-1||j===-1?null:{start:T,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(qp={focusedElem:r,selectionRange:o},sh=!1,Yt=i;Yt!==null;)if(i=Yt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Yt=r;else for(;Yt!==null;){switch(i=Yt,g=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=i,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ne=Sa(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Ne,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(xe){ot(o,o.return,xe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)$p(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Yt=r;break}Yt=i.return}}function cb(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:li(r,o),c&4&&xc(5,o);break;case 1:if(li(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(E){ot(o,o.return,E)}else{var h=Sa(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}c&64&&rb(o),c&512&&Ec(o,o.return);break;case 3:if(li(r,o),c&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{H_(r,i)}catch(E){ot(o,o.return,E)}}break;case 27:i===null&&c&4&&ob(o);case 26:case 5:li(r,o),i===null&&c&4&&ib(o),c&512&&Ec(o,o.return);break;case 12:li(r,o);break;case 13:li(r,o),c&4&&hb(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=qN.bind(null,o),o2(r,o))));break;case 22:if(c=o.memoizedState!==null||Rs,!c){i=i!==null&&i.memoizedState!==null||St,h=Rs;var g=St;Rs=c,(St=i)&&!g?ci(r,o,(o.subtreeFlags&8772)!==0):li(r,o),Rs=h,St=g}break;case 30:break;default:li(r,o)}}function ub(r){var i=r.alternate;i!==null&&(r.alternate=null,ub(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Xs(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,An=!1;function Ns(r,i,o){for(o=o.child;o!==null;)db(r,i,o),o=o.sibling}function db(r,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:St||zr(o,i),Ns(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||zr(o,i);var c=ft,h=An;pi(o.type)&&(ft=o.stateNode,An=!1),Ns(r,i,o),Dc(o.stateNode),ft=c,An=h;break;case 5:St||zr(o,i);case 6:if(c=ft,h=An,ft=null,Ns(r,i,o),ft=c,An=h,ft!==null)if(An)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){ot(o,i,g)}else try{ft.removeChild(o.stateNode)}catch(g){ot(o,i,g)}break;case 18:ft!==null&&(An?(r=ft,Jb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),zc(r)):Jb(ft,o.stateNode));break;case 4:c=ft,h=An,ft=o.stateNode.containerInfo,An=!0,Ns(r,i,o),ft=c,An=h;break;case 0:case 11:case 14:case 15:St||oi(2,o,i),St||oi(4,o,i),Ns(r,i,o);break;case 1:St||(zr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&sb(o,i,c)),Ns(r,i,o);break;case 21:Ns(r,i,o);break;case 22:St=(c=St)||o.memoizedState!==null,Ns(r,i,o),St=c;break;default:Ns(r,i,o)}}function hb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zc(r)}catch(o){ot(i,i.return,o)}}function PN(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new lb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new lb),i;default:throw Error(s(435,r.tag))}}function _p(r,i){var o=PN(r);i.forEach(function(c){var h=HN.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function jn(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(pi(T.type)){ft=T.stateNode,An=!1;break e}break;case 5:ft=T.stateNode,An=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(ft===null)throw Error(s(160));db(g,E,h),ft=null,An=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fb(i,r),i=i.sibling}var mr=null;function fb(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:jn(i,r),Vn(r),c&4&&(oi(3,r,r.return),xc(3,r),oi(5,r,r.return));break;case 1:jn(i,r),Vn(r),c&512&&(St||o===null||zr(o,o.return)),c&64&&Rs&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=mr;if(jn(i,r),Vn(r),c&512&&(St||o===null||zr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ta]||g[jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),tn(g,c,o),g[jt]=r,Tt(g),c=g;break e;case"link":var E=ow("link","href",h).get(c+(o.href||""));if(E){for(var T=0;T<E.length;T++)if(g=E[T],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(T,1);break t}}g=h.createElement(c),tn(g,c,o),h.head.appendChild(g);break;case"meta":if(E=ow("meta","content",h).get(c+(o.content||""))){for(T=0;T<E.length;T++)if(g=E[T],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(T,1);break t}}g=h.createElement(c),tn(g,c,o),h.head.appendChild(g);break;default:throw Error(s(468,c))}g[jt]=r,Tt(g),c=g}r.stateNode=c}else lw(h,r.type,r.stateNode);else r.stateNode=aw(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?lw(h,r.type,r.stateNode):aw(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&pp(r,r.memoizedProps,o.memoizedProps)}break;case 27:jn(i,r),Vn(r),c&512&&(St||o===null||zr(o,o.return)),o!==null&&c&4&&pp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(jn(i,r),Vn(r),c&512&&(St||o===null||zr(o,o.return)),r.flags&32){h=r.stateNode;try{Qn(h,"")}catch(W){ot(r,r.return,W)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,pp(r,h,o!==null?o.memoizedProps:h)),c&1024&&(vp=!0);break;case 6:if(jn(i,r),Vn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(W){ot(r,r.return,W)}}break;case 3:if(th=null,h=mr,mr=Jd(i.containerInfo),jn(i,r),mr=h,Vn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{zc(i.containerInfo)}catch(W){ot(r,r.return,W)}vp&&(vp=!1,mb(r));break;case 4:c=mr,mr=Jd(r.stateNode.containerInfo),jn(i,r),Vn(r),mr=c;break;case 12:jn(i,r),Vn(r);break;case 13:jn(i,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ap=En()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_p(r,c)));break;case 22:h=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,Q=Rs,ne=St;if(Rs=Q||h,St=ne||j,jn(i,r),St=ne,Rs=Q,Vn(r),c&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||j||Rs||St||Ra(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){j=o=i;try{if(g=j.stateNode,h)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=j.stateNode;var ie=j.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){ot(j,j.return,W)}}}else if(i.tag===6){if(o===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(W){ot(j,j.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,_p(r,o))));break;case 19:jn(i,r),Vn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_p(r,c)));break;case 30:break;case 21:break;default:jn(i,r),Vn(r)}}function Vn(r){var i=r.flags;if(i&2){try{for(var o,c=r.return;c!==null;){if(ab(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,g=gp(r);zd(r,g,h);break;case 5:var E=o.stateNode;o.flags&32&&(Qn(E,""),o.flags&=-33);var T=gp(r);zd(r,T,E);break;case 3:case 4:var j=o.stateNode.containerInfo,Q=gp(r);yp(r,Q,j);break;default:throw Error(s(161))}}catch(ne){ot(r,r.return,ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function mb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;mb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function li(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cb(r,i.alternate,i),i=i.sibling}function Ra(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:oi(4,i,i.return),Ra(i);break;case 1:zr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&sb(i,i.return,o),Ra(i);break;case 27:Dc(i.stateNode);case 26:case 5:zr(i,i.return),Ra(i);break;case 22:i.memoizedState===null&&Ra(i);break;case 30:Ra(i);break;default:Ra(i)}r=r.sibling}}function ci(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=r,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:ci(h,g,o),xc(4,g);break;case 1:if(ci(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){ot(c,c.return,Q)}if(c=g,h=c.updateQueue,h!==null){var T=c.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)q_(j[h],T)}catch(Q){ot(c,c.return,Q)}}o&&E&64&&rb(g),Ec(g,g.return);break;case 27:ob(g);case 26:case 5:ci(h,g,o),o&&c===null&&E&4&&ib(g),Ec(g,g.return);break;case 12:ci(h,g,o);break;case 13:ci(h,g,o),o&&E&4&&hb(h,g);break;case 22:g.memoizedState===null&&ci(h,g,o),Ec(g,g.return);break;case 30:break;default:ci(h,g,o)}i=i.sibling}}function bp(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&lc(o))}function wp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&lc(r))}function Br(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pb(r,i,o,c),i=i.sibling}function pb(r,i,o,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Br(r,i,o,c),h&2048&&xc(9,i);break;case 1:Br(r,i,o,c);break;case 3:Br(r,i,o,c),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&lc(r)));break;case 12:if(h&2048){Br(r,i,o,c),r=i.stateNode;try{var g=i.memoizedProps,E=g.id,T=g.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){ot(i,i.return,j)}}else Br(r,i,o,c);break;case 13:Br(r,i,o,c);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?Br(r,i,o,c):Tc(r,i):g._visibility&2?Br(r,i,o,c):(g._visibility|=2,Do(r,i,o,c,(i.subtreeFlags&10256)!==0)),h&2048&&bp(E,i);break;case 24:Br(r,i,o,c),h&2048&&wp(i.alternate,i);break;default:Br(r,i,o,c)}}function Do(r,i,o,c,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=r,E=i,T=o,j=c,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Do(g,E,T,j,h),xc(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?Do(g,E,T,j,h):Tc(g,E):(ne._visibility|=2,Do(g,E,T,j,h)),h&&Q&2048&&bp(E.alternate,E);break;case 24:Do(g,E,T,j,h),h&&Q&2048&&wp(E.alternate,E);break;default:Do(g,E,T,j,h)}i=i.sibling}}function Tc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,h=c.flags;switch(c.tag){case 22:Tc(o,c),h&2048&&bp(c.alternate,c);break;case 24:Tc(o,c),h&2048&&wp(c.alternate,c);break;default:Tc(o,c)}i=i.sibling}}var Ac=8192;function Oo(r){if(r.subtreeFlags&Ac)for(r=r.child;r!==null;)gb(r),r=r.sibling}function gb(r){switch(r.tag){case 26:Oo(r),r.flags&Ac&&r.memoizedState!==null&&b2(mr,r.memoizedState,r.memoizedProps);break;case 5:Oo(r);break;case 3:case 4:var i=mr;mr=Jd(r.stateNode.containerInfo),Oo(r),mr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Ac,Ac=16777216,Oo(r),Ac=i):Oo(r));break;default:Oo(r)}}function yb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Sc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yt=c,_b(c,r)}yb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vb(r),r=r.sibling}function vb(r){switch(r.tag){case 0:case 11:case 15:Sc(r),r.flags&2048&&oi(9,r,r.return);break;case 3:Sc(r);break;case 12:Sc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Bd(r)):Sc(r);break;default:Sc(r)}}function Bd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yt=c,_b(c,r)}yb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:oi(8,i,i.return),Bd(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Bd(i));break;default:Bd(i)}r=r.sibling}}function _b(r,i){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:oi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=r;Yt!==null;){c=Yt;var h=c.sibling,g=c.return;if(ub(c),c===o){Yt=null;break e}if(h!==null){h.return=g,Yt=h;break e}Yt=g}}}var jN={getCacheForType:function(r){var i=ln(Ut),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},VN=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Le=null,Ke=0,tt=0,Ln=null,ui=!1,ko=!1,xp=!1,Cs=0,wt=0,di=0,Na=0,Ep=0,sr=0,Po=0,Rc=null,Sn=null,Tp=!1,Ap=0,Fd=1/0,qd=null,hi=null,en=0,fi=null,jo=null,Vo=0,Sp=0,Rp=null,bb=null,Nc=0,Np=null;function Un(){if((et&2)!==0&&Ke!==0)return Ke&-Ke;if(Y.T!==null){var r=To;return r!==0?r:Pp()}return Ys()}function wb(){sr===0&&(sr=(Ke&536870912)===0||Xe?Vl():536870912);var r=rr.current;return r!==null&&(r.flags|=32),sr}function zn(r,i,o){(r===ct&&(tt===2||tt===9)||r.cancelPendingCommit!==null)&&(Lo(r,0),mi(r,Ke,sr,!1)),os(r,o),((et&2)===0||r!==ct)&&(r===ct&&((et&2)===0&&(Na|=o),wt===4&&mi(r,Ke,sr,!1)),Fr(r))}function xb(r,i,o){if((et&6)!==0)throw Error(s(327));var c=!o&&(i&124)===0&&(i&r.expiredLanes)===0||ea(r,i),h=c?zN(r,i):Mp(r,i,!0),g=c;do{if(h===0){ko&&!c&&mi(r,i,0,!1);break}else{if(o=r.current.alternate,g&&!LN(o)){h=Mp(r,i,!1),g=!1;continue}if(h===2){if(g=i,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=r;h=Rc;var j=T.current.memoizedState.isDehydrated;if(j&&(Lo(T,E).flags|=256),E=Mp(T,E,!1),E!==2){if(xp&&!j){T.errorRecoveryDisabledLanes|=g,Na|=g,h=4;break e}g=Sn,Sn=h,g!==null&&(Sn===null?Sn=g:Sn.push.apply(Sn,g))}h=E}if(g=!1,h!==2)continue}}if(h===1){Lo(r,0),mi(r,i,0,!0);break}e:{switch(c=r,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:mi(c,i,sr,!ui);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ap+300-En(),10<h)){if(mi(c,i,sr,!ui),eo(c,0,!0)!==0)break e;c.timeoutHandle=Wb(Eb.bind(null,c,o,Sn,qd,Tp,i,sr,Na,Po,ui,g,2,-0,0),h);break e}Eb(c,o,Sn,qd,Tp,i,sr,Na,Po,ui,g,0,-0,0)}}break}while(!0);Fr(r)}function Eb(r,i,o,c,h,g,E,T,j,Q,ne,ie,X,W){if(r.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Pc={stylesheets:null,count:0,unsuspend:_2},gb(i),ie=w2(),ie!==null)){r.cancelPendingCommit=ie(Ib.bind(null,r,i,g,o,c,h,E,T,j,ne,1,X,W)),mi(r,g,E,!Q);return}Ib(r,i,g,o,c,h,E,T,j)}function LN(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!kn(g(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(r,i,o,c){i&=~Ep,i&=~Na,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var h=i;0<h;){var g=31-on(h),E=1<<g;c[g]=-1,h&=~E}o!==0&&Rr(r,o,i)}function Hd(){return(et&6)===0?(Cc(0),!1):!0}function Cp(){if(Le!==null){if(tt===0)var r=Le.return;else r=Le,ws=xa=null,$m(r),Io=null,_c=0,r=Le;for(;r!==null;)nb(r.alternate,r),r=r.return;Le=null}}function Lo(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,n2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Cp(),ct=r,Le=o=vs(r.current,null),Ke=i,tt=0,Ln=null,ui=!1,ko=ea(r,i),xp=!1,Po=sr=Ep=Na=di=wt=0,Sn=Rc=null,Tp=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var h=31-on(c),g=1<<h;i|=r[h],c&=~g}return Cs=i,hd(),o}function Tb(r,i){ke=null,Y.H=Md,i===uc||i===wd?(i=B_(),tt=3):i===L_?(i=B_(),tt=4):tt=i===F0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,Le===null&&(wt=1,jd(r,Jn(i,r.current)))}function Ab(){var r=Y.H;return Y.H=Md,r===null?Md:r}function Sb(){var r=Y.A;return Y.A=jN,r}function Ip(){wt=4,ui||(Ke&4194048)!==Ke&&rr.current!==null||(ko=!0),(di&134217727)===0&&(Na&134217727)===0||ct===null||mi(ct,Ke,sr,!1)}function Mp(r,i,o){var c=et;et|=2;var h=Ab(),g=Sb();(ct!==r||Ke!==i)&&(qd=null,Lo(r,i)),i=!1;var E=wt;e:do try{if(tt!==0&&Le!==null){var T=Le,j=Ln;switch(tt){case 8:Cp(),E=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(i=!0);var Q=tt;if(tt=0,Ln=null,Uo(r,T,j,Q),o&&ko){E=0;break e}break;default:Q=tt,tt=0,Ln=null,Uo(r,T,j,Q)}}UN(),E=wt;break}catch(ne){Tb(r,ne)}while(!0);return i&&r.shellSuspendCounter++,ws=xa=null,et=c,Y.H=h,Y.A=g,Le===null&&(ct=null,Ke=0,hd()),E}function UN(){for(;Le!==null;)Rb(Le)}function zN(r,i){var o=et;et|=2;var c=Ab(),h=Sb();ct!==r||Ke!==i?(qd=null,Fd=En()+500,Lo(r,i)):ko=ea(r,i);e:do try{if(tt!==0&&Le!==null){i=Le;var g=Ln;t:switch(tt){case 1:tt=0,Ln=null,Uo(r,i,g,1);break;case 2:case 9:if(U_(g)){tt=0,Ln=null,Nb(i);break}i=function(){tt!==2&&tt!==9||ct!==r||(tt=7),Fr(r)},g.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:U_(g)?(tt=0,Ln=null,Nb(i)):(tt=0,Ln=null,Uo(r,i,g,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var T=Le;if(!E||cw(E)){tt=0,Ln=null;var j=T.sibling;if(j!==null)Le=j;else{var Q=T.return;Q!==null?(Le=Q,Gd(Q)):Le=null}break t}}tt=0,Ln=null,Uo(r,i,g,5);break;case 6:tt=0,Ln=null,Uo(r,i,g,6);break;case 8:Cp(),wt=6;break e;default:throw Error(s(462))}}BN();break}catch(ne){Tb(r,ne)}while(!0);return ws=xa=null,Y.H=c,Y.A=h,et=o,Le!==null?0:(ct=null,Ke=0,hd(),wt)}function BN(){for(;Le!==null&&!Qi();)Rb(Le)}function Rb(r){var i=eb(r.alternate,r,Cs);r.memoizedProps=r.pendingProps,i===null?Gd(r):Le=i}function Nb(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Y0(o,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=Y0(o,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:$m(i);default:nb(o,i),i=Le=C_(i,Cs),i=eb(o,i,Cs)}r.memoizedProps=r.pendingProps,i===null?Gd(r):Le=i}function Uo(r,i,o,c){ws=xa=null,$m(i),Io=null,_c=0;var h=i.return;try{if(IN(r,h,i,o,Ke)){wt=1,jd(r,Jn(o,r.current)),Le=null;return}}catch(g){if(h!==null)throw Le=h,g;wt=1,jd(r,Jn(o,r.current)),Le=null;return}i.flags&32768?(Xe||c===1?r=!0:ko||(Ke&536870912)!==0?r=!1:(ui=r=!0,(c===2||c===9||c===3||c===6)&&(c=rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Cb(i,r)):Gd(i)}function Gd(r){var i=r;do{if((i.flags&32768)!==0){Cb(i,ui);return}r=i.return;var o=DN(i.alternate,i,Cs);if(o!==null){Le=o;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=r}while(i!==null);wt===0&&(wt=5)}function Cb(r,i){do{var o=ON(r.alternate,r);if(o!==null){o.flags&=32767,Le=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Le=r;return}Le=r=o}while(r!==null);wt=6,Le=null}function Ib(r,i,o,c,h,g,E,T,j){r.cancelPendingCommit=null;do $d();while(en!==0);if((et&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=wm,Ul(r,o,g,E,T,j),r===ct&&(Le=ct=null,Ke=0),jo=i,fi=r,Vo=o,Sp=g,Rp=h,bb=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,GN(Xi,function(){return Pb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,h=ce.p,ce.p=2,E=et,et|=4;try{kN(r,i,o)}finally{et=E,ce.p=h,Y.T=c}}en=1,Mb(),Db(),Ob()}}function Mb(){if(en===1){en=0;var r=fi,i=jo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=ce.p;ce.p=2;var h=et;et|=4;try{fb(i,r);var g=qp,E=__(r.containerInfo),T=g.focusedElem,j=g.selectionRange;if(E!==T&&T&&T.ownerDocument&&v_(T.ownerDocument.documentElement,T)){if(j!==null&&gm(T)){var Q=j.start,ne=j.end;if(ne===void 0&&(ne=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(ne,T.value.length);else{var ie=T.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var W=X.getSelection(),Ne=T.textContent.length,xe=Math.min(j.start,Ne),at=j.end===void 0?xe:Math.min(j.end,Ne);!W.extend&&xe>at&&(E=at,at=xe,xe=E);var H=y_(T,xe),B=y_(T,at);if(H&&B&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=ie.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),xe>at?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(ie=[],W=T;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var re=ie[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}sh=!!Fp,qp=Fp=null}finally{et=h,ce.p=c,Y.T=o}}r.current=i,en=2}}function Db(){if(en===2){en=0;var r=fi,i=jo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=ce.p;ce.p=2;var h=et;et|=4;try{cb(r,i.alternate,i)}finally{et=h,ce.p=c,Y.T=o}}en=3}}function Ob(){if(en===4||en===3){en=0,Wa();var r=fi,i=jo,o=Vo,c=bb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,jo=fi=null,kb(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(hi=null),to(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Y.T,h=ce.p,ce.p=2,Y.T=null;try{for(var g=r.onRecoverableError,E=0;E<c.length;E++){var T=c[E];g(T.value,{componentStack:T.stack})}}finally{Y.T=i,ce.p=h}}(Vo&3)!==0&&$d(),Fr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Np?Nc++:(Nc=0,Np=r):Nc=0,Cc(0)}}function kb(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,lc(i)))}function $d(r){return Mb(),Db(),Ob(),Pb()}function Pb(){if(en!==5)return!1;var r=fi,i=Sp;Sp=0;var o=to(Vo),c=Y.T,h=ce.p;try{ce.p=32>o?32:o,Y.T=null,o=Rp,Rp=null;var g=fi,E=Vo;if(en=0,jo=fi=null,Vo=0,(et&6)!==0)throw Error(s(331));var T=et;if(et|=4,vb(g.current),pb(g,g.current,E,o),et=T,Cc(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(_t,g)}catch{}return!0}finally{ce.p=h,Y.T=c,kb(r,i)}}function jb(r,i,o){i=Jn(o,i),i=ap(r.stateNode,i,2),r=ri(r,i,2),r!==null&&(os(r,2),Fr(r))}function ot(r,i,o){if(r.tag===3)jb(r,r,o);else for(;i!==null;){if(i.tag===3){jb(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hi===null||!hi.has(c))){r=Jn(o,r),o=z0(2),c=ri(i,o,2),c!==null&&(B0(o,c,i,r),os(c,2),Fr(c));break}}i=i.return}}function Dp(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new VN;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(o)||(xp=!0,h.add(o),r=FN.bind(null,r,i,o),i.then(r,r))}function FN(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ct===r&&(Ke&o)===o&&(wt===4||wt===3&&(Ke&62914560)===Ke&&300>En()-Ap?(et&2)===0&&Lo(r,0):Ep|=o,Po===Ke&&(Po=0)),Fr(r)}function Vb(r,i){i===0&&(i=Ll()),r=bo(r,i),r!==null&&(os(r,i),Fr(r))}function qN(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Vb(r,o)}function HN(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Vb(r,o)}function GN(r,i){return Mn(r,i)}var Kd=null,zo=null,Op=!1,Yd=!1,kp=!1,Ca=0;function Fr(r){r!==zo&&r.next===null&&(zo===null?Kd=zo=r:zo=zo.next=r),Yd=!0,Op||(Op=!0,KN())}function Cc(r,i){if(!kp&&Yd){kp=!0;do for(var o=!1,c=Kd;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var E=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-on(42|r)+1)-1,g&=h&~(E&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Bb(c,g))}else g=Ke,g=eo(c,c===ct?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ea(c,g)||(o=!0,Bb(c,g));c=c.next}while(o);kp=!1}}function $N(){Lb()}function Lb(){Yd=Op=!1;var r=0;Ca!==0&&(t2()&&(r=Ca),Ca=0);for(var i=En(),o=null,c=Kd;c!==null;){var h=c.next,g=Ub(c,i);g===0?(c.next=null,o===null?Kd=h:o.next=h,h===null&&(zo=o)):(o=c,(r!==0||(g&3)!==0)&&(Yd=!0)),c=h}Cc(r)}function Ub(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-on(g),T=1<<E,j=h[E];j===-1?((T&o)===0||(T&c)!==0)&&(h[E]=jl(T,i)):j<=i&&(r.expiredLanes|=T),g&=~T}if(i=ct,o=Ke,o=eo(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===i&&(tt===2||tt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ar(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ea(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&Ar(c),to(o)){case 2:case 8:o=Za;break;case 32:o=Xi;break;case 268435456:o=Ja;break;default:o=Xi}return c=zb.bind(null,r),o=Mn(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&Ar(c),r.callbackPriority=2,r.callbackNode=null,2}function zb(r,i){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if($d()&&r.callbackNode!==o)return null;var c=Ke;return c=eo(r,r===ct?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(xb(r,c,i),Ub(r,En()),r.callbackNode!=null&&r.callbackNode===o?zb.bind(null,r):null)}function Bb(r,i){if($d())return null;xb(r,i,!0)}function KN(){r2(function(){(et&6)!==0?Mn(Sr,$N):Lb()})}function Pp(){return Ca===0&&(Ca=Vl()),Ca}function Fb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oo(""+r)}function qb(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function YN(r,i,o,c,h){if(i==="submit"&&o&&o.stateNode===h){var g=Fb((h[Nt]||null).action),E=c.submitter;E&&(i=(i=E[Nt]||null)?Fb(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var T=new lo("action","action",null,c,h);r.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ca!==0){var j=E?qb(h,E):new FormData(h);tp(o,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(T.preventDefault(),j=E?qb(h,E):new FormData(h),tp(o,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var jp=0;jp<bm.length;jp++){var Vp=bm[jp],QN=Vp.toLowerCase(),XN=Vp[0].toUpperCase()+Vp.slice(1);fr(QN,"on"+XN)}fr(x_,"onAnimationEnd"),fr(E_,"onAnimationIteration"),fr(T_,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(fN,"onTransitionRun"),fr(mN,"onTransitionStart"),fr(pN,"onTransitionCancel"),fr(A_,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ic));function Hb(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var T=c[E],j=T.instance,Q=T.currentTarget;if(T=T.listener,j!==g&&h.isPropagationStopped())break e;g=T,h.currentTarget=Q;try{g(h)}catch(ne){Pd(ne)}h.currentTarget=null,g=j}else for(E=0;E<c.length;E++){if(T=c[E],j=T.instance,Q=T.currentTarget,T=T.listener,j!==g&&h.isPropagationStopped())break e;g=T,h.currentTarget=Q;try{g(h)}catch(ne){Pd(ne)}h.currentTarget=null,g=j}}}}function Ue(r,i){var o=i[Bl];o===void 0&&(o=i[Bl]=new Set);var c=r+"__bubble";o.has(c)||(Gb(i,r,2,!1),o.add(c))}function Lp(r,i,o){var c=0;i&&(c|=4),Gb(o,r,c,i)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function Up(r){if(!r[Qd]){r[Qd]=!0,Fl.forEach(function(o){o!=="selectionchange"&&(WN.has(o)||Lp(o,!1,r),Lp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Qd]||(i[Qd]=!0,Lp("selectionchange",!1,i))}}function Gb(r,i,o,c){switch(pw(i)){case 2:var h=T2;break;case 8:h=A2;break;default:h=Jp}o=h.bind(null,i,o,r),h=void 0,!Wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function zp(r,i,o,c,h){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var T=c.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=c.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=ls(T),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){c=g=E;continue e}T=T.parentNode}}c=c.return}Wu(function(){var Q=g,ne=Xn(o),ie=[];e:{var X=S_.get(r);if(X!==void 0){var W=lo,Ne=r;switch(r){case"keypress":if(Or(o)===0)break e;case"keydown":case"keyup":W=po;break;case"focusin":Ne="focus",W=ho;break;case"focusout":Ne="blur",W=ho;break;case"beforeblur":case"afterblur":W=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=id;break;case x_:case E_:case T_:W=fo;break;case A_:W=od;break;case"scroll":case"scrollend":W=Zu;break;case"wheel":W=go;break;case"copy":case"cut":case"paste":W=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ec;break;case"toggle":case"beforetoggle":W=cd}var xe=(i&4)!==0,at=!xe&&(r==="scroll"||r==="scrollend"),H=xe?X!==null?X+"Capture":null:X;xe=[];for(var B=Q,K;B!==null;){var re=B;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||H===null||(re=la(B,H),re!=null&&xe.push(Mc(B,re,K))),at)break;B=B.return}0<xe.length&&(X=new W(X,Ne,null,o,ne),ie.push({event:X,listeners:xe}))}}if((i&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",X&&o!==hs&&(Ne=o.relatedTarget||o.fromElement)&&(ls(Ne)||Ne[Yn]))break e;if((W||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Ne=o.relatedTarget||o.toElement,W=Q,Ne=Ne?ls(Ne):null,Ne!==null&&(at=l(Ne),xe=Ne.tag,Ne!==at||xe!==5&&xe!==27&&xe!==6)&&(Ne=null)):(W=null,Ne=Q),W!==Ne)){if(xe=Zn,re="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(xe=ec,re="onPointerLeave",H="onPointerEnter",B="pointer"),at=W==null?X:Cr(W),K=Ne==null?X:Cr(Ne),X=new xe(re,B+"leave",W,o,ne),X.target=at,X.relatedTarget=K,re=null,ls(ne)===Q&&(xe=new xe(H,B+"enter",Ne,o,ne),xe.target=K,xe.relatedTarget=at,re=xe),at=re,W&&Ne)t:{for(xe=W,H=Ne,B=0,K=xe;K;K=Bo(K))B++;for(K=0,re=H;re;re=Bo(re))K++;for(;0<B-K;)xe=Bo(xe),B--;for(;0<K-B;)H=Bo(H),K--;for(;B--;){if(xe===H||H!==null&&xe===H.alternate)break t;xe=Bo(xe),H=Bo(H)}xe=null}else xe=null;W!==null&&$b(ie,X,W,xe,!1),Ne!==null&&at!==null&&$b(ie,at,Ne,xe,!0)}}e:{if(X=Q?Cr(Q):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var ge=d_;else if(Lt(X))if(h_)ge=uN;else{ge=lN;var Ve=oN}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Kl(Q.elementType)&&(ge=d_):ge=cN;if(ge&&(ge=ge(r,Q))){ys(ie,ge,o,ne);break e}Ve&&Ve(r,X,Q),r==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Zs(X,"number",X.value)}switch(Ve=Q?Cr(Q):window,r){case"focusin":(Lt(Ve)||Ve.contentEditable==="true")&&(yo=Ve,ym=Q,rc=null);break;case"focusout":rc=ym=yo=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,b_(ie,o,ne);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":b_(ie,o,ne)}var be;if(jr)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ge?ee(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(x&&o.locale!=="ko"&&(Ge||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ge&&(be=Ql()):(Dr=ne,Js="value"in Dr?Dr.value:Dr.textContent,Ge=!0)),Ve=Xd(Q,Ee),0<Ve.length&&(Ee=new Zl(Ee,r,null,o,ne),ie.push({event:Ee,listeners:Ve}),be?Ee.data=be:(be=he(o),be!==null&&(Ee.data=be)))),(be=_?Vt(r,o):$e(r,o))&&(Ee=Xd(Q,"onBeforeInput"),0<Ee.length&&(Ve=new Zl("onBeforeInput","beforeinput",null,o,ne),ie.push({event:Ve,listeners:Ee}),Ve.data=be)),YN(ie,r,Q,o,ne)}Hb(ie,i)})}function Mc(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Xd(r,i){for(var o=i+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=la(r,o),h!=null&&c.unshift(Mc(r,h,g)),h=la(r,i),h!=null&&c.push(Mc(r,h,g))),r.tag===3)return c;r=r.return}return[]}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $b(r,i,o,c,h){for(var g=i._reactName,E=[];o!==null&&o!==c;){var T=o,j=T.alternate,Q=T.stateNode;if(T=T.tag,j!==null&&j===c)break;T!==5&&T!==26&&T!==27||Q===null||(j=Q,h?(Q=la(o,g),Q!=null&&E.unshift(Mc(o,Q,j))):h||(Q=la(o,g),Q!=null&&E.push(Mc(o,Q,j)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var ZN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function Kb(r){return(typeof r=="string"?r:""+r).replace(ZN,`
`).replace(JN,"")}function Yb(r,i){return i=Kb(i),Kb(r)===i}function Wd(){}function it(r,i,o,c,h,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Qn(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Qn(r,""+c);break;case"className":Ir(r,"class",c);break;case"tabIndex":Ir(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(r,o,c);break;case"style":$l(r,c,g);break;case"data":if(i!=="object"){Ir(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=oo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&it(r,i,"name",h.name,h,null),it(r,i,"formEncType",h.formEncType,h,null),it(r,i,"formMethod",h.formMethod,h,null),it(r,i,"formTarget",h.formTarget,h,null)):(it(r,i,"encType",h.encType,h,null),it(r,i,"method",h.method,h,null),it(r,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=oo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Wd);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=oo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),Ws(r,"popover",c);break;case"xlinkActuate":Wt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ws(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=um.get(o)||o,Ws(r,o,c))}}function Bp(r,i,o,c,h,g){switch(o){case"style":$l(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Qn(r,c):(typeof c=="number"||typeof c=="bigint")&&Qn(r,""+c);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),g=r[Nt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(i,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ws(r,o,c)}}}function tn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(r,i,g,E,o,null)}}h&&it(r,i,"srcSet",o.srcSet,o,null),c&&it(r,i,"src",o.src,o,null);return;case"input":Ue("invalid",r);var T=g=E=h=null,j=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":h=ne;break;case"type":E=ne;break;case"checked":j=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:it(r,i,c,ne,o,null)}}ia(r,g,T,j,Q,E,h,!1),ao(r);return;case"select":Ue("invalid",r),c=E=g=null;for(h in o)if(o.hasOwnProperty(h)&&(T=o[h],T!=null))switch(h){case"value":g=T;break;case"defaultValue":E=T;break;case"multiple":c=T;default:it(r,i,h,T,o,null)}i=g,o=E,r.multiple=!!c,i!=null?ds(r,!!c,i,!1):o!=null&&ds(r,!!c,o,!0);return;case"textarea":Ue("invalid",r),g=h=c=null;for(E in o)if(o.hasOwnProperty(E)&&(T=o[E],T!=null))switch(E){case"value":c=T;break;case"defaultValue":h=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:it(r,i,E,T,o,null)}aa(r,c,h,g),ao(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:it(r,i,j,c,o,null)}return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(c=0;c<Ic.length;c++)Ue(Ic[c],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(r,i,Q,c,o,null)}return;default:if(Kl(i)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&Bp(r,i,ne,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&it(r,i,T,c,o,null))}function e2(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,T=null,j=null,Q=null,ne=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=ie;default:c.hasOwnProperty(W)||it(r,i,W,null,c,ie)}}for(var X in c){var W=c[X];if(ie=o[X],c.hasOwnProperty(X)&&(W!=null||ie!=null))switch(X){case"type":g=W;break;case"name":h=W;break;case"checked":Q=W;break;case"defaultChecked":ne=W;break;case"value":E=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ie&&it(r,i,X,W,c,ie)}}On(r,E,T,j,Q,ne,g,h);return;case"select":W=E=T=X=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":W=j;default:c.hasOwnProperty(g)||it(r,i,g,null,c,j)}for(h in c)if(g=c[h],j=o[h],c.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":X=g;break;case"defaultValue":T=g;break;case"multiple":E=g;default:g!==j&&it(r,i,h,g,c,j)}i=T,o=E,c=W,X!=null?ds(r,!!o,X,!1):!!c!=!!o&&(i!=null?ds(r,!!o,i,!0):ds(r,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(T in o)if(h=o[T],o.hasOwnProperty(T)&&h!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(r,i,T,null,c,h)}for(E in c)if(h=c[E],g=o[E],c.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":X=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&it(r,i,E,h,c,g)}rt(r,X,W);return;case"option":for(var Ne in o)if(X=o[Ne],o.hasOwnProperty(Ne)&&X!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":r.selected=!1;break;default:it(r,i,Ne,null,c,X)}for(j in c)if(X=c[j],W=o[j],c.hasOwnProperty(j)&&X!==W&&(X!=null||W!=null))switch(j){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:it(r,i,j,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)X=o[xe],o.hasOwnProperty(xe)&&X!=null&&!c.hasOwnProperty(xe)&&it(r,i,xe,null,c,X);for(Q in c)if(X=c[Q],W=o[Q],c.hasOwnProperty(Q)&&X!==W&&(X!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:it(r,i,Q,X,c,W)}return;default:if(Kl(i)){for(var at in o)X=o[at],o.hasOwnProperty(at)&&X!==void 0&&!c.hasOwnProperty(at)&&Bp(r,i,at,void 0,c,X);for(ne in c)X=c[ne],W=o[ne],!c.hasOwnProperty(ne)||X===W||X===void 0&&W===void 0||Bp(r,i,ne,X,c,W);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&it(r,i,H,null,c,X);for(ie in c)X=c[ie],W=o[ie],!c.hasOwnProperty(ie)||X===W||X==null&&W==null||it(r,i,ie,X,c,W)}var Fp=null,qp=null;function Zd(r){return r.nodeType===9?r:r.ownerDocument}function Qb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gp=null;function t2(){var r=window.event;return r&&r.type==="popstate"?r===Gp?!1:(Gp=r,!0):(Gp=null,!1)}var Wb=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(r){return Zb.resolve(null).then(r).catch(s2)}:Wb;function s2(r){setTimeout(function(){throw r})}function pi(r){return r==="head"}function Jb(r,i){var o=i,c=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var E=r.ownerDocument;if(o&1&&Dc(E.documentElement),o&2&&Dc(E.body),o&4)for(o=E.head,Dc(o),E=o.firstChild;E;){var T=E.nextSibling,j=E.nodeName;E[ta]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=T}}if(h===0){r.removeChild(g),zc(i);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);zc(i)}function $p(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$p(o),Xs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function i2(r,i,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ta])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function a2(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function Kp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function o2(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function pr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Yp=null;function ew(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function tw(r,i,o){switch(i=Zd(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Dc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Xs(r)}var ir=new Map,nw=new Set;function Jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Is=ce.d;ce.d={f:l2,r:c2,D:u2,C:d2,L:h2,m:f2,X:p2,S:m2,M:g2};function l2(){var r=Is.f(),i=Hd();return r||i}function c2(r){var i=Nr(r);i!==null&&i.tag===5&&i.type==="form"?x0(i):Is.r(r)}var Fo=typeof document>"u"?null:document;function rw(r,i,o){var c=Fo;if(c&&typeof i=="string"&&i){var h=Ct(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),nw.has(h)||(nw.add(h),r={rel:r,crossOrigin:o,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),tn(i,"link",r),Tt(i),c.head.appendChild(i)))}}function u2(r){Is.D(r),rw("dns-prefetch",r,null)}function d2(r,i){Is.C(r,i),rw("preconnect",r,i)}function h2(r,i,o){Is.L(r,i,o);var c=Fo;if(c&&r&&i){var h='link[rel="preload"][as="'+Ct(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Ct(o.imageSizes)+'"]')):h+='[href="'+Ct(r)+'"]';var g=h;switch(i){case"style":g=qo(r);break;case"script":g=Ho(r)}ir.has(g)||(r=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),ir.set(g,r),c.querySelector(h)!==null||i==="style"&&c.querySelector(Oc(g))||i==="script"&&c.querySelector(kc(g))||(i=c.createElement("link"),tn(i,"link",r),Tt(i),c.head.appendChild(i)))}}function f2(r,i){Is.m(r,i);var o=Fo;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(r)}if(!ir.has(g)&&(r=v({rel:"modulepreload",href:r},i),ir.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(kc(g)))return}c=o.createElement("link"),tn(c,"link",r),Tt(c),o.head.appendChild(c)}}}function m2(r,i,o){Is.S(r,i,o);var c=Fo;if(c&&r){var h=gn(c).hoistableStyles,g=qo(r);i=i||"default";var E=h.get(g);if(!E){var T={loading:0,preload:null};if(E=c.querySelector(Oc(g)))T.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},o),(o=ir.get(g))&&Qp(r,o);var j=E=c.createElement("link");Tt(j),tn(j,"link",r),j._p=new Promise(function(Q,ne){j.onload=Q,j.onerror=ne}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,eh(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(g,E)}}}function p2(r,i){Is.X(r,i);var o=Fo;if(o&&r){var c=gn(o).hoistableScripts,h=Ho(r),g=c.get(h);g||(g=o.querySelector(kc(h)),g||(r=v({src:r,async:!0},i),(i=ir.get(h))&&Xp(r,i),g=o.createElement("script"),Tt(g),tn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function g2(r,i){Is.M(r,i);var o=Fo;if(o&&r){var c=gn(o).hoistableScripts,h=Ho(r),g=c.get(h);g||(g=o.querySelector(kc(h)),g||(r=v({src:r,async:!0,type:"module"},i),(i=ir.get(h))&&Xp(r,i),g=o.createElement("script"),Tt(g),tn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function sw(r,i,o,c){var h=(h=_e.current)?Jd(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=qo(o.href),o=gn(h).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qo(o.href);var g=gn(h).hoistableStyles,E=g.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=h.querySelector(Oc(r)))&&!g._p&&(E.instance=g,E.state.loading=5),ir.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(r,o),g||y2(h,r,o,E.state))),i&&c===null)throw Error(s(528,""));return E}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ho(o),o=gn(h).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function qo(r){return'href="'+Ct(r)+'"'}function Oc(r){return'link[rel="stylesheet"]['+r+"]"}function iw(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function y2(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),tn(i,"link",o),Tt(i),r.head.appendChild(i))}function Ho(r){return'[src="'+Ct(r)+'"]'}function kc(r){return"script[async]"+r}function aw(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(c)return i.instance=c,Tt(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Tt(c),tn(c,"style",h),eh(c,o.precedence,r),i.instance=c;case"stylesheet":h=qo(o.href);var g=r.querySelector(Oc(h));if(g)return i.state.loading|=4,i.instance=g,Tt(g),g;c=iw(o),(h=ir.get(h))&&Qp(c,h),g=(r.ownerDocument||r).createElement("link"),Tt(g);var E=g;return E._p=new Promise(function(T,j){E.onload=T,E.onerror=j}),tn(g,"link",c),i.state.loading|=4,eh(g,o.precedence,r),i.instance=g;case"script":return g=Ho(o.src),(h=r.querySelector(kc(g)))?(i.instance=h,Tt(h),h):(c=o,(h=ir.get(g))&&(c=v({},o),Xp(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),Tt(h),tn(h,"link",c),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,eh(c,o.precedence,r));return i.instance}function eh(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,E=0;E<c.length;E++){var T=c[E];if(T.dataset.precedence===i)g=T;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Qp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Xp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var th=null;function ow(r,i,o){if(th===null){var c=new Map,h=th=new Map;h.set(o,c)}else h=th,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[ta]||g[jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=r+E;var T=c.get(E);T?T.push(g):c.set(E,[g])}}return c}function lw(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function v2(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Pc=null;function _2(){}function b2(r,i,o){if(Pc===null)throw Error(s(475));var c=Pc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qo(o.href),g=r.querySelector(Oc(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=nh.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=g,Tt(g);return}g=r.ownerDocument||r,o=iw(o),(h=ir.get(h))&&Qp(o,h),g=g.createElement("link"),Tt(g);var E=g;E._p=new Promise(function(T,j){E.onload=T,E.onerror=j}),tn(g,"link",o),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=nh.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function w2(){if(Pc===null)throw Error(s(475));var r=Pc;return r.stylesheets&&r.count===0&&Wp(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Wp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rh=null;function Wp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rh=new Map,i.forEach(x2,r),rh=null,nh.call(r))}function x2(r,i){if(!(i.state.loading&4)){var o=rh.get(r);if(o)var c=o.get(null);else{o=new Map,rh.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}h=i.instance,E=h.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,h),o.set(E,h),this.count++,c=nh.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var jc={$$typeof:L,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function E2(r,i,o,c,h,g,E,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function uw(r,i,o,c,h,g,E,T,j,Q,ne,ie){return r=new E2(r,i,o,E,T,j,Q,ie),i=1,g===!0&&(i|=24),g=Pn(3,null,null,i),r.current=g,g.stateNode=r,i=Dm(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},jm(g),r}function dw(r){return r?(r=wo,r):wo}function hw(r,i,o,c,h,g){h=dw(h),c.context===null?c.context=h:c.pendingContext=h,c=ni(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ri(r,c,i),o!==null&&(zn(o,r,i),hc(o,r,i))}function fw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Zp(r,i){fw(r,i),(r=r.alternate)&&fw(r,i)}function mw(r){if(r.tag===13){var i=bo(r,67108864);i!==null&&zn(i,r,67108864),Zp(r,67108864)}}var sh=!0;function T2(r,i,o,c){var h=Y.T;Y.T=null;var g=ce.p;try{ce.p=2,Jp(r,i,o,c)}finally{ce.p=g,Y.T=h}}function A2(r,i,o,c){var h=Y.T;Y.T=null;var g=ce.p;try{ce.p=8,Jp(r,i,o,c)}finally{ce.p=g,Y.T=h}}function Jp(r,i,o,c){if(sh){var h=eg(c);if(h===null)zp(r,i,c,ih,o),gw(r,c);else if(R2(h,r,i,o,c))c.stopPropagation();else if(gw(r,c),i&4&&-1<S2.indexOf(r)){for(;h!==null;){var g=Nr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ur(g.pendingLanes);if(E!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var j=1<<31-on(E);T.entanglements[1]|=j,E&=~j}Fr(g),(et&6)===0&&(Fd=En()+500,Cc(0))}}break;case 13:T=bo(g,2),T!==null&&zn(T,g,2),Hd(),Zp(g,2)}if(g=eg(c),g===null&&zp(r,i,c,ih,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else zp(r,i,c,null,o)}}function eg(r){return r=Xn(r),tg(r)}var ih=null;function tg(r){if(ih=null,r=ls(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return ih=r,null}function pw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kl()){case Sr:return 2;case Za:return 8;case Xi:case im:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var ng=!1,gi=null,yi=null,vi=null,Vc=new Map,Lc=new Map,_i=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gw(r,i){switch(r){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Vc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(i.pointerId)}}function Uc(r,i,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},i!==null&&(i=Nr(i),i!==null&&mw(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function R2(r,i,o,c,h){switch(i){case"focusin":return gi=Uc(gi,r,i,o,c,h),!0;case"dragenter":return yi=Uc(yi,r,i,o,c,h),!0;case"mouseover":return vi=Uc(vi,r,i,o,c,h),!0;case"pointerover":var g=h.pointerId;return Vc.set(g,Uc(Vc.get(g)||null,r,i,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Lc.set(g,Uc(Lc.get(g)||null,r,i,o,c,h)),!0}return!1}function yw(r){var i=ls(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,Hu(r.priority,function(){if(o.tag===13){var c=Un();c=Ks(c);var h=bo(o,c);h!==null&&zn(h,o,c),Zp(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ah(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=eg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);hs=c,o.target.dispatchEvent(c),hs=null}else return i=Nr(o),i!==null&&mw(i),r.blockedOn=o,!1;i.shift()}return!0}function vw(r,i,o){ah(r)&&o.delete(i)}function N2(){ng=!1,gi!==null&&ah(gi)&&(gi=null),yi!==null&&ah(yi)&&(yi=null),vi!==null&&ah(vi)&&(vi=null),Vc.forEach(vw),Lc.forEach(vw)}function oh(r,i){r.blockedOn===i&&(r.blockedOn=null,ng||(ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,N2)))}var lh=null;function _w(r){lh!==r&&(lh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lh===r&&(lh=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],h=r[i+2];if(typeof c!="function"){if(tg(c||o)===null)continue;break}var g=Nr(o);g!==null&&(r.splice(i,3),i-=3,tp(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function zc(r){function i(j){return oh(j,r)}gi!==null&&oh(gi,r),yi!==null&&oh(yi,r),vi!==null&&oh(vi,r),Vc.forEach(i),Lc.forEach(i);for(var o=0;o<_i.length;o++){var c=_i[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<_i.length&&(o=_i[0],o.blockedOn===null);)yw(o),o.blockedOn===null&&_i.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],E=h[Nt]||null;if(typeof g=="function")E||_w(o);else if(E){var T=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[Nt]||null)T=E.formAction;else if(tg(h)!==null)continue}else T=E.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),_w(o)}}}function rg(r){this._internalRoot=r}ch.prototype.render=rg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=Un();hw(o,c,r,i,null,null)},ch.prototype.unmount=rg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;hw(r.current,2,null,r,null,null),Hd(),i[Yn]=null}};function ch(r){this._internalRoot=r}ch.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ys();r={blockedOn:null,target:r,priority:i};for(var o=0;o<_i.length&&i!==0&&i<_i[o].priority;o++);_i.splice(o,0,r),o===0&&yw(r)}};var bw=e.version;if(bw!=="19.1.0")throw Error(s(527,bw,"19.1.0"));ce.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var C2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{_t=uh.inject(C2),Je=uh}catch{}}return Fc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",h=j0,g=V0,E=L0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=uw(r,1,!1,null,null,o,c,h,g,E,T,null),r[Yn]=i.current,Up(r),new rg(i)},Fc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,h="",g=j0,E=V0,T=L0,j=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),i=uw(r,1,!0,i,o??null,c,h,g,E,T,j,Q),i.context=dw(null),o=i.current,c=Un(),c=Ks(c),h=ni(c),h.callback=null,ri(o,h,c),o=c,i.current.lanes=o,os(i,o),Fr(i),r[Yn]=i.current,Up(r),new ch(i)},Fc.version="19.1.0",Fc}var Iw;function U2(){if(Iw)return ag.exports;Iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ag.exports=L2(),ag.exports}var z2=U2();const B2=()=>{};var Mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},F2=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,y=m?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let w=(f&15)<<2|y>>6,S=y&63;m||(S=64,u||(w=64)),s.push(t[v],t[b],t[w],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):F2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||y==null||b==null)throw new q2;const w=l<<2|f>>4;if(s.push(w),y!==64){const S=f<<4&240|y>>2;if(s.push(S),b!==64){const O=y<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H2=function(n){const e=lT(n);return cT.encodeByteArray(e,!0)},qh=function(n){return H2(n).replace(/\./g,"")},uT=function(n){try{return cT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=()=>G2().__FIREBASE_DEFAULTS__,K2=()=>{if(typeof process>"u"||typeof Mw>"u")return;const n=Mw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uT(n[1]);return e&&JSON.parse(e)},xf=()=>{try{return B2()||$2()||K2()||Y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dT=n=>{var e,t;return(t=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hT=n=>{const e=dT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},fT=()=>{var n;return(n=xf())===null||n===void 0?void 0:n.config},mT=n=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(n){return n.endsWith(".cloudworkstations.dev")}async function Ny(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qh(JSON.stringify(t)),qh(JSON.stringify(u)),""].join(".")}const Jc={};function X2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?n.emulator.push(e):n.prod.push(e);return n}function W2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Dw=!1;function Cy(n,e){if(typeof window>"u"||typeof document>"u"||!qi(window.location.host)||Jc[n]===e||Jc[n]||Dw)return;Jc[n]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=X2().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Dw=!0,u()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=W2(s),S=t("text"),O=document.getElementById(S)||document.createElement("span"),M=t("learnmore"),I=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const L=w.element;f(L),v(I,M);const G=y();m(q,F),L.append(q,O,I,G),document.body.appendChild(L)}l?(O.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function J2(){var n;const e=(n=xf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sC(){return!J2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="FirebaseError";class ss extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=oC,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?lC(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new ss(a,f,s)}}function lC(n,e){return n.replace(cC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const cC=/\{\$([^}]+)}/g;function uC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ls(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(Ow(l)&&Ow(u)){if(!Ls(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function $c(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dC(n,e){const t=new hC(n,e);return t.subscribe.bind(t)}class hC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");fC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=ug),a.error===void 0&&(a.error=ug),a.complete===void 0&&(a.complete=ug);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n){return n&&n._delegate?n._delegate:n}class ki{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Q2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gC(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(n){return n===Ma?void 0:n}function gC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const vC={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},_C=Be.INFO,bC={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},wC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=bC[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=_C,this._logHandler=wC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const xC=(n,e)=>e.some(t=>n instanceof t);let kw,Pw;function EC(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,qg=new WeakMap,yT=new WeakMap,dg=new WeakMap,My=new WeakMap;function AC(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ii(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,n)}).catch(()=>{}),My.set(e,n),e}function SC(n){if(qg.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});qg.set(n,e)}let Hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ii(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RC(n){Hg=n(Hg)}function NC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(hg(this),e,...t);return yT.set(s,e.sort?e.sort():[e]),Ii(s)}:TC().includes(n)?function(...e){return n.apply(hg(this),e),Ii(gT.get(this))}:function(...e){return Ii(n.apply(hg(this),e))}}function CC(n){return typeof n=="function"?NC(n):(n instanceof IDBTransaction&&SC(n),xC(n,EC())?new Proxy(n,Hg):n)}function Ii(n){if(n instanceof IDBRequest)return AC(n);if(dg.has(n))return dg.get(n);const e=CC(n);return e!==n&&(dg.set(n,e),My.set(e,n)),e}const hg=n=>My.get(n);function IC(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=Ii(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ii(u.result),m.oldVersion,m.newVersion,Ii(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const MC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],fg=new Map;function jw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=DC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||MC.includes(t)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),a&&m.done]))[0]};return fg.set(e,l),l}RC(n=>({...n,get:(e,t,s)=>jw(e,t)||n.get(e,t,s),has:(e,t)=>!!jw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function kC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gg="@firebase/app",Vw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Iy("@firebase/app"),PC="@firebase/app-compat",jC="@firebase/analytics-compat",VC="@firebase/analytics",LC="@firebase/app-check-compat",UC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",FC="@firebase/database",qC="@firebase/data-connect",HC="@firebase/database-compat",GC="@firebase/functions",$C="@firebase/functions-compat",KC="@firebase/installations",YC="@firebase/installations-compat",QC="@firebase/messaging",XC="@firebase/messaging-compat",WC="@firebase/performance",ZC="@firebase/performance-compat",JC="@firebase/remote-config",eI="@firebase/remote-config-compat",tI="@firebase/storage",nI="@firebase/storage-compat",rI="@firebase/firestore",sI="@firebase/ai",iI="@firebase/firestore-compat",aI="firebase",oI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="[DEFAULT]",lI={[Gg]:"fire-core",[PC]:"fire-core-compat",[VC]:"fire-analytics",[jC]:"fire-analytics-compat",[UC]:"fire-app-check",[LC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[FC]:"fire-rtdb",[qC]:"fire-data-connect",[HC]:"fire-rtdb-compat",[GC]:"fire-fn",[$C]:"fire-fn-compat",[KC]:"fire-iid",[YC]:"fire-iid-compat",[QC]:"fire-fcm",[XC]:"fire-fcm-compat",[WC]:"fire-perf",[ZC]:"fire-perf-compat",[JC]:"fire-rc",[eI]:"fire-rc-compat",[tI]:"fire-gcs",[nI]:"fire-gcs-compat",[rI]:"fire-fst",[iI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[aI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,cI=new Map,Kg=new Map;function Lw(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ja(n){const e=n.name;if(Kg.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,n);for(const t of Hh.values())Lw(t,n);for(const t of cI.values())Lw(t,n);return!0}function Ef(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Au("app","Firebase",uI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=oI;function vT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$g,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Mi.create("bad-app-name",{appName:String(a)});if(t||(t=fT()),!t)throw Mi.create("no-options");const l=Hh.get(a);if(l){if(Ls(t,l.options)&&Ls(s,l.config))return l;throw Mi.create("duplicate-app",{appName:a})}const u=new yC(a);for(const m of Kg.values())u.addComponent(m);const f=new dI(t,s,u);return Hh.set(a,f),f}function Dy(n=$g){const e=Hh.get(n);if(!e&&n===$g&&fT())return vT();if(!e)throw Mi.create("no-app",{appName:n});return e}function Yr(n,e,t){var s;let a=(s=lI[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(f.join(" "));return}ja(new ki(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebase-heartbeat-database",fI=1,ou="firebase-heartbeat-store";let mg=null;function _T(){return mg||(mg=IC(hI,fI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),mg}async function mI(n){try{const t=(await _T()).transaction(ou),s=await t.objectStore(ou).get(bT(n));return await t.done,s}catch(e){if(e instanceof ss)Us.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(t.message)}}}async function Uw(n,e){try{const s=(await _T()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,bT(n)),await s.done}catch(t){if(t instanceof ss)Us.warn(t.message);else{const s=Mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Us.warn(s.message)}}}function bT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=1024,gI=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _I(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=zw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>gI){const u=bI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Us.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zw(),{heartbeatsToSend:s,unsentEntries:a}=vI(this._heartbeatsCache.heartbeats),l=qh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Us.warn(t),""}}}function zw(){return new Date().toISOString().substring(0,10)}function vI(n,e=pI){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Bw(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Bw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class _I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Bw(n){return qh(JSON.stringify({version:2,heartbeats:n})).length}function bI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n){ja(new ki("platform-logger",e=>new OC(e),"PRIVATE")),ja(new ki("heartbeat",e=>new yI(e),"PRIVATE")),Yr(Gg,Vw,n),Yr(Gg,Vw,"esm2017"),Yr("fire-js","")}wI("");var xI="firebase",EI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(xI,EI,"app");var Hr=function(){return Hr=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Hr.apply(this,arguments)};function Ru(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function TI(n,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,l;s<a;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return n.concat(l||Array.prototype.slice.call(e))}function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=wT,xT=new Au("auth","Firebase",wT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Iy("@firebase/auth");function SI(n,...e){Gh.logLevel<=Be.WARN&&Gh.warn(`Auth (${Ha}): ${n}`,...e)}function Ch(n,...e){Gh.logLevel<=Be.ERROR&&Gh.error(`Auth (${Ha}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,...e){throw ky(n,...e)}function vr(n,...e){return ky(n,...e)}function Oy(n,e,t){const s=Object.assign(Object.assign({},AI()),{[e]:t});return new Au("auth","Firebase",s).create(e,{appName:n.name})}function js(n){return Oy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RI(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&cr(n,"argument-error"),Oy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ky(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return xT.create(n,...e)}function Te(n,e,...t){if(!n)throw ky(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ch(e),new Error(e)}function zs(n,e){n||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function NI(){return Fw()==="http:"||Fw()==="https:"}function Fw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NI()||tC()||"connection"in navigator)?navigator.onLine:!0}function II(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,zs(t>e,"Short delay should be less than long delay!"),this.isMobile=Z2()||nC()}get(){return CI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n,e){zs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OI=new Nu(3e4,6e4);function Hi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gi(n,e,t,s,a={}){return TT(n,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Su(Object.assign({key:n.config.apiKey},u)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:m},l);return eC()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&qi(n.emulatorConfig.host)&&(y.credentials="include"),ET.fetch()(await AT(n,n.config.apiHost,t,f),y)})}async function TT(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},MI),e);try{const a=new PI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw dh(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,y]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw dh(n,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Oy(n,v,y);cr(n,v)}}catch(a){if(a instanceof ss)throw a;cr(n,"network-request-failed",{message:String(a)})}}async function Cu(n,e,t,s,a={}){const l=await Gi(n,e,t,s,a);return"mfaPendingCredential"in l&&cr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function AT(n,e,t,s){const a=`${e}${t}?${s}`,l=n,u=l.config.emulator?Py(n.config,a):`${n.config.apiScheme}://${a}`;return DI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function kI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vr(this.auth,"network-request-failed")),OI.get())})}}function dh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=vr(n,e,s);return a.customData._tokenResponse=t,a}function qw(n){return n!==void 0&&n.enterprise!==void 0}class jI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(n,e){return Gi(n,"GET","/v2/recaptchaConfig",Hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(n,e){return Gi(n,"POST","/v1/accounts:delete",e)}async function $h(n,e){return Gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(n,e=!1){const t=pt(n),s=await t.getIdToken(e),a=jy(s);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:eu(pg(a.auth_time)),issuedAtTime:eu(pg(a.iat)),expirationTime:eu(pg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function pg(n){return Number(n)*1e3}function jy(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const a=uT(t);return a?JSON.parse(a):(Ch("Failed to decode base64 JWT payload"),null)}catch(a){return Ch("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Hw(n){const e=jy(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ss&&zI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function zI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n){var e;const t=n.auth,s=await n.getIdToken(),a=await lu(n,$h(t,{idToken:s}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ST(l.providerUserInfo):[],f=qI(n.providerData,u),m=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Qg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function FI(n){const e=pt(n);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qI(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function ST(n){return n.map(e=>{var{providerId:t}=e,s=Ru(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e){const t=await TT(n,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await AT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return n.emulatorConfig&&qi(n.emulatorConfig.host)&&(m.credentials="include"),ET.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GI(n,e){return Gi(n,"POST","/v2/accounts:revokeToken",Hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Hw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await HI(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new el;return s&&(Te(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=Ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UI(this,e)}reload(){return FI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await lu(this,LI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,u,f,m,y,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,F=(y=t.createdAt)!==null&&y!==void 0?y:void 0,q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:L,emailVerified:G,isAnonymous:J,providerData:ae,stsTokenManager:C}=t;Te(L&&C,e,"internal-error");const A=el.fromJSON(this.name,C);Te(typeof L=="string",e,"internal-error"),wi(b,e.name),wi(w,e.name),Te(typeof G=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),wi(S,e.name),wi(O,e.name),wi(M,e.name),wi(I,e.name),wi(F,e.name),wi(q,e.name);const D=new yr({uid:L,auth:e,email:w,emailVerified:G,displayName:b,isAnonymous:J,photoURL:O,phoneNumber:S,tenantId:M,stsTokenManager:A,createdAt:F,lastLoginAt:q});return ae&&Array.isArray(ae)&&(D.providerData=ae.map(P=>Object.assign({},P))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,t,s=!1){const a=new el;a.updateFromServerResponse(t);const l=new yr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Kh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ST(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new el;f.updateFromIdToken(s);const m=new yr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Qg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function Ps(n){zs(n instanceof Function,"Expected a class definition");let e=Gw.get(n);return e?(zs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Gw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RT.type="NONE";const $w=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n,e,t){return`firebase:${n}:${e}:${t}`}class tl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ih(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ih("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $h(this.auth,{idToken:e}).catch(()=>{});return t?yr._fromGetAccountInfoResponse(this.auth,t,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new tl(Ps($w),e,s);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||Ps($w);const u=Ih(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(u);if(v){let b;if(typeof v=="string"){const w=await $h(e,{idToken:v}).catch(()=>{});if(!w)break;b=await yr._fromGetAccountInfoResponse(e,w,v)}else b=yr._fromJSON(e,v);y!==l&&(f=b),l=y;break}}catch{}const m=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new tl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new tl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(kT(e))return"Webos";if(CT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function NT(n=mn()){return/firefox\//i.test(n)}function CT(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(n=mn()){return/crios\//i.test(n)}function MT(n=mn()){return/iemobile/i.test(n)}function DT(n=mn()){return/android/i.test(n)}function OT(n=mn()){return/blackberry/i.test(n)}function kT(n=mn()){return/webos/i.test(n)}function Vy(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $I(n=mn()){var e;return Vy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KI(){return rC()&&document.documentMode===10}function PT(n=mn()){return Vy(n)||DT(n)||kT(n)||OT(n)||/windows phone/i.test(n)||MT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e=[]){let t;switch(n){case"Browser":t=Kw(mn());break;case"Worker":t=`${Kw(mn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",Hi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class WI{constructor(e){var t,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:XI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ps(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $h(this,{idToken:e}),s=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=II()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(js(this));const t=e?pt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),t=new WI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await GI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ps(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&SI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $i(n){return pt(n)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=dC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JI(n){Tf=n}function VT(n){return Tf.loadJS(n)}function eM(){return Tf.recaptchaEnterpriseScript}function tM(){return Tf.gapiScript}function nM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rM{constructor(){this.enterprise=new sM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iM="recaptcha-enterprise",LT="NO_RECAPTCHA";class aM{constructor(e){this.type=iM,this.auth=$i(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{VI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new jI(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;qw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(LT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!t&&qw(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=eM();m.length!==0&&(m+=f),VT(m).then(()=>{a(f,l,u)}).catch(y=>{u(y)})}}).catch(f=>{u(f)})})}}async function Qw(n,e,t,s=!1,a=!1){const l=new aM(n);let u;if(a)u=LT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Xg(n,e,t,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Qw(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Qw(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(n,e){const t=Ef(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ls(l,e??{}))return a;cr(a,"already-initialized")}return t.initialize({options:e})}function lM(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ps);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cM(n,e,t){const s=$i(n);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=UT(e),{host:u,port:f}=uM(e),m=f===null?"":`:${f}`,y={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ls(y,s.config.emulator)&&Ls(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,qi(u)?(Ny(`${l}//${u}${m}`),Cy("Auth",!0)):dM()}function UT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uM(n){const e=UT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Xw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Xw(u)}}}function Xw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function hM(n,e){return Gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n,e){return Cu(n,"POST","/v1/accounts:signInWithPassword",Hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,e){return Cu(n,"POST","/v1/accounts:signInWithEmailLink",Hi(n,e))}async function pM(n,e){return Cu(n,"POST","/v1/accounts:signInWithEmailLink",Hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Ly{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new cu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new cu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,t,"signInWithPassword",fM);case"emailLink":return mM(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,s,"signUpPassword",hM);case"emailLink":return pM(e,{idToken:t,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n,e){return Cu(n,"POST","/v1/accounts:signInWithIdp",Hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="http://localhost";class Va extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=Ru(t,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Va(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return nl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,nl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nl(e,t)}buildRequest(){const e={requestUri:gM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vM(n){const e=Gc($c(n)).link,t=e?Gc($c(e)).deep_link_id:null,s=Gc($c(n)).deep_link_id;return(s?Gc($c(s)).link:null)||s||t||e||n}class Uy{constructor(e){var t,s,a,l,u,f;const m=Gc($c(e)),y=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,b=yM((a=m.mode)!==null&&a!==void 0?a:null);Te(y&&v&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=vM(e);try{return new Uy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Uy.parseLink(t);return Te(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Iu{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Va._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Os.credential(t,s)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Iu{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Iu{constructor(){super("twitter.com")}static credential(e,t){return Va._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ri.credential(t,s)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(n,e){return Cu(n,"POST","/v1/accounts:signUp",Hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await yr._fromIdTokenResponse(e,s,a),u=Ww(s);return new La({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Ww(s);return new La({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Ww(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends ss{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Yh(e,t,s,a)}}function zT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(n,l,e,s):l})}async function bM(n,e,t=!1){const s=await lu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return La._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(n,e,t=!1){const{auth:s}=n;if(Nn(s.app))return Promise.reject(js(s));const a="reauthenticate";try{const l=await lu(n,zT(s,a,e,n),t);Te(l.idToken,s,"internal-error");const u=jy(l.idToken);Te(u,s,"internal-error");const{sub:f}=u;return Te(n.uid===f,s,"user-mismatch"),La._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&cr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(n,e,t=!1){if(Nn(n.app))return Promise.reject(js(n));const s="signIn",a=await zT(n,s,e),l=await La._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function xM(n,e){return BT($i(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(n){const e=$i(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EM(n,e,t){if(Nn(n.app))return Promise.reject(js(n));const s=$i(n),u=await Xg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_M).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&FT(n),m}),f=await La._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function TM(n,e,t){return Nn(n.app)?Promise.reject(js(n)):xM(pt(n),vl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FT(n),s})}function AM(n,e,t,s){return pt(n).onIdTokenChanged(e,t,s)}function SM(n,e,t){return pt(n).beforeAuthStateChanged(e,t)}function RM(n,e,t,s){return pt(n).onAuthStateChanged(e,t,s)}function NM(n){return pt(n).signOut()}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=1e3,IM=10;class HT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);KI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,IM):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},CM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const MM=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GT.type="SESSION";const $T=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async y=>y(t.origin,l)),m=await DM(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const y=By("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function kM(n){Qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function PM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function VM(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",LM=1,Xh="firebaseLocalStorage",QT="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sf(n,e){return n.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function UM(){const n=indexedDB.deleteDatabase(YT);return new Mu(n).toPromise()}function Wg(){const n=indexedDB.open(YT,LM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Xh,{keyPath:QT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Xh)?e(s):(s.close(),await UM(),e(await Wg()))})})}async function Zw(n,e,t){const s=Sf(n,!0).put({[QT]:e,value:t});return new Mu(s).toPromise()}async function zM(n,e){const t=Sf(n,!1).get(e),s=await new Mu(t).toPromise();return s===void 0?null:s.value}function Jw(n,e){const t=Sf(n,!0).delete(e);return new Mu(t).toPromise()}const BM=800,FM=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>FM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(VM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PM(),!this.activeServiceWorker)return;this.sender=new OM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await Zw(e,Qh,"1"),await Jw(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>zM(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sf(a,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const qM=XT;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n,e){return e?Ps(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HM(n){return BT(n.auth,new Fy(n),n.bypassAuthState)}function GM(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),wM(t,new Fy(n),n.bypassAuthState)}async function $M(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),bM(t,new Fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HM;case"linkViaPopup":case"linkViaRedirect":return $M;case"reauthViaPopup":case"reauthViaRedirect":return GM;default:cr(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Nu(2e3,1e4);async function YM(n,e,t){if(Nn(n.app))return Promise.reject(vr(n,"operation-not-supported-in-this-environment"));const s=$i(n);RI(n,e,zy);const a=WT(s,t);return new Da(s,"signInViaPopup",e,a).executeNotNull()}class Da extends ZT{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KM.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="pendingRedirect",Mh=new Map;class XM extends ZT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await WM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WM(n,e){const t=eD(e),s=JM(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function ZM(n,e){Mh.set(n._key(),e)}function JM(n){return Ps(n._redirectPersistence)}function eD(n){return Ih(QM,n.config.apiKey,n.name)}async function tD(n,e,t=!1){if(Nn(n.app))return Promise.reject(js(n));const s=$i(n),a=WT(s,e),u=await new XM(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=10*60*1e3;class rD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!JT(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nD&&this.cachedEventUids.clear(),this.cachedEventUids.has(ex(e))}saveEventToCache(e){this.cachedEventUids.add(ex(e)),this.lastProcessedEventTime=Date.now()}}function ex(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e={}){return Gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;async function lD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iD(n);for(const t of e)try{if(cD(t))return}catch{}cr(n,"unauthorized-domain")}function cD(n){const e=Yg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!oD.test(t))return!1;if(aD.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Nu(3e4,6e4);function tx(){const n=Qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dD(n){return new Promise((e,t)=>{var s,a,l;function u(){tx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tx(),t(vr(n,"network-request-failed"))},timeout:uD.get()})}if(!((a=(s=Qr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Qr().gapi)===null||l===void 0)&&l.load)u();else{const f=nM("iframefcb");return Qr()[f]=()=>{gapi.load?u():t(vr(n,"network-request-failed"))},VT(`${tM()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function hD(n){return Dh=Dh||dD(n),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Nu(5e3,15e3),mD="__/auth/iframe",pD="emulator/auth/iframe",gD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Py(e,pD):`https://${n.config.authDomain}/${mD}`,s={apiKey:e.apiKey,appName:n.name,v:Ha},a=yD.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Su(s).slice(1)}`}async function _D(n){const e=await hD(n),t=Qr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:vD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=vr(n,"network-request-failed"),f=Qr().setTimeout(()=>{l(u)},fD.get());function m(){Qr().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,xD=600,ED="_blank",TD="http://localhost";class nx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AD(n,e,t,s=wD,a=xD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},bD),{width:s.toString(),height:a.toString(),top:l,left:u}),y=mn().toLowerCase();t&&(f=IT(y)?ED:t),NT(y)&&(e=e||TD,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[S,O])=>`${w}${S}=${O},`,"");if($I(y)&&f!=="_self")return SD(e||"",f),new nx(null);const b=window.open(e||"",f,v);Te(b,n,"popup-blocked");try{b.focus()}catch{}return new nx(b)}function SD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="__/auth/handler",ND="emulator/auth/handler",CD=encodeURIComponent("fac");async function rx(n,e,t,s,a,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ha,eventId:a};if(e instanceof zy){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",uC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Iu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),y=m?`#${CD}=${encodeURIComponent(m)}`:"";return`${ID(n)}?${Su(f).slice(1)}${y}`}function ID({config:n}){return n.emulator?Py(n,ND):`https://${n.authDomain}/${RD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=tD,this._overrideRedirectResult=ZM}async _openPopup(e,t,s,a){var l;zs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await rx(e,t,s,Yg(),a);return AD(e,u,By())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await rx(e,t,s,Yg(),a);return kM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(zs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await _D(e),s=new rD(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gg,{type:gg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[gg];u!==void 0&&t(!!u),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PT()||CT()||Vy()}}const DD=MD;var sx="@firebase/auth",ix="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(n){ja(new ki("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(n)},y=new ZI(s,a,l,m);return lM(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ja(new ki("auth-internal",e=>{const t=$i(e.getProvider("auth").getImmediate());return(s=>new OD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(sx,ix,kD(n)),Yr(sx,ix,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=5*60,VD=mT("authIdTokenMaxAge")||jD;let ax=null;const LD=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>VD)return;const a=t==null?void 0:t.token;ax!==a&&(ax=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UD(n=Dy()){const e=Ef(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oM(n,{popupRedirectResolver:DD,persistence:[qM,MM,$T]}),s=mT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=LD(l.toString());SM(t,u,()=>u(t.currentUser)),AM(t,f=>u(f))}}const a=dT("auth");return a&&cM(t,`http://${a}`),t}function zD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}JI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=vr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",zD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,e1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function D(){}D.prototype=A.prototype,C.D=A.prototype,C.prototype=new D,C.prototype.constructor=C,C.C=function(P,U,z){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return A.prototype[U].apply(P,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,D){D||(D=0);var P=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)P[U]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(U=0;16>U;++U)P[U]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=C.g[0],D=C.g[1],U=C.g[2];var z=C.g[3],k=A+(z^D&(U^z))+P[0]+3614090360&4294967295;A=D+(k<<7&4294967295|k>>>25),k=z+(U^A&(D^U))+P[1]+3905402710&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(D^z&(A^D))+P[2]+606105819&4294967295,U=z+(k<<17&4294967295|k>>>15),k=D+(A^U&(z^A))+P[3]+3250441966&4294967295,D=U+(k<<22&4294967295|k>>>10),k=A+(z^D&(U^z))+P[4]+4118548399&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(U^A&(D^U))+P[5]+1200080426&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(D^z&(A^D))+P[6]+2821735955&4294967295,U=z+(k<<17&4294967295|k>>>15),k=D+(A^U&(z^A))+P[7]+4249261313&4294967295,D=U+(k<<22&4294967295|k>>>10),k=A+(z^D&(U^z))+P[8]+1770035416&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(U^A&(D^U))+P[9]+2336552879&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(D^z&(A^D))+P[10]+4294925233&4294967295,U=z+(k<<17&4294967295|k>>>15),k=D+(A^U&(z^A))+P[11]+2304563134&4294967295,D=U+(k<<22&4294967295|k>>>10),k=A+(z^D&(U^z))+P[12]+1804603682&4294967295,A=D+(k<<7&4294967295|k>>>25),k=z+(U^A&(D^U))+P[13]+4254626195&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(D^z&(A^D))+P[14]+2792965006&4294967295,U=z+(k<<17&4294967295|k>>>15),k=D+(A^U&(z^A))+P[15]+1236535329&4294967295,D=U+(k<<22&4294967295|k>>>10),k=A+(U^z&(D^U))+P[1]+4129170786&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^U&(A^D))+P[6]+3225465664&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^D&(z^A))+P[11]+643717713&4294967295,U=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(U^z))+P[0]+3921069994&4294967295,D=U+(k<<20&4294967295|k>>>12),k=A+(U^z&(D^U))+P[5]+3593408605&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^U&(A^D))+P[10]+38016083&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^D&(z^A))+P[15]+3634488961&4294967295,U=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(U^z))+P[4]+3889429448&4294967295,D=U+(k<<20&4294967295|k>>>12),k=A+(U^z&(D^U))+P[9]+568446438&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^U&(A^D))+P[14]+3275163606&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^D&(z^A))+P[3]+4107603335&4294967295,U=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(U^z))+P[8]+1163531501&4294967295,D=U+(k<<20&4294967295|k>>>12),k=A+(U^z&(D^U))+P[13]+2850285829&4294967295,A=D+(k<<5&4294967295|k>>>27),k=z+(D^U&(A^D))+P[2]+4243563512&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^D&(z^A))+P[7]+1735328473&4294967295,U=z+(k<<14&4294967295|k>>>18),k=D+(z^A&(U^z))+P[12]+2368359562&4294967295,D=U+(k<<20&4294967295|k>>>12),k=A+(D^U^z)+P[5]+4294588738&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^U)+P[8]+2272392833&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^D)+P[11]+1839030562&4294967295,U=z+(k<<16&4294967295|k>>>16),k=D+(U^z^A)+P[14]+4259657740&4294967295,D=U+(k<<23&4294967295|k>>>9),k=A+(D^U^z)+P[1]+2763975236&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^U)+P[4]+1272893353&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^D)+P[7]+4139469664&4294967295,U=z+(k<<16&4294967295|k>>>16),k=D+(U^z^A)+P[10]+3200236656&4294967295,D=U+(k<<23&4294967295|k>>>9),k=A+(D^U^z)+P[13]+681279174&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^U)+P[0]+3936430074&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^D)+P[3]+3572445317&4294967295,U=z+(k<<16&4294967295|k>>>16),k=D+(U^z^A)+P[6]+76029189&4294967295,D=U+(k<<23&4294967295|k>>>9),k=A+(D^U^z)+P[9]+3654602809&4294967295,A=D+(k<<4&4294967295|k>>>28),k=z+(A^D^U)+P[12]+3873151461&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^D)+P[15]+530742520&4294967295,U=z+(k<<16&4294967295|k>>>16),k=D+(U^z^A)+P[2]+3299628645&4294967295,D=U+(k<<23&4294967295|k>>>9),k=A+(U^(D|~z))+P[0]+4096336452&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~U))+P[7]+1126891415&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~D))+P[14]+2878612391&4294967295,U=z+(k<<15&4294967295|k>>>17),k=D+(z^(U|~A))+P[5]+4237533241&4294967295,D=U+(k<<21&4294967295|k>>>11),k=A+(U^(D|~z))+P[12]+1700485571&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~U))+P[3]+2399980690&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~D))+P[10]+4293915773&4294967295,U=z+(k<<15&4294967295|k>>>17),k=D+(z^(U|~A))+P[1]+2240044497&4294967295,D=U+(k<<21&4294967295|k>>>11),k=A+(U^(D|~z))+P[8]+1873313359&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~U))+P[15]+4264355552&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~D))+P[6]+2734768916&4294967295,U=z+(k<<15&4294967295|k>>>17),k=D+(z^(U|~A))+P[13]+1309151649&4294967295,D=U+(k<<21&4294967295|k>>>11),k=A+(U^(D|~z))+P[4]+4149444226&4294967295,A=D+(k<<6&4294967295|k>>>26),k=z+(D^(A|~U))+P[11]+3174756917&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~D))+P[2]+718787259&4294967295,U=z+(k<<15&4294967295|k>>>17),k=D+(z^(U|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var D=A-this.blockSize,P=this.B,U=this.h,z=0;z<A;){if(U==0)for(;z<=D;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(P[U++]=C.charCodeAt(z++),U==this.blockSize){a(this,P),U=0;break}}else for(;z<A;)if(P[U++]=C[z++],U==this.blockSize){a(this,P),U=0;break}}this.h=U,this.o+=A},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var D=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=D&255,D/=256;for(this.u(C),C=Array(16),A=D=0;4>A;++A)for(var P=0;32>P;P+=8)C[D++]=this.g[A]>>>P&255;return C};function l(C,A){var D=f;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=A(C)}function u(C,A){this.h=A;for(var D=[],P=!0,U=C.length-1;0<=U;U--){var z=C[U]|0;P&&z==A||(D[U]=z,P=!1)}this.g=D}var f={};function m(C){return-128<=C&&128>C?l(C,function(A){return new u([A|0],0>A?-1:0)}):new u([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return I(y(-C));for(var A=[],D=1,P=0;C>=D;P++)A[P]=C/D|0,D*=4294967296;return new u(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return I(v(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(A,8)),P=b,U=0;U<C.length;U+=8){var z=Math.min(8,C.length-U),k=parseInt(C.substring(U,U+z),A);8>z?(z=y(Math.pow(A,z)),P=P.j(z).add(y(k))):(P=P.j(D),P=P.add(y(k)))}return P}var b=m(0),w=m(1),S=m(16777216);n=u.prototype,n.m=function(){if(M(this))return-I(this).m();for(var C=0,A=1,D=0;D<this.g.length;D++){var P=this.i(D);C+=(0<=P?P:4294967296+P)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(M(this))return"-"+I(this).toString(C);for(var A=y(Math.pow(C,6)),D=this,P="";;){var U=G(D,A).g;D=F(D,U.j(A));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(C);if(D=U,O(D))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function M(C){return C.h==-1}n.l=function(C){return C=F(this,C),M(C)?-1:O(C)?0:1};function I(C){for(var A=C.g.length,D=[],P=0;P<A;P++)D[P]=~C.g[P];return new u(D,~C.h).add(w)}n.abs=function(){return M(this)?I(this):this},n.add=function(C){for(var A=Math.max(this.g.length,C.g.length),D=[],P=0,U=0;U<=A;U++){var z=P+(this.i(U)&65535)+(C.i(U)&65535),k=(z>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);P=k>>>16,z&=65535,k&=65535,D[U]=k<<16|z}return new u(D,D[D.length-1]&-2147483648?-1:0)};function F(C,A){return C.add(I(A))}n.j=function(C){if(O(this)||O(C))return b;if(M(this))return M(C)?I(this).j(I(C)):I(I(this).j(C));if(M(C))return I(this.j(I(C)));if(0>this.l(S)&&0>C.l(S))return y(this.m()*C.m());for(var A=this.g.length+C.g.length,D=[],P=0;P<2*A;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<C.g.length;U++){var z=this.i(P)>>>16,k=this.i(P)&65535,Se=C.i(U)>>>16,Ce=C.i(U)&65535;D[2*P+2*U]+=k*Ce,q(D,2*P+2*U),D[2*P+2*U+1]+=z*Ce,q(D,2*P+2*U+1),D[2*P+2*U+1]+=k*Se,q(D,2*P+2*U+1),D[2*P+2*U+2]+=z*Se,q(D,2*P+2*U+2)}for(P=0;P<A;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=A;P<2*A;P++)D[P]=0;return new u(D,0)};function q(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function L(C,A){this.g=C,this.h=A}function G(C,A){if(O(A))throw Error("division by zero");if(O(C))return new L(b,b);if(M(C))return A=G(I(C),A),new L(I(A.g),I(A.h));if(M(A))return A=G(C,I(A)),new L(I(A.g),A.h);if(30<C.g.length){if(M(C)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var D=w,P=A;0>=P.l(C);)D=J(D),P=J(P);var U=ae(D,1),z=ae(P,1);for(P=ae(P,2),D=ae(D,2);!O(P);){var k=z.add(P);0>=k.l(C)&&(U=U.add(D),z=k),P=ae(P,1),D=ae(D,1)}return A=F(C,U.j(A)),new L(U,A)}for(U=b;0<=C.l(A);){for(D=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=y(D),k=z.j(A);M(k)||0<k.l(C);)D-=P,z=y(D),k=z.j(A);O(z)&&(z=w),U=U.add(z),C=F(C,k)}return new L(U,C)}n.A=function(C){return G(this,C).h},n.and=function(C){for(var A=Math.max(this.g.length,C.g.length),D=[],P=0;P<A;P++)D[P]=this.i(P)&C.i(P);return new u(D,this.h&C.h)},n.or=function(C){for(var A=Math.max(this.g.length,C.g.length),D=[],P=0;P<A;P++)D[P]=this.i(P)|C.i(P);return new u(D,this.h|C.h)},n.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),D=[],P=0;P<A;P++)D[P]=this.i(P)^C.i(P);return new u(D,this.h^C.h)};function J(C){for(var A=C.g.length+1,D=[],P=0;P<A;P++)D[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(D,C.h)}function ae(C,A){var D=A>>5;A%=32;for(var P=C.g.length-D,U=[],z=0;z<P;z++)U[z]=0<A?C.i(z+D)>>>A|C.i(z+D+1)<<32-A:C.i(z+D);return new u(U,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,e1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,Di=u}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t1,Kc,n1,Oh,Zg,r1,s1,i1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=t(this);function a(d,_){if(_)e:{var x=s;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in x))break e;x=x[$]}d=d[d.length-1],R=x[d],_=_(R),_!=R&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var x=0,R=!1,$={next:function(){if(!R&&x<d.length){var ee=x++;return{value:_(ee,d[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function y(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function b(d,_,x){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function w(d,_,x){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function S(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function O(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(R,$,ee){for(var he=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)he[Ge-2]=arguments[Ge];return _.prototype[$].apply(R,he)}}function M(d){const _=d.length;if(0<_){const x=Array(_);for(let R=0;R<_;R++)x[R]=d[R];return x}return[]}function I(d,_){for(let x=1;x<arguments.length;x++){const R=arguments[x];if(m(R)){const $=d.length||0,ee=R.length||0;d.length=$+ee;for(let he=0;he<ee;he++)d[$+he]=R[he]}else d.push(R)}}class F{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var J=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function ae(d,_,x){for(const R in d)_.call(x,d[R],R,d)}function C(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function A(d){const _={};for(const x in d)_[x]=d[x];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,_){let x,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(x in R)d[x]=R[x];for(let ee=0;ee<D.length;ee++)x=D[ee],Object.prototype.hasOwnProperty.call(R,x)&&(d[x]=R[x])}}function U(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function z(d){f.setTimeout(()=>{throw d},0)}function k(){var d=ue;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Se{constructor(){this.h=this.g=null}add(_,x){const R=Ce.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var Ce=new F(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Z=!1,ue=new Se,V=()=>{const d=f.Promise.resolve(void 0);ce=()=>{d.then(te)}};var te=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(x){z(x)}var _=Ce;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Z=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,_),f.removeEventListener("test",x,_)}catch{}return d}();function Re(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(J){e:{try{G(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}O(Re,oe);var _e={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),He=0;function nt(d,_,x,R,$){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=$,this.key=++He,this.da=this.fa=!1}function Pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function an(d){this.src=d,this.g={},this.h=0}an.prototype.add=function(d,_,x,R,$){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var he=Mn(d,_,R,$);return-1<he?(_=d[he],x||(_.fa=!1)):(_=new nt(_,this.src,ee,!!R,$),_.fa=x,d.push(_)),_};function pn(d,_){var x=_.type;if(x in d.g){var R=d.g[x],$=Array.prototype.indexOf.call(R,_,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(R,$,1),ee&&(Pt(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Mn(d,_,x,R){for(var $=0;$<d.length;++$){var ee=d[$];if(!ee.da&&ee.listener==_&&ee.capture==!!x&&ee.ha==R)return $}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),Qi={};function Wa(d,_,x,R,$){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Wa(d,_[ee],x,R,$);return null}return x=Fu(x),d&&d[Ie]?d.K(_,x,y(R)?!!R.capture:!1,$):En(d,_,x,!1,R,$)}function En(d,_,x,R,$,ee){if(!_)throw Error("Invalid event type");var he=y($)?!!$.capture:!!$,Ge=Ja(d);if(Ge||(d[Ar]=Ge=new an(d)),x=Ge.add(_,x,R,he,ee),x.proxy)return x;if(R=kl(),x.proxy=R,R.src=d,R.listener=x,d.addEventListener)fe||($=he),$===void 0&&($=!1),d.addEventListener(_.toString(),R,$);else if(d.attachEvent)d.attachEvent(Xi(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function kl(){function d(x){return _.call(d.src,d.listener,x)}const _=im;return d}function Sr(d,_,x,R,$){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Sr(d,_[ee],x,R,$);else R=y(R)?!!R.capture:!!R,x=Fu(x),d&&d[Ie]?(d=d.i,_=String(_).toString(),_ in d.g&&(ee=d.g[_],x=Mn(ee,x,R,$),-1<x&&(Pt(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ja(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Mn(_,x,R,$)),(x=-1<d?_[d]:null)&&Za(x))}function Za(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ie])pn(_.i,d);else{var x=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(x,R,d.capture):_.detachEvent?_.detachEvent(Xi(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=Ja(_))?(pn(x,d),x.h==0&&(x.src=null,_[Ar]=null)):Pt(d)}}}function Xi(d){return d in Qi?Qi[d]:Qi[d]="on"+d}function im(d,_){if(d.da)d=!0;else{_=new Re(_,this);var x=d.listener,R=d.ha||d.src;d.fa&&Za(d),d=x.call(R,_)}return d}function Ja(d){return d=d[Ar],d instanceof an?d:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(d){return typeof d=="function"?d:(d[Pl]||(d[Pl]=function(_){return d.handleEvent(_)}),d[Pl])}function _t(){de.call(this),this.i=new an(this),this.M=this,this.F=null}O(_t,de),_t.prototype[Ie]=!0,_t.prototype.removeEventListener=function(d,_,x,R){Sr(this,d,_,x,R)};function Je(d,_){var x,R=d.F;if(R)for(x=[];R;R=R.F)x.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var $=_;_=new oe(R,d),P(_,$)}if($=!0,x)for(var ee=x.length-1;0<=ee;ee--){var he=_.g=x[ee];$=Dn(he,R,!0,_)&&$}if(he=_.g=d,$=Dn(he,R,!0,_)&&$,$=Dn(he,R,!1,_)&&$,x)for(ee=0;ee<x.length;ee++)he=_.g=x[ee],$=Dn(he,R,!1,_)&&$}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],R=0;R<x.length;R++)Pt(x[R]);delete d.g[_],d.h--}}this.F=null},_t.prototype.K=function(d,_,x,R){return this.i.add(String(d),_,!1,x,R)},_t.prototype.L=function(d,_,x,R){return this.i.add(String(d),_,!0,x,R)};function Dn(d,_,x,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,ee=0;ee<_.length;++ee){var he=_[ee];if(he&&!he.da&&he.capture==x){var Ge=he.listener,Vt=he.ha||he.src;he.fa&&pn(d.i,he),$=Ge.call(Vt,R)!==!1&&$}}return $&&!R.defaultPrevented}function on(d,_,x){if(typeof d=="function")x&&(d=w(d,x));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function qu(d){d.g=on(()=>{d.g=null,d.i&&(d.i=!1,qu(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class am extends de{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(d){de.call(this),this.h=d,this.g={}}O(Wi,de);var Zi=[];function Ji(d){ae(d.g,function(_,x){this.g.hasOwnProperty(x)&&Za(_)},d),d.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),Ji(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,eo=f.JSON.parse,ea=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function jl(){}jl.prototype.h=null;function Vl(d){return d.h||(d.h=d.i())}function Ll(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){oe.call(this,"d")}O(os,oe);function Ul(){oe.call(this,"c")}O(Ul,oe);var Rr={},zl=null;function Ks(){return zl=zl||new _t}Rr.La="serverreachability";function to(d){oe.call(this,Rr.La,d)}O(to,oe);function Ys(d){const _=Ks();Je(_,new to(_))}Rr.STAT_EVENT="statevent";function Hu(d,_){oe.call(this,Rr.STAT_EVENT,d),this.stat=_}O(Hu,oe);function ht(d){const _=Ks();Je(_,new Hu(_,d))}Rr.Ma="timingevent";function jt(d,_){oe.call(this,Rr.Ma,d),this.size=_}O(jt,oe);function Nt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function Bl(d,_,x,R,$,ee){d.info(function(){if(d.g)if(ee)for(var he="",Ge=ee.split("&"),Vt=0;Vt<Ge.length;Vt++){var $e=Ge[Vt].split("=");if(1<$e.length){var $t=$e[0];$e=$e[1];var Lt=$t.split("_");he=2<=Lt.length&&Lt[1]=="type"?he+($t+"="+$e+"&"):he+($t+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+x+`
`+he})}function om(d,_,x,R,$,ee,he){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+x+`
`+ee+" "+he})}function Qs(d,_,x,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+ta(d,x)+(R?" "+R:"")})}function Gu(d,_){d.info(function(){return"TIMEOUT: "+_})}Yn.prototype.info=function(){};function ta(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var R=x[d];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<$.length;he++)$[he]=""}}}}return ur(x)}catch{return _}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function Cr(){}O(Cr,jl),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},Nr=new Cr;function gn(d,_,x,R){this.j=d,this.i=_,this.l=x,this.R=R||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Fl={},no={};function dr(d,_,x){d.L=1,d.v=aa(On(_)),d.m=x,d.P=!0,cs(d,null)}function cs(d,_){d.F=Date.now(),na(d),d.A=On(d.v);var x=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Yl(x.i,"t",R),d.C=0,x=d.j.J,d.h=new Tt,d.g=od(d.j,x?_:null,!d.m),0<d.O&&(d.M=new am(w(d.Y,d,d.g),d.O)),_=d.U,x=d.g,R=d.ca;var $="readystatechange";Array.isArray($)||($&&(Zi[0]=$.toString()),$=Zi);for(var ee=0;ee<$.length;ee++){var he=Wa(x,$[ee],R||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ys(),Bl(d.i,d.u,d.A,d.l,d.R,d.m)}gn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Zn(d)==3?_.j():this.Y(d)},gn.prototype.Y=function(d){try{if(d==this.g)e:{const Lt=Zn(this.g);var _=this.g.Ba();const ys=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Lt!=4||_==7||(_==8||0>=ys?Ys(3):Ys(2)),Ws(this);var x=this.g.Z();this.X=x;t:if($u(this)){var R=Ju(this.g);d="";var $=R.length,ee=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),Ir(this);var he="";break t}this.h.i=new f.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(ee&&_==$-1)});R.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=x==200,om(this.i,this.u,this.A,this.l,this.R,Lt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Vt=this.g;if((Ge=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ge)){var $e=Ge;break t}}$e=null}if(x=$e)Qs(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,x);else{this.o=!1,this.s=3,ht(12),Wt(this),Ir(this);break e}}if(this.P){x=!0;let Zt;for(;!this.J&&this.C<he.length;)if(Zt=Ku(this,he),Zt==no){Lt==4&&(this.s=4,ht(14),x=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Fl){this.s=4,ht(15),Qs(this.i,this.l,he,"[Invalid Chunk]"),x=!1;break}else Qs(this.i,this.l,Zt,null),ra(this,Zt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||he.length!=0||this.h.h||(this.s=1,ht(16),x=!1),this.o=this.o&&x,!x)Qs(this.i,this.l,he,"[Invalid Chunked Response]"),Wt(this),Ir(this);else if(0<he.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ma($t),$t.M=!0,ht(11))}}else Qs(this.i,this.l,he,null),ra(this,he);Lt==4&&Wt(this),this.o&&!this.J&&(Lt==4?sd(this.j,this):(this.o=!1,na(this)))}else hm(this.g),x==400&&0<he.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Wt(this),Ir(this)}}}catch{}finally{}};function $u(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ku(d,_){var x=d.C,R=_.indexOf(`
`,x);return R==-1?no:(x=Number(_.substring(x,R)),isNaN(x)?Fl:(R+=1,R+x>_.length?no:(_=_.slice(R,R+x),d.C=R+x,_)))}gn.prototype.cancel=function(){this.J=!0,Wt(this)};function na(d){d.S=Date.now()+d.I,Yu(d,d.I)}function Yu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Nt(w(d.ba,d),_)}function Ws(d){d.B&&(f.clearTimeout(d.B),d.B=null)}gn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Gu(this.i,this.A),this.L!=2&&(Ys(),ht(17)),Wt(this),this.s=2,Ir(this)):Yu(this,this.S-d)};function Ir(d){d.j.G==0||d.J||sd(d.j,d)}function Wt(d){Ws(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ji(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ra(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||ql(x.h,d))){if(!d.K&&ql(x.h,d)&&x.G==3){try{var R=x.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)po(x),fo(x);else break e;Jl(x),ht(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=Nt(w(x.Za,x),6e3));if(1>=so(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else gs(x,11)}else if((d.K||x.g==d)&&po(x),!q(_))for($=x.Da.g.parse(_),_=0;_<$.length;_++){let $e=$[_];if(x.T=$e[0],$e=$e[1],x.G==2)if($e[0]=="c"){x.K=$e[1],x.ia=$e[2];const $t=$e[3];$t!=null&&(x.la=$t,x.j.info("VER="+x.la));const Lt=$e[4];Lt!=null&&(x.Aa=Lt,x.j.info("SVER="+x.Aa));const ys=$e[5];ys!=null&&typeof ys=="number"&&0<ys&&(R=1.5*ys,x.L=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const Zt=d.g;if(Zt){const Vr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var ee=R.h;ee.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(io(ee,ee.h),ee.h=null))}if(R.D){const tc=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(R.ya=tc,rt(R.I,R.D,tc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),R=x;var he=d;if(R.qa=ad(R,R.J?R.ia:null,R.W),he.K){yn(R.h,he);var Ge=he,Vt=R.L;Vt&&(Ge.I=Vt),Ge.B&&(Ws(Ge),na(Ge)),R.g=he}else nd(R);0<x.i.length&&mo(x)}else $e[0]!="stop"&&$e[0]!="close"||gs(x,7);else x.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?gs(x,7):Wl(x):$e[0]!="noop"&&x.l&&x.l.ta($e),x.v=0)}}Ys(4)}catch{}}var Qu=class{constructor(d,_){this.g=d,this.map=_}};function us(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ro(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function so(d){return d.h?1:d.g?d.g.size:0}function ql(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function io(d,_){d.g?d.g.add(_):d.h=_}function yn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}us.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Hl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return M(d.i)}function lm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],x=d.length,R=0;R<x;R++)_.push(d[R]);return _}_=[],x=0;for(R in d)_[x++]=d[R];return _}function ao(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const R in d)_[x++]=R;return _}}}function Gl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=ao(d),R=lm(d),$=R.length,ee=0;ee<$;ee++)_.call(void 0,R[ee],x&&x[ee],d)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cm(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var R=d[x].indexOf("="),$=null;if(0<=R){var ee=d[x].substring(0,R);$=d[x].substring(R+1)}else ee=d[x];_(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ct(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ct){this.h=d.h,ia(this,d.j),this.o=d.o,this.g=d.g,Zs(this,d.s),this.l=d.l;var _=d.i,x=new hs;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),ds(this,x),this.m=d.m}else d&&(_=String(d).match(sa))?(this.h=!1,ia(this,_[1]||"",!0),this.o=Qn(_[2]||""),this.g=Qn(_[3]||"",!0),Zs(this,_[4]),this.l=Qn(_[5]||"",!0),ds(this,_[6]||"",!0),this.m=Qn(_[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}Ct.prototype.toString=function(){var d=[],_=this.j;_&&d.push(oa(_,$l,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(oa(_,$l,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(oa(x,x.charAt(0)=="/"?um:Kl,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",oa(x,oo)),d.join("")};function On(d){return new Ct(d)}function ia(d,_,x){d.j=x?Qn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Zs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ds(d,_,x){_ instanceof hs?(d.i=_,Wu(d.i,d.h)):(x||(_=oa(_,dm)),d.i=new hs(_,d.h))}function rt(d,_,x){d.i.set(_,x)}function aa(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Qn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function oa(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Xu),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $l=/[#\/\?@]/g,Kl=/[#\?:]/g,um=/[#\?]/g,dm=/[#\?@]/g,oo=/#/g;function hs(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Xn(d){d.g||(d.g=new Map,d.h=0,d.i&&cm(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=hs.prototype,n.add=function(d,_){Xn(this),this.i=null,d=Mr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function fs(d,_){Xn(d),_=Mr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ms(d,_){return Xn(d),_=Mr(d,_),d.g.has(_)}n.forEach=function(d,_){Xn(this),this.g.forEach(function(x,R){x.forEach(function($){d.call(_,$,R,this)},this)},this)},n.na=function(){Xn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let R=0;R<_.length;R++){const $=d[R];for(let ee=0;ee<$.length;ee++)x.push(_[R])}return x},n.V=function(d){Xn(this);let _=[];if(typeof d=="string")ms(this,d)&&(_=_.concat(this.g.get(Mr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},n.set=function(d,_){return Xn(this),this.i=null,d=Mr(this,d),ms(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Yl(d,_,x){fs(d,_),0<x.length&&(d.i=null,d.g.set(Mr(d,_),M(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var R=_[x];const ee=encodeURIComponent(String(R)),he=this.V(R);for(R=0;R<he.length;R++){var $=ee;he[R]!==""&&($+="="+encodeURIComponent(String(he[R]))),d.push($)}}return this.i=d.join("&")};function Mr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Wu(d,_){_&&!d.j&&(Xn(d),d.i=null,d.g.forEach(function(x,R){var $=R.toLowerCase();R!=$&&(fs(this,R),Yl(this,$,x))},d)),d.j=_}function la(d,_){const x=new Yn;if(f.Image){const R=new Image;R.onload=S(Wn,x,"TestLoadImage: loaded",!0,_,R),R.onerror=S(Wn,x,"TestLoadImage: error",!1,_,R),R.onabort=S(Wn,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=S(Wn,x,"TestLoadImage: timeout",!1,_,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function hr(d,_){const x=new Yn,R=new AbortController,$=setTimeout(()=>{R.abort(),Wn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(ee=>{clearTimeout($),ee.ok?Wn(x,"TestPingServer: ok",!0,_):Wn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Wn(x,"TestPingServer: error",!1,_)})}function Wn(d,_,x,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(x)}catch{}}function ca(){this.g=new ea}function Dr(d,_,x){const R=x||"";try{Gl(d,function($,ee){let he=$;y($)&&(he=ur($)),_.push(R+ee+"="+encodeURIComponent(he))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function Js(d){this.l=d.Ub||null,this.j=d.eb||!1}O(Js,jl),Js.prototype.g=function(){return new ps(this.l,this.j)},Js.prototype.i=function(d){return function(){return d}}({});function ps(d,_){_t.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ps,_t),n=ps.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Or(this):kr(this),this.readyState==3&&Ql(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Or(this))},n.Qa=function(d){this.g&&(this.response=d,Or(this))},n.ga=function(){this.g&&Or(this)};function Or(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xl(d){let _="";return ae(d,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function Gt(d,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=Xl(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):rt(d,_,x))}function We(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(We,_t);var lo=/^https?$/i,ua=["POST","PUT"];n=We.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?Vl(this.o):Vl(Nr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ee){Zu(this,ee);return}if(d=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)x.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())x.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ua,_,void 0))||R||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of x)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Zu(this,ee)}};function Zu(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,co(d),Pr(d)}function co(d){d.A||(d.A=!0,Je(d,"complete"),Je(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Je(this,"complete"),Je(this,"abort"),Pr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uo(this):this.bb())},n.bb=function(){uo(this)};function uo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Zn(d)!=4||d.Z()!=2)){if(d.u&&Zn(d)==4)on(d.Ea,0,d);else if(Je(d,"readystatechange"),Zn(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=he===0){var $=String(d.D).match(sa)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),R=!lo.test($?$.toLowerCase():"")}x=R}if(x)Je(d,"complete"),Je(d,"success");else{d.m=6;try{var ee=2<Zn(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",co(d)}}finally{Pr(d)}}}}function Pr(d,_){if(d.g){da(d);const x=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Je(d,"ready");try{x.onreadystatechange=R}catch{}}}function da(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Zn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),eo(_)}};function Ju(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function hm(d){const _={};d=(d.g&&2<=Zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(q(d[R]))continue;var x=U(d[R]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=_[$]||[];_[$]=ee,ee.push(x)}C(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function ho(d){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,d),this.cb=ha("retryDelaySeedMs",1e4,d),this.Wa=ha("forwardChannelMaxRetries",2,d),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new us(d&&d.concurrentRequestLimit),this.Da=new ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(d,_,x,R){ht(0),this.W=d,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.I=ad(this,null,this.W),mo(this)};function Wl(d){if(ed(d),d.G==3){var _=d.U++,x=On(d.I);if(rt(x,"SID",d.K),rt(x,"RID",_),rt(x,"TYPE","terminate"),fa(d,x),_=new gn(d,d.j,_),_.L=2,_.v=aa(On(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=_.v,x=!0),x||(_.g=od(_.j,null),_.g.ea(_.v)),_.F=Date.now(),na(_)}id(d)}function fo(d){d.g&&(ma(d),d.g.cancel(),d.g=null)}function ed(d){fo(d),d.u&&(f.clearTimeout(d.u),d.u=null),po(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function mo(d){if(!ro(d.h)&&!d.s){d.s=!0;var _=d.Ga;ce||V(),Z||(ce(),Z=!0),ue.add(_,d),d.B=0}}function fm(d,_){return so(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Nt(w(d.Ga,d,_),ec(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new gn(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=A(ee),P(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=td(this,$,_),x=On(this.I),rt(x,"RID",d),rt(x,"CVER",22),this.D&&rt(x,"X-HTTP-Session-Id",this.D),fa(this,x),ee&&(this.O?_="headers="+encodeURIComponent(String(Xl(ee)))+"&"+_:this.m&&Gt(x,this.m,ee)),io(this.h,$),this.Ua&&rt(x,"TYPE","init"),this.P?(rt(x,"$req",_),rt(x,"SID","null"),$.T=!0,dr($,x,null)):dr($,x,_),this.G=2}}else this.G==3&&(d?Zl(this,d):this.i.length==0||ro(this.h)||Zl(this))};function Zl(d,_){var x;_?x=_.l:x=d.U++;const R=On(d.I);rt(R,"SID",d.K),rt(R,"RID",x),rt(R,"AID",d.T),fa(d,R),d.m&&d.o&&Gt(R,d.m,d.o),x=new gn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=td(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),io(d.h,x),dr(x,R,_)}function fa(d,_){d.H&&ae(d.H,function(x,R){rt(_,R,x)}),d.l&&Gl({},function(x,R){rt(_,R,x)})}function td(d,_,x){x=Math.min(d.i.length,x);var R=d.l?w(d.l.Na,d.l,d):null;e:{var $=d.i;let ee=-1;for(;;){const he=["count="+x];ee==-1?0<x?(ee=$[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let Ge=!0;for(let Vt=0;Vt<x;Vt++){let $e=$[Vt].g;const $t=$[Vt].map;if($e-=ee,0>$e)ee=Math.max(0,$[Vt].g-100),Ge=!1;else try{Dr($t,he,"req"+$e+"_")}catch{R&&R($t)}}if(Ge){R=he.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,R}function nd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ce||V(),Z||(ce(),Z=!0),ue.add(_,d),d.v=0}}function Jl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Nt(w(d.Fa,d),ec(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Nt(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),fo(this),rd(this))};function ma(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function rd(d){d.g=new gn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=On(d.qa);rt(_,"RID","rpc"),rt(_,"SID",d.K),rt(_,"AID",d.T),rt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(_,"TO",d.ja),rt(_,"TYPE","xmlhttp"),fa(d,_),d.m&&d.o&&Gt(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=aa(On(_)),x.m=null,x.P=!0,cs(x,d)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),Jl(this),ht(19))};function po(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function sd(d,_){var x=null;if(d.g==_){po(d),ma(d),d.g=null;var R=2}else if(ql(d.h,_))x=_.D,yn(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;R=Ks(),Je(R,new jt(R,x)),mo(d)}else nd(d);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&fm(d,_)||R==2&&Jl(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),$){case 1:gs(d,5);break;case 4:gs(d,10);break;case 3:gs(d,6);break;default:gs(d,2)}}}function ec(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function gs(d,_){if(d.j.info("Error code "+_),_==2){var x=w(d.fb,d),R=d.Xa;const $=!R;R=new Ct(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ia(R,"https"),aa(R),$?la(R.toString(),x):hr(R.toString(),x)}else ht(2);d.G=0,d.l&&d.l.sa(_),id(d),ed(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function id(d){if(d.G=0,d.ka=[],d.l){const _=Hl(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ka,_),I(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function ad(d,_,x){var R=x instanceof Ct?On(x):new Ct(x);if(R.g!="")_&&(R.g=_+"."+R.g),Zs(R,R.s);else{var $=f.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var ee=new Ct(null);R&&ia(ee,R),_&&(ee.g=_),$&&Zs(ee,$),x&&(ee.l=x),R=ee}return x=d.D,_=d.ya,x&&_&&rt(R,x,_),rt(R,"VER",d.la),fa(d,R),R}function od(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new We(new Js({eb:x})):new We(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}n=ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(d,_){return new vn(d,_)};function vn(d,_){_t.call(this),this.g=new ho(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!q(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new jr(this)}O(vn,_t),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Wl(this.g)},vn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=ur(d),d=x);_.i.push(new Qu(_.Ya++,d)),_.G==3&&mo(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,vn.aa.N.call(this)};function cd(d){os.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}O(cd,os);function ud(){Ul.call(this),this.status=1}O(ud,Ul);function jr(d){this.g=d}O(jr,ld),jr.prototype.ua=function(){Je(this.g,"a")},jr.prototype.ta=function(d){Je(this.g,new cd(d))},jr.prototype.sa=function(d){Je(this.g,new ud)},jr.prototype.ra=function(){Je(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,i1=function(){return new go},s1=function(){return Ks()},r1=Rr,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Oh=Xs,ls.COMPLETE="complete",n1=ls,Ll.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Kc=Ll,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,t1=We}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const lx="@firebase/firestore",cx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Iy("@firebase/firestore");function Qo(){return Ua.logLevel}function pe(n,...e){if(Ua.logLevel<=Be.DEBUG){const t=e.map(qy);Ua.debug(`Firestore (${_l}): ${n}`,...t)}}function Bs(n,...e){if(Ua.logLevel<=Be.ERROR){const t=e.map(qy);Ua.error(`Firestore (${_l}): ${n}`,...t)}}function ol(n,...e){if(Ua.logLevel<=Be.WARN){const t=e.map(qy);Ua.warn(`Firestore (${_l}): ${n}`,...t)}}function qy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,a1(n,s,t)}function a1(n,e,t){let s=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Bs(s),new Error(s)}function Ze(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||a1(e,a,s)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class FD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qD{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vs,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new o1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class HD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new HD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ux(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ux(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=KD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function je(n,e){return n<e?-1:n>e?1:0}function Jg(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return je(s,a);{const l=l1(),u=YD(l.encode(dx(n,t)),l.encode(dx(e,t)));return u!==0?u:je(s,a)}}t+=s>65535?2:1}return je(n.length,e.length)}function dx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function YD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return je(n[t],e[t]);return je(n.length,e.length)}function ll(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=-62135596800,fx=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fx);return new Ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hx)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fx}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ft(0,0))}static max(){return new Me(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="__name__";class qr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const s=qr.isNumericId(e),a=qr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?qr.extractNumericId(e).compare(qr.extractNumericId(t)):Jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class ut extends qr{construct(e,t,s){return new ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends qr{construct(e,t,s){return new rn(e,t,s)}static isValidIdentifier(e){return QD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mx}static keyField(){return new rn([mx])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ut.fromString(e))}static fromName(e){return new we(ut.fromString(e).popFirst(5))}static empty(){return new we(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function XD(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(s===1e9?new Ft(t+1,0):new Ft(t,s));return new Pi(a,we.empty(),e)}function WD(n){return new Pi(n.readTime,n.key,uu)}class Pi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Pi(Me.min(),we.empty(),uu)}static max(){return new Pi(Me.max(),we.empty(),uu)}}function ZD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==JD)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},m=>s(m))}),u=!0,l===a&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(a=>a?le.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new le((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next(v=>{u[y]=v,++f,f===l&&s(u)},v=>a(v))}})}static doWhile(e,t){return new le((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function tO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Rf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function Nf(n){return n==null}function Wh(n){return n===0&&1/n==-1/0}function nO(n){return typeof n=="number"&&Number.isInteger(n)&&!Wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function rO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=px(e)),e=sO(n.get(t),e);return px(e)}function sO(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case u1:t+="";break;default:t+=l}}return t}function px(n){return n+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new nn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yx(this.data.getIterator())}getIteratorFrom(e){return new yx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class yx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new qn([])}unionWith(e){let t=new qt(rn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new h1("Invalid base64 string: "+l):l}}(e);return new sn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const iO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=iO.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vi(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",m1="__type__",p1="__previous_value__",g1="__local_write_time__";function Gy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[m1])===null||t===void 0?void 0:t.stringValue)===f1}function Cf(n){const e=n.mapValue.fields[p1];return Gy(e)?Cf(e):e}function du(n){const e=ji(n.mapValue.fields[g1].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,s,a,l,u,f,m,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=v}}const Zh="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||Zh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="__type__",oO="__max__",mh={mapValue:{}},v1="__vector__",Jh="value";function Li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:cO(n)?9007199254740991:lO(n)?10:11:Ae(28295,{value:n})}function ts(n,e){if(n===e)return!0;const t=Li(n);if(t!==Li(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return du(n).isEqual(du(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ji(a.timestampValue),f=ji(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Vi(a.bytesValue).isEqual(Vi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),f=Rt(l.doubleValue);return u===f?Wh(u)===Wh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(gx(u)!==gx(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!ts(u[m],f[m])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function fu(n,e){return(n.values||[]).find(t=>ts(t,e))!==void 0}function cl(n,e){if(n===e)return 0;const t=Li(n),s=Li(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=Rt(l.integerValue||l.doubleValue),m=Rt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return vx(n.timestampValue,e.timestampValue);case 4:return vx(du(n),du(e));case 5:return Jg(n.stringValue,e.stringValue);case 6:return function(l,u){const f=Vi(l),m=Vi(u);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),m=u.split("/");for(let y=0;y<f.length&&y<m.length;y++){const v=je(f[y],m[y]);if(v!==0)return v}return je(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=je(Rt(l.latitude),Rt(u.latitude));return f!==0?f:je(Rt(l.longitude),Rt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _x(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,m,y,v;const b=l.fields||{},w=u.fields||{},S=(f=b[Jh])===null||f===void 0?void 0:f.arrayValue,O=(m=w[Jh])===null||m===void 0?void 0:m.arrayValue,M=je(((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:_x(S,O)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===mh.mapValue&&u===mh.mapValue)return 0;if(l===mh.mapValue)return 1;if(u===mh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=u.fields||{},v=Object.keys(y);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const w=Jg(m[b],v[b]);if(w!==0)return w;const S=cl(f[m[b]],y[v[b]]);if(S!==0)return S}return je(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function vx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=ji(n),s=ji(e),a=je(t.seconds,s.seconds);return a!==0?a:je(t.nanos,s.nanos)}function _x(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=cl(t[a],s[a]);if(l)return l}return je(t.length,s.length)}function ul(n){return ey(n)}function ey(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=ji(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=ey(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${ey(t.fields[u])}`;return a+"}"}(n.mapValue):Ae(61005,{value:n})}function kh(n){switch(Li(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(n);return e?16+kh(e):16;case 5:return 2*n.stringValue.length;case 6:return Vi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+kh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Ki(s.fields,(l,u)=>{a+=l.length+kh(u)}),a}(n.mapValue);default:throw Ae(13486,{value:n})}}function bx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ty(n){return!!n&&"integerValue"in n}function $y(n){return!!n&&"arrayValue"in n}function wx(n){return!!n&&"nullValue"in n}function xx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function lO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[y1])===null||t===void 0?void 0:t.stringValue)===v1}function tu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ki(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tu(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(t)}setAll(e){let t=rn.emptyPath(),s={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=f.popLast()}u?s[f.lastSegment()]=tu(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ki(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Cn(tu(this.value))}}function _1(n){const e=[];return Ki(n.fields,(t,s)=>{const a=new rn([t]);if(Ph(s)){const l=_1(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,s,a,l,u,f){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new fn(e,0,Me.min(),Me.min(),Me.min(),Cn.empty(),0)}static newFoundDocument(e,t,s,a){return new fn(e,1,t,Me.min(),s,a,0)}static newNoDocument(e,t){return new fn(e,2,t,Me.min(),Me.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Me.min(),Me.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.position=e,this.inclusive=t}}function Ex(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),t.key):s=cl(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function uO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{}class kt extends b1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new hO(e,t,s):t==="array-contains"?new pO(e,s):t==="in"?new gO(e,s):t==="not-in"?new yO(e,s):t==="array-contains-any"?new vO(e,s):new kt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new fO(e,s):new mO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cl(t,this.value)):t!==null&&Li(this.value)===Li(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends b1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wr(e,t)}matches(e){return w1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function w1(n){return n.op==="and"}function x1(n){return dO(n)&&w1(n)}function dO(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function ny(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+ul(n.value);if(x1(n))return n.filters.map(e=>ny(e)).join(",");{const e=n.filters.map(t=>ny(t)).join(",");return`${n.op}(${e})`}}function E1(n,e){return n instanceof kt?function(s,a){return a instanceof kt&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)}(n,e):n instanceof wr?function(s,a){return a instanceof wr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,u,f)=>l&&E1(u,a.filters[f]),!0):!1}(n,e):void Ae(19439)}function T1(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${ul(t.value)}`}(n):n instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(T1).join(" ,")+"}"}(n):"Filter"}class hO extends kt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class fO extends kt{constructor(e,t){super(e,"in",t),this.keys=A1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mO extends kt{constructor(e,t){super(e,"not-in",t),this.keys=A1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function A1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>we.fromName(s.referenceValue))}class pO extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $y(t)&&fu(t.arrayValue,this.value)}}class gO extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}}class yO extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fu(this.value.arrayValue,t)}}class vO extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$y(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Ie=null}}function Ax(n,e=null,t=[],s=[],a=null,l=null,u=null){return new _O(n,e,t,s,a,l,u)}function Ky(n){const e=De(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ny(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ul(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ul(s)).join(",")),e.Ie=t}return e.Ie}function Yy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tx(n.startAt,e.startAt)&&Tx(n.endAt,e.endAt)}function ry(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bO(n,e,t,s,a,l,u,f){return new xl(n,e,t,s,a,l,u,f)}function If(n){return new xl(n)}function Sx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function S1(n){return n.collectionGroup!==null}function nu(n){const e=De(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new qt(rn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new mu(l,s))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new mu(rn.keyField(),s))}return e.Ee}function Xr(n){const e=De(n);return e.de||(e.de=wO(e,nu(n))),e.de}function wO(n,e){if(n.limitType==="F")return Ax(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new mu(a.field,l)});const t=n.endAt?new ef(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new ef(n.startAt.position,n.startAt.inclusive):null;return Ax(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function sy(n,e){const t=n.filters.concat([e]);return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tf(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Yy(Xr(n),Xr(e))&&n.limitType===e.limitType}function R1(n){return`${Ky(Xr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>T1(a)).join(", ")}]`),Nf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>ul(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>ul(a)).join(",")),`Target(${s})`}(Xr(n))}; limitType=${n.limitType})`}function Df(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of nu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(u,f,m){const y=Ex(u,f,m);return u.inclusive?y<=0:y<0}(s.startAt,nu(s),a)||s.endAt&&!function(u,f,m){const y=Ex(u,f,m);return u.inclusive?y>=0:y>0}(s.endAt,nu(s),a))}(n,e)}function xO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N1(n){return(e,t)=>{let s=!1;for(const a of nu(n)){const l=EO(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function EO(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,u,f){const m=u.data.field(l),y=f.data.field(l);return m!==null&&y!==null?cl(m,y):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new yt(we.comparator);function Fs(){return TO}const C1=new yt(we.comparator);function Yc(...n){let e=C1;for(const t of n)e=e.insert(t.key,t);return e}function I1(n){let e=C1;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Oa(){return ru()}function M1(){return ru()}function ru(){return new Ga(n=>n.toString(),(n,e)=>n.isEqual(e))}const AO=new yt(we.comparator),SO=new qt(we.comparator);function Fe(...n){let e=SO;for(const t of n)e=e.add(t);return e}const RO=new qt(je);function NO(){return RO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function D1(n){return{integerValue:""+n}}function CO(n,e){return nO(e)?D1(e):Qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function IO(n,e,t){return n instanceof pu?function(a,l){const u={fields:{[m1]:{stringValue:f1},[g1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Gy(l)&&(l=Cf(l)),l&&(u.fields[p1]=l),{mapValue:u}}(t,e):n instanceof dl?k1(n,e):n instanceof hl?P1(n,e):function(a,l){const u=O1(a,l),f=Rx(u)+Rx(a.Re);return ty(u)&&ty(a.Re)?D1(f):Qy(a.serializer,f)}(n,e)}function MO(n,e,t){return n instanceof dl?k1(n,e):n instanceof hl?P1(n,e):t}function O1(n,e){return n instanceof nf?function(s){return ty(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class pu extends Of{}class dl extends Of{constructor(e){super(),this.elements=e}}function k1(n,e){const t=j1(e);for(const s of n.elements)t.some(a=>ts(a,s))||t.push(s);return{arrayValue:{values:t}}}class hl extends Of{constructor(e){super(),this.elements=e}}function P1(n,e){let t=j1(e);for(const s of n.elements)t=t.filter(a=>!ts(a,s));return{arrayValue:{values:t}}}class nf extends Of{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Rx(n){return Rt(n.integerValue||n.doubleValue)}function j1(n){return $y(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.field=e,this.transform=t}}function DO(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof dl&&a instanceof dl||s instanceof hl&&a instanceof hl?ll(s.elements,a.elements,ts):s instanceof nf&&a instanceof nf?ts(s.Re,a.Re):s instanceof pu&&a instanceof pu}(n.transform,e.transform)}class OO{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kf{}function V1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new U1(n.key,Wr.none()):new Du(n.key,n.data,Wr.none());{const t=n.data,s=Cn.empty();let a=new qt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Yi(n.key,s,new qn(a.toArray()),Wr.none())}}function kO(n,e,t){n instanceof Du?function(a,l,u){const f=a.value.clone(),m=Cx(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Yi?function(a,l,u){if(!jh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Cx(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(L1(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function su(n,e,t,s){return n instanceof Du?function(l,u,f,m){if(!jh(l.precondition,u))return f;const y=l.value.clone(),v=Ix(l.fieldTransforms,m,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof Yi?function(l,u,f,m){if(!jh(l.precondition,u))return f;const y=Ix(l.fieldTransforms,m,u),v=u.data;return v.setAll(L1(l)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,s):function(l,u,f){return jh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function PO(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=O1(s.transform,a||null);l!=null&&(t===null&&(t=Cn.empty()),t.set(s.field,l))}return t||null}function Nx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ll(s,a,(l,u)=>DO(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Du extends kf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yi extends kf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function L1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function Cx(n,e,t){const s=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,MO(u,f,t[a]))}return s}function Ix(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,IO(l,u,e))}return s}class U1 extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jO extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&kO(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=M1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const m=V1(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Me.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(t,s)=>Nx(t,s))&&ll(this.baseMutations,e.baseMutations,(t,s)=>Nx(t,s))}}class Wy{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ze(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return AO}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Wy(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ye;function zO(n){switch(n){case se.OK:return Ae(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function z1(n){if(n===void 0)return Bs("GRPC error has no .code"),se.UNKNOWN;switch(n){case Dt.OK:return se.OK;case Dt.CANCELLED:return se.CANCELLED;case Dt.UNKNOWN:return se.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return se.INTERNAL;case Dt.UNAVAILABLE:return se.UNAVAILABLE;case Dt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Dt.NOT_FOUND:return se.NOT_FOUND;case Dt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Dt.ABORTED:return se.ABORTED;case Dt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Dt.DATA_LOSS:return se.DATA_LOSS;default:return Ae(39323,{code:n})}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Di([4294967295,4294967295],0);function Mx(n){const e=l1().encode(n),t=new e1;return t.update(e),new Uint8Array(t.digest())}function Dx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Di([t,s],0),new Di([a,l],0)]}class Zy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Qc(`Invalid padding: ${t}`);if(s<0)throw new Qc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Di.fromNumber(this.pe)}we(e,t,s){let a=e.add(t.multiply(Di.fromNumber(s)));return a.compare(BO)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Mx(e),[s,a]=Dx(t);for(let l=0;l<this.hashCount;l++){const u=this.we(s,a,l);if(!this.be(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Zy(l,a,t);return s.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=Mx(e),[s,a]=Dx(t);for(let l=0;l<this.hashCount;l++){const u=this.we(s,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Pf(Me.min(),a,new yt(je),Fs(),Fe())}}class Ou{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ou(s,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,s,a){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=a}}class B1{constructor(e,t){this.targetId=e,this.Ce=t}}class F1{constructor(e,t,s=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Ox{constructor(){this.Fe=0,this.Me=kx(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),t=Fe(),s=Fe();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}}),new Ou(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=kx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class FO{constructor(e){this.ze=e,this.je=new Map,this.He=Fs(),this.Je=ph(),this.Ye=ph(),this.Ze=new yt(je)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,s=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(ry(l))if(s===0){const u=new we(l.path);this.tt(t,u,fn.newNoDocument(u,Me.min()))}else Ze(s===1,20013,{expectedCount:s});else{const u=this.ut(t);if(u!==s){const f=this.ct(e),m=f?this.lt(f,e,u):1;if(m!==0){this.st(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=Vi(s).toUint8Array()}catch(m){if(m instanceof h1)return ol("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Zy(u,a,l)}catch(m){return ol(m instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,u)=>{const f=this._t(u);if(f){if(l.current&&ry(f.target)){const m=new we(f.target.path);this.Et(m).has(u)||this.dt(u,m)||this.tt(u,m,fn.newNoDocument(m,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let s=Fe();this.Ye.forEach((l,u)=>{let f=!0;u.forEachWhile(m=>{const y=this._t(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Pf(e,t,this.Ze,this.He,s);return this.He=Fs(),this.Je=ph(),this.Ye=ph(),this.Ze=new yt(je),a}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ox,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new qt(je),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new qt(je),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ox),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ph(){return new yt(we.comparator)}function kx(){return new yt(we.comparator)}const qO={asc:"ASCENDING",desc:"DESCENDING"},HO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GO={and:"AND",or:"OR"};class $O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iy(n,e){return n.useProto3Json||Nf(e)?e:{value:e}}function rf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KO(n,e){return rf(n,e.toTimestamp())}function Zr(n){return Ze(!!n,49232),Me.fromTimestamp(function(t){const s=ji(t);return new Ft(s.seconds,s.nanos)}(n))}function Jy(n,e){return ay(n,e).canonicalString()}function ay(n,e){const t=function(a){return new ut(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function H1(n){const e=ut.fromString(n);return Ze(Q1(e),10190,{key:e.toString()}),e}function oy(n,e){return Jy(n.databaseId,e.path)}function yg(n,e){const t=H1(e);if(t.get(1)!==n.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we($1(t))}function G1(n,e){return Jy(n.databaseId,e)}function YO(n){const e=H1(n);return e.length===4?ut.emptyPath():$1(e)}function ly(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $1(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Px(n,e,t){return{name:oy(n,e),fields:t.value.mapValue.fields}}function QO(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(Ze(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const v=y.code===void 0?se.UNKNOWN:z1(y.code);return new me(v,y.message||"")}(u);t=new F1(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=yg(n,s.document.name),l=Zr(s.document.updateTime),u=s.document.createTime?Zr(s.document.createTime):Me.min(),f=new Cn({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(a,l,u,f),y=s.targetIds||[],v=s.removedTargetIds||[];t=new Vh(y,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=yg(n,s.document),l=s.readTime?Zr(s.readTime):Me.min(),u=fn.newNoDocument(a,l),f=s.removedTargetIds||[];t=new Vh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=yg(n,s.document),l=s.removedTargetIds||[];t=new Vh([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new UO(a,l),f=s.targetId;t=new B1(f,u)}}return t}function XO(n,e){let t;if(e instanceof Du)t={update:Px(n,e.key,e.value)};else if(e instanceof U1)t={delete:oy(n,e.key)};else if(e instanceof Yi)t={update:Px(n,e.key,e.data),updateMask:ik(e.fieldMask)};else{if(!(e instanceof jO))return Ae(16599,{ft:e.type});t={verify:oy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const f=u.transform;if(f instanceof pu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nf)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Ae(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:KO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function WO(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?Zr(a.updateTime):Zr(l);return u.isEqual(Me.min())&&(u=Zr(l)),new OO(u,a.transformResults||[])}(t,e))):[]}function ZO(n,e){return{documents:[G1(n,e.path)]}}function JO(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=G1(n,a);const l=function(y){if(y.length!==0)return Y1(wr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(v=>function(w){return{field:Wo(w.field),direction:nk(w.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=iy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:a}}function ek(n){let e=YO(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ze(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const w=K1(b);return w instanceof wr&&x1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(w=>function(O){return new mu(Zo(O.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(b){let w;return w=typeof b=="object"?b.value:b,Nf(w)?null:w}(t.limit));let m=null;t.startAt&&(m=function(b){const w=!!b.before,S=b.values||[];return new ef(S,w)}(t.startAt));let y=null;return t.endAt&&(y=function(b){const w=!b.before,S=b.values||[];return new ef(S,w)}(t.endAt)),bO(e,a,u,l,f,"F",m,y)}function tk(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Zo(t.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Zo(t.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return kt.create(Zo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(s=>K1(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function nk(n){return qO[n]}function rk(n){return HO[n]}function sk(n){return GO[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return rn.fromServerFormat(n.fieldPath)}function Y1(n){return n instanceof kt?function(t){if(t.op==="=="){if(xx(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(wx(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xx(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(wx(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:rk(t.op),value:t.value}}}(n):n instanceof wr?function(t){const s=t.getFilters().map(a=>Y1(a));return s.length===1?s[0]:{compositeFilter:{op:sk(t.op),filters:s}}}(n):Ae(54877,{filter:n})}function ik(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Q1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t,s,a,l=Me.min(),u=Me.min(),f=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.wt=e}}function ok(n){const e=ek({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.Cn=new ck}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Pi.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class ck{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(ut.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(X1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fl(0)}static lr(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="LruGarbageCollector",uk=1048576;function Lx([n,e],[t,s]){const a=je(n,t);return a===0?je(e,s):a}class dk{constructor(e){this.Er=e,this.buffer=new qt(Lx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Lx(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(Vx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wl(t)?pe(Vx,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.mr(3e5)})}}class fk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Rf.le);const s=new dk(t);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(jx)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,a,l,u,f,m,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,f=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Qo()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(y-m)+`ms
Total Duration: ${y-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function mk(n,e){return new fk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.changes=new Ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&su(s.mutation,a,qn.empty(),Ft.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Fe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Fe()){const a=Oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let u=Yc();return l.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=Oa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Fe()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,s,a){let l=Fs();const u=ru(),f=function(){return ru()}();return t.forEach((m,y)=>{const v=s.get(y.key);a.has(y.key)&&(v===void 0||v.mutation instanceof Yi)?l=l.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),su(v.mutation,y,v.mutation.getFieldMask(),Ft.now())):u.set(y.key,qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((y,v)=>u.set(y,v)),t.forEach((y,v)=>{var b;return f.set(y,new gk(v,(b=u.get(y))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const s=ru();let a=new yt((u,f)=>u-f),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let v=s.get(m)||qn.empty();v=f.applyToLocalView(y,v),s.set(m,v);const b=(a.get(f.batchId)||Fe()).add(m);a=a.insert(f.batchId,b)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,v=m.value,b=M1();v.forEach(w=>{if(!l.has(w)){const S=V1(t.get(w),s.get(w));S!==null&&b.set(w,S),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return le.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):S1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):le.resolve(Oa());let f=uu,m=l;return u.next(y=>le.forEach(y,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{m=m.insert(v,w)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,m,y,Fe())).next(v=>({batchId:f,changes:I1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(s=>{let a=Yc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Yc();return this.indexManager.getCollectionParents(e,l).next(f=>le.forEach(f,m=>{const y=function(b,w){return new xl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next(v=>{v.forEach((b,w)=>{u=u.insert(b,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(u=>{l.forEach((m,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,fn.newInvalidDocument(v)))});let f=Yc();return u.forEach((m,y)=>{const v=l.get(m);v!==void 0&&su(v.mutation,y,qn.empty(),Ft.now()),Df(t,y)&&(f=f.insert(m,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return le.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:ok(a.bundledQuery),readTime:Zr(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.overlays=new yt(we.comparator),this.Qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Oa();return le.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const a=Oa(),l=t.length+1,u=new we(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new yt((y,v)=>y-v);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=l.get(y.largestBatchId);v===null&&(v=Oa(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=Oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=a)););return le.resolve(f)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new LO(t,s));let l=this.Qr.get(t);l===void 0&&(l=Fe(),this.Qr.set(t,l)),this.Qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.$r=new qt(Xt.Ur),this.Kr=new qt(Xt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Xt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new we(new ut([])),s=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Kr.forEachInRange([s,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new we(new ut([])),s=new Xt(t,e),a=new Xt(t,e+1);let l=Fe();return this.Kr.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Xt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return we.comparator(e.key,t.key)||je(e.Zr,t.Zr)}static Wr(e,t){return je(e.Zr,t.Zr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new qt(Xt.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new VO(l,t,s,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new Xt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ti(s),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Hy:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],u=>{const f=this.ei(u.Zr);l.push(f)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(je);return t.forEach(a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],f=>{s=s.add(f.Zr)})}),le.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new we(l),0);let f=new qt(je);return this.Xr.forEachWhile(m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(f=f.add(m.Zr)),!0)},u),le.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return le.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Xt(t,0),a=this.Xr.firstAfterOrEqual(s);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.ii=e,this.docs=function(){return new yt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let s=Fs();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Fs();const u=t.path,f=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:v}}=m.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||ZD(WD(v),s)<=0||(a.has(v.key)||Df(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ae(9500)}si(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ek(this)}getSize(e){return le.resolve(this.size)}}class Ek extends pk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.persistence=e,this.oi=new Ga(t=>Ky(t),Yy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this._i=0,this.ai=new ev,this.targetCount=0,this.ui=fl.cr()}forEachTarget(e,t){return this.oi.forEach((s,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),le.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new fl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Tr(t),le.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.ci={},this.overlays={},this.li=new Rf(0),this.hi=!1,this.hi=!0,this.Pi=new bk,this.referenceDelegate=e(this),this.Ti=new Tk(this),this.indexManager=new lk,this.remoteDocumentCache=function(a){return new xk(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new ak(t),this.Ei=new vk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _k,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new wk(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const a=new Ak(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return le.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class Ak extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.Vi=new ev,this.mi=null}static fi(e){return new tv(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,s=>{const a=we.fromPath(s);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Me.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return le.or([()=>le.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class sf{constructor(e,t){this.persistence=e,this.yi=new Ga(s=>rO(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=mk(this,t)}static fi(e,t){return new sf(e,t)}di(){}Ai(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return le.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(l=>l?le.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(f=>{f||(s++,l.removeEntry(u,Me.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}Dr(e,t,s){return le.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return le.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.ds=s,this.As=a}static Rs(e,t){let s=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new nv(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return sC()?8:tO(mn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,t,a,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new Sk;return this.Ss(e,t,u).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>l.result)}Ds(e,t,s,a){return s.documentReadCount<this.gs?(Qo()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Qo()<=Be.DEBUG&&pe("QueryEngine","Query:",Xo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Qo()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):le.resolve())}ws(e,t){if(Sx(t))return le.resolve(null);let s=Xr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=tf(t,null,"F"),s=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Fe(...l);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const y=this.vs(t,f);return this.Cs(t,y,u,m.readTime)?this.ws(e,tf(t,null,"F")):this.Fs(e,y,t,m)}))})))}bs(e,t,s,a){return Sx(t)||a.isEqual(Me.min())?le.resolve(null):this.ys.getDocuments(e,s).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,s,a)?le.resolve(null):(Qo()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Xo(t)),this.Fs(e,u,t,XD(a,uu)).next(f=>f))})}vs(e,t){let s=new qt(N1(e));return t.forEach((a,l)=>{Df(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Qo()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ys.getDocumentsMatchingQuery(e,t,Pi.min(),s)}Fs(e,t,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LocalStore",Nk=3e8;class Ck{constructor(e,t,s,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new yt(je),this.Os=new Ga(l=>Ky(l),Yy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Ik(n,e,t,s){return new Ck(n,e,t,s)}async function Z1(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],f=[];let m=Fe();for(const y of a){u.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(y=>({ks:y,removedBatchIds:u,addedBatchIds:f}))})})}function Mk(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,y,v){const b=y.batch,w=b.keys();let S=le.resolve();return w.forEach(O=>{S=S.next(()=>v.getEntry(m,O)).next(M=>{const I=y.docVersions.get(O);Ze(I!==null,48541),M.version.compareTo(I)<0&&(b.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),v.addEntry(M)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(m,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Fe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function J1(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Dk(n,e){const t=De(n),s=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((v,b)=>{const w=a.get(b);if(!w)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(sn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(b,S),function(M,I,F){return M.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Nk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,S,v)&&f.push(t.Ti.updateTargetData(l,S))});let m=Fs(),y=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(Ok(l,u,e.documentUpdates).next(v=>{m=v.qs,y=v.Qs})),!s.isEqual(Me.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(v)}return le.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,y)).next(()=>m)}).then(l=>(t.xs=a,l))}function Ok(n,e,t){let s=Fe(),a=Fe();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let u=Fs();return t.forEach((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):pe(rv,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)}),{qs:u,Qs:a}})}function kk(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Pk(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ti.getTargetData(s,e).next(l=>l?(a=l,le.resolve(a)):t.Ti.allocateTargetId(s).next(u=>(a=new Ci(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function cy(n,e,t){const s=De(n),a=s.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!wl(u))throw u;pe(rv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function Ux(n,e,t){const s=De(n);let a=Me.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",u=>function(m,y,v){const b=De(m),w=b.Os.get(v);return w!==void 0?le.resolve(b.xs.get(w)):b.Ti.getTargetData(y,v)}(s,u,Xr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(u,f.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(u,e,t?a:Me.min(),t?l:Fe())).next(f=>(jk(s,xO(e),f),{documents:f,$s:l})))}function jk(n,e,t){let s=n.Ns.get(e)||Me.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Ns.set(e,s)}class zx{constructor(){this.activeTargetIds=NO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vk{constructor(){this.xo=new zx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zx,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="ConnectivityMonitor";class Fx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(Bx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(Bx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function uy(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="RestConnection",Uk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Zh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,t,s,a,l){const u=uy(),f=this.jo(e,t.toUriEncodedString());pe(vg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:y}=new URL(f),v=qi(y);return this.Jo(e,f,m,s,v).then(b=>(pe(vg,`Received RPC '${e}' ${u}: `,b),b),b=>{throw ol(vg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b})}Yo(e,t,s,a,l,u){return this.zo(e,t,s,a,l)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const s=Uk[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Fk extends zk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const u=uy();return new Promise((f,m)=>{const y=new t1;y.setWithCredentials(!0),y.listenOnce(n1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Oh.NO_ERROR:const b=y.getResponseJson();pe(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Oh.TIMEOUT:pe(un,`RPC '${e}' ${u} timed out`),m(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const w=y.getStatus();if(pe(un,`RPC '${e}' ${u} failed with status:`,w,"response text:",y.getResponseText()),w>0){let S=y.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const M=function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN}(O.status);m(new me(M,O.message))}else m(new me(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new me(se.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:u,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{pe(un,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);pe(un,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",v,s,15)})}I_(e,t,s){const a=uy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=i1(),f=s1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=l.join("");pe(un,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=u.createWebChannel(v,m);this.E_(b);let w=!1,S=!1;const O=new Bk({Zo:I=>{S?pe(un,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(w||(pe(un,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),pe(un,`RPC '${e}' stream ${a} sending:`,I),b.send(I))},Xo:()=>b.close()}),M=(I,F,q)=>{I.listen(F,L=>{try{q(L)}catch(G){setTimeout(()=>{throw G},0)}})};return M(b,Kc.EventType.OPEN,()=>{S||(pe(un,`RPC '${e}' stream ${a} transport opened.`),O.__())}),M(b,Kc.EventType.CLOSE,()=>{S||(S=!0,pe(un,`RPC '${e}' stream ${a} transport closed`),O.u_(),this.d_(b))}),M(b,Kc.EventType.ERROR,I=>{S||(S=!0,ol(un,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),O.u_(new me(se.UNAVAILABLE,"The operation could not be completed")))}),M(b,Kc.EventType.MESSAGE,I=>{var F;if(!S){const q=I.data[0];Ze(!!q,16349);const L=q,G=(L==null?void 0:L.error)||((F=L[0])===null||F===void 0?void 0:F.error);if(G){pe(un,`RPC '${e}' stream ${a} received error:`,G);const J=G.status;let ae=function(D){const P=Dt[D];if(P!==void 0)return z1(P)}(J),C=G.message;ae===void 0&&(ae=se.INTERNAL,C="Unknown error status: "+J+" with message "+G.message),S=!0,O.u_(new me(ae,C)),b.close()}else pe(un,`RPC '${e}' stream ${a} received:`,q),O.c_(q)}}),M(f,r1.STAT_EVENT,I=>{I.stat===Zg.PROXY?pe(un,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Zg.NOPROXY&&pe(un,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){return new $O(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,s=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="PersistentStream";class tA{constructor(e,t,s,a,l,u,f,m){this.xi=e,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new eA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Bs(t.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===t&&this.z_(s,a)},s=>{e(()=>{const a=new me(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(qx,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(pe(qx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qk extends tA{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=QO(this.serializer,e),s=function(l){if(!("targetChange"in l))return Me.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Zr(u.readTime):Me.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=ly(this.serializer),t.addTarget=function(l,u){let f;const m=u.target;if(f=ry(m)?{documents:ZO(l,m)}:{query:JO(l,m).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=q1(l,u.resumeToken);const y=iy(l,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(Me.min())>0){f.readTime=rf(l,u.snapshotVersion.toTimestamp());const y=iy(l,u.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=tk(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=ly(this.serializer),t.removeTarget=e,this.Q_(t)}}class Hk extends tA{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=WO(e.writeResults,e.commitTime),s=Zr(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=ly(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>XO(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{}class $k extends Gk{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,ay(t,s),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())})}Yo(e,t,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,ay(t,s),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(se.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Kk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Bs(t),this.ua=!1):pe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class Yk{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{s.enqueueAndForget(async()=>{$a(this)&&(pe(za,"Restarting streams for network reachability change."),await async function(m){const y=De(m);y.da.add(4),await ku(y),y.Va.set("Unknown"),y.da.delete(4),await Vf(y)}(this))})}),this.Va=new Kk(s,a)}}async function Vf(n){if($a(n))for(const e of n.Aa)await e(!0)}async function ku(n){for(const e of n.Aa)await e(!1)}function nA(n,e){const t=De(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),ov(t)?av(t):El(t).N_()&&iv(t,e))}function sv(n,e){const t=De(n),s=El(t);t.Ea.delete(e),s.N_()&&rA(t,e),t.Ea.size===0&&(s.N_()?s.k_():$a(t)&&t.Va.set("Unknown"))}function iv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(n).Z_(e)}function rA(n,e){n.ma.Ke(e),El(n).X_(e)}function av(n){n.ma=new FO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),El(n).start(),n.Va.ca()}function ov(n){return $a(n)&&!El(n).O_()&&n.Ea.size>0}function $a(n){return De(n).da.size===0}function sA(n){n.ma=void 0}async function Qk(n){n.Va.set("Online")}async function Xk(n){n.Ea.forEach((e,t)=>{iv(n,e)})}async function Wk(n,e){sA(n),ov(n)?(n.Va.Pa(e),av(n)):n.Va.set("Unknown")}async function Zk(n,e,t){if(n.Va.set("Online"),e instanceof F1&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(s){pe(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await af(n,s)}else if(e instanceof Vh?n.ma.Xe(e):e instanceof B1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Me.min()))try{const s=await J1(n.localStore);t.compareTo(s)>=0&&await function(l,u){const f=l.ma.It(u);return f.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(y);v&&l.Ea.set(y,v.withResumeToken(m.resumeToken,u))}}),f.targetMismatches.forEach((m,y)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),rA(l,m);const b=new Ci(v.target,m,y,v.sequenceNumber);iv(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(s){pe(za,"Failed to raise snapshot:",s),await af(n,s)}}async function af(n,e,t){if(!wl(e))throw e;n.da.add(1),await ku(n),n.Va.set("Offline"),t||(t=()=>J1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(za,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Vf(n)})}function iA(n,e){return e().catch(t=>af(n,t,e))}async function Lf(n){const e=De(n),t=Ui(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Hy;for(;Jk(e);)try{const a=await kk(e.localStore,s);if(a===null){e.Ia.length===0&&t.k_();break}s=a.batchId,e4(e,a)}catch(a){await af(e,a)}aA(e)&&oA(e)}function Jk(n){return $a(n)&&n.Ia.length<10}function e4(n,e){n.Ia.push(e);const t=Ui(n);t.N_()&&t.ea&&t.ta(e.mutations)}function aA(n){return $a(n)&&!Ui(n).O_()&&n.Ia.length>0}function oA(n){Ui(n).start()}async function t4(n){Ui(n).ia()}async function n4(n){const e=Ui(n);for(const t of n.Ia)e.ta(t.mutations)}async function r4(n,e,t){const s=n.Ia.shift(),a=Wy.from(s,e,t);await iA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Lf(n)}async function s4(n,e){e&&Ui(n).ea&&await async function(s,a){if(function(u){return zO(u)&&u!==se.ABORTED}(a.code)){const l=s.Ia.shift();Ui(s).L_(),await iA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Lf(s)}}(n,e),aA(n)&&oA(n)}async function Hx(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),pe(za,"RemoteStore received new credentials");const s=$a(t);t.da.add(3),await ku(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Vf(t)}async function i4(n,e){const t=De(n);e?(t.da.delete(2),await Vf(t)):e||(t.da.add(2),await ku(t),t.Va.set("Unknown"))}function El(n){return n.fa||(n.fa=function(t,s,a){const l=De(t);return l.oa(),new qk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:Qk.bind(null,n),n_:Xk.bind(null,n),i_:Wk.bind(null,n),Y_:Zk.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),ov(n)?av(n):n.Va.set("Unknown")):(await n.fa.stop(),sA(n))})),n.fa}function Ui(n){return n.ga||(n.ga=function(t,s,a){const l=De(t);return l.oa(),new Hk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:t4.bind(null,n),i_:s4.bind(null,n),na:n4.bind(null,n),ra:r4.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Lf(n)):(await n.ga.stop(),n.Ia.length>0&&(pe(za,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,f=new lv(e,t,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(n,e){if(Bs("AsyncQueue",`${e}: ${n}`),wl(n))return new me(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=Yc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new rl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.pa=new yt(we.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class ml{constructor(e,t,s,a,l,u,f,m,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new ml(e,t,rl.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class o4{constructor(){this.queries=$x(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=De(t),l=a.queries;a.queries=$x(),l.forEach((u,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function $x(){return new Ga(n=>R1(n),Mf)}async function uv(n,e){const t=De(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(s=2):(l=new a4,s=e.va()?0:1);try{switch(s){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=cv(u,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&hv(t)}async function dv(n,e){const t=De(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function l4(n,e){const t=De(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Ma(a)&&(s=!0);u.ba=a}}s&&hv(t)}function c4(n,e,t){const s=De(n),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function hv(n){n.Ca.forEach(e=>{e.next()})}var dy,Kx;(Kx=dy||(dy={})).xa="default",Kx.Cache="cache";class fv{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ml(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.key=e}}class cA{constructor(e){this.key=e}}class u4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.Za=N1(e),this.Xa=new rl(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new Gx,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const w=a.get(v),S=Df(this.query,b)?b:null,O=!!w&&this.mutatedKeys.has(w.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;w&&S?w.data.isEqual(S.data)?O!==M&&(s.track({type:3,doc:S}),I=!0):this.ru(w,S)||(s.track({type:2,doc:S}),I=!0,(m&&this.Za(S,m)>0||y&&this.Za(S,y)<0)&&(f=!0)):!w&&S?(s.track({type:0,doc:S}),I=!0):w&&!S&&(s.track({type:1,doc:w}),I=!0,(m||y)&&(f=!0)),I&&(S?(u=u.add(S),l=M?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Xa:u,nu:s,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((v,b)=>function(S,O){const M=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:I})}};return M(S)-M(O)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(s),a=a!=null&&a;const f=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,y=m!==this.Ja;return this.Ja=m,u.length!==0||y?{snapshot:new ml(this.query,e.Xa,l,u,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Gx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new cA(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new lA(s))}),t}au(e){this.Ha=e.$s,this.Ya=Fe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ml.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const mv="SyncEngine";class d4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class h4{constructor(e){this.key=e,this.cu=!1}}class f4{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Ga(f=>R1(f),Mf),this.Pu=new Map,this.Tu=new Set,this.Iu=new yt(we.comparator),this.Eu=new Map,this.du=new ev,this.Au={},this.Ru=new Map,this.Vu=fl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function m4(n,e,t=!0){const s=pA(n);let a;const l=s.hu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await uA(s,e,t,!0),a}async function p4(n,e){const t=pA(n);await uA(t,e,!0,!1)}async function uA(n,e,t,s){const a=await Pk(n.localStore,Xr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await g4(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&nA(n.remoteStore,a),f}async function g4(n,e,t,s,a){n.fu=(b,w,S)=>async function(M,I,F,q){let L=I.view.tu(F);L.Cs&&(L=await Ux(M.localStore,I.query,!1).then(({documents:C})=>I.view.tu(C,L)));const G=q&&q.targetChanges.get(I.targetId),J=q&&q.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(L,M.isPrimaryClient,G,J);return Qx(M,I.targetId,ae.ou),ae.snapshot}(n,b,w,S);const l=await Ux(n.localStore,e,!0),u=new u4(e,l.$s),f=u.tu(l.documents),m=Ou.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),y=u.applyChanges(f,n.isPrimaryClient,m);Qx(n,t,y.ou);const v=new d4(e,t,u);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),y.snapshot}async function y4(n,e,t){const s=De(n),a=s.hu.get(e),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(u=>!Mf(u,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await cy(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&sv(s.remoteStore,a.targetId),hy(s,a.targetId)}).catch(bl)):(hy(s,a.targetId),await cy(s.localStore,a.targetId,!0))}async function v4(n,e){const t=De(n),s=t.hu.get(e),a=t.Pu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),sv(t.remoteStore,s.targetId))}async function _4(n,e,t){const s=S4(n);try{const a=await function(u,f){const m=De(u),y=Ft.now(),v=f.reduce((S,O)=>S.add(O.key),Fe());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let O=Fs(),M=Fe();return m.Bs.getEntries(S,v).next(I=>{O=I,O.forEach((F,q)=>{q.isValidDocument()||(M=M.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,O)).next(I=>{b=I;const F=[];for(const q of f){const L=PO(q,b.get(q.key).overlayedDocument);L!=null&&F.push(new Yi(q.key,L,_1(L.value.mapValue),Wr.exists(!0)))}return m.mutationQueue.addMutationBatch(S,y,F,f)}).next(I=>{w=I;const F=I.applyToLocalDocumentSet(b,M);return m.documentOverlayCache.saveOverlays(S,I.batchId,F)})}).then(()=>({batchId:w.batchId,changes:I1(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,f,m){let y=u.Au[u.currentUser.toKey()];y||(y=new yt(je)),y=y.insert(f,m),u.Au[u.currentUser.toKey()]=y}(s,a.batchId,t),await Pu(s,a.changes),await Lf(s.remoteStore)}catch(a){const l=cv(a,"Failed to persist write");t.reject(l)}}async function dA(n,e){const t=De(n);try{const s=await Dk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Eu.get(l);u&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?Ze(u.cu,14607):a.removedDocuments.size>0&&(Ze(u.cu,42227),u.cu=!1))}),await Pu(t,s,e)}catch(s){await bl(s)}}function Yx(n,e,t){const s=De(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.hu.forEach((l,u)=>{const f=u.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const m=De(u);m.onlineState=f;let y=!1;m.queries.forEach((v,b)=>{for(const w of b.Sa)w.Fa(f)&&(y=!0)}),y&&hv(m)}(s.eventManager,e),a.length&&s.lu.Y_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b4(n,e,t){const s=De(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),l=a&&a.key;if(l){let u=new yt(we.comparator);u=u.insert(l,fn.newNoDocument(l,Me.min()));const f=Fe().add(l),m=new Pf(Me.min(),new Map,new yt(je),u,f);await dA(s,m),s.Iu=s.Iu.remove(l),s.Eu.delete(e),pv(s)}else await cy(s.localStore,e,!1).then(()=>hy(s,e,t)).catch(bl)}async function w4(n,e){const t=De(n),s=e.batch.batchId;try{const a=await Mk(t.localStore,e);fA(t,s,null),hA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(t,a)}catch(a){await bl(a)}}async function x4(n,e,t){const s=De(n);try{const a=await function(u,f){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return m.mutationQueue.lookupMutationBatch(y,f).next(b=>(Ze(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(y,b))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>m.localDocuments.getDocuments(y,v))})}(s.localStore,e);fA(s,e,t),hA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Pu(s,a)}catch(a){await bl(a)}}function hA(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function fA(n,e,t){const s=De(n);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Au[s.currentUser.toKey()]=a}}function hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Pu.get(e))n.hu.delete(s),t&&n.lu.gu(s,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(s=>{n.du.containsKey(s)||mA(n,s)})}function mA(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(sv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),pv(n))}function Qx(n,e,t){for(const s of t)s instanceof lA?(n.du.addReference(s.key,e),E4(n,s)):s instanceof cA?(pe(mv,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,e),n.du.containsKey(s.key)||mA(n,s.key)):Ae(19791,{pu:s})}function E4(n,e){const t=e.key,s=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(s)||(pe(mv,"New document in limbo: "+t),n.Tu.add(s),pv(n))}function pv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new we(ut.fromString(e)),s=n.Vu.next();n.Eu.set(s,new h4(t)),n.Iu=n.Iu.insert(t,s),nA(n.remoteStore,new Ci(Xr(If(t.path)),s,"TargetPurposeLimboResolution",Rf.le))}}async function Pu(n,e,t){const s=De(n),a=[],l=[],u=[];s.hu.isEmpty()||(s.hu.forEach((f,m)=>{u.push(s.fu(m,e,t).then(y=>{var v;if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(y){a.push(y);const b=nv.Rs(m.targetId,y);l.push(b)}}))}),await Promise.all(u),s.lu.Y_(a),await async function(m,y){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(y,w=>le.forEach(w.ds,S=>v.persistence.referenceDelegate.addReference(b,w.targetId,S)).next(()=>le.forEach(w.As,S=>v.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))}catch(b){if(!wl(b))throw b;pe(rv,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const S=v.xs.get(w),O=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(O);v.xs=v.xs.insert(w,M)}}}(s.localStore,l))}async function T4(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){pe(mv,"User change. New user:",e.toKey());const s=await Z1(t.localStore,e);t.currentUser=e,function(l,u){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new me(se.CANCELLED,u))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(t,s.ks)}}function A4(n,e){const t=De(n),s=t.Eu.get(e);if(s&&s.cu)return Fe().add(s.key);{let a=Fe();const l=t.Pu.get(e);if(!l)return a;for(const u of l){const f=t.hu.get(u);a=a.unionWith(f.view.eu)}return a}}function pA(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b4.bind(null,e),e.lu.Y_=l4.bind(null,e.eventManager),e.lu.gu=c4.bind(null,e.eventManager),e}function S4(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Ik(this.persistence,new Rk,e.initialUser,this.serializer)}Su(e){return new W1(tv.fi,this.serializer)}bu(e){return new Vk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class R4 extends of{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ze(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hk(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new W1(s=>sf.fi(s,t),this.serializer)}}class fy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o4}()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),s=function(l){return new Fk(l)}(e.databaseInfo);return function(l,u,f,m){return new $k(l,u,f,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,u,f){return new Yk(s,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Yx(this.syncEngine,t,0),function(){return Fx.C()?new Fx:new Lk}())}createSyncEngine(e,t){return function(a,l,u,f,m,y,v){const b=new f4(a,l,u,f,m,y);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=De(a);pe(za,"RemoteStore shutting down."),l.da.add(5),await ku(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class N4{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=c1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{pe(zi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(pe(zi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=cv(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bg(n,e){n.asyncQueue.verifyOperationInProgress(),pe(zi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Z1(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Xx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await C4(n);pe(zi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>Hx(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>Hx(e.remoteStore,a)),n._onlineComponents=e}async function C4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(zi,"Using user provided OfflineComponentProvider");try{await bg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ol("Error using user provided cache. Falling back to memory cache: "+t),await bg(n,new of)}}else pe(zi,"Using default OfflineComponentProvider"),await bg(n,new R4(void 0));return n._offlineComponents}async function gA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(zi,"Using user provided OnlineComponentProvider"),await Xx(n,n._uninitializedComponentsProvider._online)):(pe(zi,"Using default OnlineComponentProvider"),await Xx(n,new fy))),n._onlineComponents}function I4(n){return gA(n).then(e=>e.syncEngine)}async function lf(n){const e=await gA(n),t=e.eventManager;return t.onListen=m4.bind(null,e.syncEngine),t.onUnlisten=y4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v4.bind(null,e.syncEngine),t}function M4(n,e,t={}){const s=new Vs;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,m,y){const v=new gv({next:w=>{v.xu(),u.enqueueAndForget(()=>dv(l,b));const S=w.docs.has(f);!S&&w.fromCache?y.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?y.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new fv(If(f.path),v,{includeMetadataChanges:!0,Qa:!0});return uv(l,b)}(await lf(n),n.asyncQueue,e,t,s)),s.promise}function D4(n,e,t={}){const s=new Vs;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,m,y){const v=new gv({next:w=>{v.xu(),u.enqueueAndForget(()=>dv(l,b)),w.fromCache&&m.source==="server"?y.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new fv(f,v,{includeMetadataChanges:!0,Qa:!0});return uv(l,b)}(await lf(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n,e,t){if(!t)throw new me(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O4(n,e,t,s){if(e===!0&&s===!0)throw new me(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zx(n){if(!we.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jx(n){if(we.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uf(n);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function k4(n,e){if(e<=0)throw new me(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firestore.googleapis.com",eE=!0;class tE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=eE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uk)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BD;switch(s.type){case"firstParty":return new GD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Wx.get(t);s&&(pe("ComponentProvider","Removing Datastore"),Wx.delete(t),s.terminate())}(this),Promise.resolve()}}function P4(n,e,t,s={}){var a;n=_r(n,zf);const l=qi(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(Ny(`https://${m}`),Cy("Firestore",!0)),u.host!==_A&&u.host!==m&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},u),{host:m,ssl:l,emulatorOptions:s});if(!Ls(y,f)&&(n._setSettings(y),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=hn.MOCK_USER;else{v=pT(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(w)}n._authCredentials=new FD(new o1(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Oi extends Gs{constructor(e,t,s){super(e,t,If(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new we(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Hn(n,e,...t){if(n=pt(n),vA("collection","path",e),n instanceof zf){const s=ut.fromString(e,...t);return Jx(s),new Oi(n,null,s)}{if(!(n instanceof wn||n instanceof Oi))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ut.fromString(e,...t));return Jx(s),new Oi(n.firestore,null,s)}}function or(n,e,...t){if(n=pt(n),arguments.length===1&&(e=c1.newId()),vA("doc","path",e),n instanceof zf){const s=ut.fromString(e,...t);return Zx(s),new wn(n,null,new we(s))}{if(!(n instanceof wn||n instanceof Oi))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ut.fromString(e,...t));return Zx(s),new wn(n.firestore,n instanceof Oi?n.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new eA(this,"async_queue_retry"),this.rc=()=>{const s=_g();s&&pe(nE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=_g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=_g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Vs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wl(e))throw e;pe(nE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Bs("INTERNAL UNHANDLED ERROR: ",sE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=lv.createAndSchedule(this,e,t,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ae(47125,{cc:sE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function sE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ba extends zf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new rE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function j4(n,e){const t=typeof n=="object"?n:Dy(),s=typeof n=="string"?n:Zh,a=Ef(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=hT("firestore");l&&P4(a,...l)}return a}function Bf(n){if(n._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V4(n),n._firestoreClient}function V4(n){var e,t,s;const a=n._freezeSettings(),l=function(f,m,y,v){return new aO(f,m,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,yA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new N4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(sn.fromBase64String(e))}catch(t){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^__.*__$/;class U4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class bA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Yi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:n})}}class qf{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Vc(e),a}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return cf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(wA(this.Ic)&&L4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class z4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jf(e)}bc(e,t,s,a=!1){return new qf({Ic:e,methodName:t,wc:s,path:rn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _v(n){const e=n._freezeSettings(),t=jf(n._databaseId);return new z4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B4(n,e,t,s,a,l={}){const u=n.bc(l.merge||l.mergeFields?2:0,e,t,a);Ev("Data must be an object, but it was:",u,s);const f=EA(s,u);let m,y;if(l.merge)m=new qn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=my(e,b,t);if(!u.contains(w))throw new me(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);AA(v,w)||v.push(w)}m=new qn(v),y=u.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,y=u.fieldTransforms;return new U4(new Cn(f),m,y)}class Hf extends Tl{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function xA(n,e,t){return new qf({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bv extends Tl{_toFieldTransform(e){return new Xy(e.path,new pu)}isEqual(e){return e instanceof bv}}class wv extends Tl{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=xA(this,e,!0),s=this.Sc.map(l=>Ka(l,t)),a=new dl(s);return new Xy(e.path,a)}isEqual(e){return e instanceof wv&&Ls(this.Sc,e.Sc)}}class xv extends Tl{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=xA(this,e,!0),s=this.Sc.map(l=>Ka(l,t)),a=new hl(s);return new Xy(e.path,a)}isEqual(e){return e instanceof xv&&Ls(this.Sc,e.Sc)}}function F4(n,e,t,s){const a=n.bc(1,e,t);Ev("Data must be an object, but it was:",a,s);const l=[],u=Cn.empty();Ki(s,(m,y)=>{const v=Tv(e,m,t);y=pt(y);const b=a.mc(v);if(y instanceof Hf)l.push(v);else{const w=Ka(y,b);w!=null&&(l.push(v),u.set(v,w))}});const f=new qn(l);return new bA(u,f,a.fieldTransforms)}function q4(n,e,t,s,a,l){const u=n.bc(1,e,t),f=[my(e,s,t)],m=[a];if(l.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(my(e,l[w])),m.push(l[w+1]);const y=[],v=Cn.empty();for(let w=f.length-1;w>=0;--w)if(!AA(y,f[w])){const S=f[w];let O=m[w];O=pt(O);const M=u.mc(S);if(O instanceof Hf)y.push(S);else{const I=Ka(O,M);I!=null&&(y.push(S),v.set(S,I))}}const b=new qn(y);return new bA(v,b,u.fieldTransforms)}function H4(n,e,t,s=!1){return Ka(t,n.bc(s?4:3,e))}function Ka(n,e){if(TA(n=pt(n)))return Ev("Unsupported field value:",e,n),EA(n,e);if(n instanceof Tl)return function(s,a){if(!wA(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,a){const l=[];let u=0;for(const f of s){let m=Ka(f,a.fc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ft.fromDate(s);return{timestampValue:rf(a.serializer,l)}}if(s instanceof Ft){const l=new Ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rf(a.serializer,l)}}if(s instanceof yv)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pl)return{bytesValue:q1(a.serializer,s._byteString)};if(s instanceof wn){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vv)return function(u,f){return{mapValue:{fields:{[y1]:{stringValue:v1},[Jh]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw f.gc("VectorValues must only contain numeric values.");return Qy(f.serializer,y)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${Uf(s)}`)}(n,e)}function EA(n,e){const t={};return d1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(n,(s,a)=>{const l=Ka(a,e.Ac(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function TA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof yv||n instanceof pl||n instanceof wn||n instanceof Tl||n instanceof vv)}function Ev(n,e,t){if(!TA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=Uf(t);throw s==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+s)}}function my(n,e,t){if((e=pt(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return Tv(n,e);throw cf("Field path arguments must be of type string or ",n,!1,void 0,t)}const G4=new RegExp("[~\\*/\\[\\]]");function Tv(n,e,t){if(e.search(G4)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ff(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cf(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new me(se.INVALID_ARGUMENT,f+n+m)}function AA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $4 extends SA{data(){return super.data()}}function Gf(n,e){return typeof e=="string"?Tv(n,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class Sv extends Av{}function gl(n,e,...t){let s=[];e instanceof Av&&s.push(e),s=s.concat(t),function(l){const u=l.filter(m=>m instanceof Rv).length,f=l.filter(m=>m instanceof $f).length;if(u>1||u>0&&f>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class $f extends Sv{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new $f(e,t,s)}_apply(e){const t=this._parse(e);return NA(e._query,t),new Gs(e.firestore,e.converter,sy(e._query,t))}_parse(e){const t=_v(e.firestore);return function(l,u,f,m,y,v,b){let w;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){lE(b,v);const O=[];for(const M of b)O.push(oE(m,l,M));w={arrayValue:{values:O}}}else w=oE(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||lE(b,v),w=H4(f,u,b,v==="in"||v==="not-in");return kt.create(y,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wg(n,e,t){const s=e,a=Gf("where",n);return $f._create(a,s,t)}class Rv extends Av{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rv(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)NA(u,m),u=sy(u,m)}(e._query,t),new Gs(e.firestore,e.converter,sy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nv extends Sv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nv(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(l,u)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new xl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function gu(n,e="asc"){const t=e,s=Gf("orderBy",n);return Nv._create(s,t)}class Cv extends Sv{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Cv(e,t,s)}_apply(e){return new Gs(e.firestore,e.converter,tf(e._query,this._limit,this._limitType))}}function aE(n){return k4("limit",n),Cv._create("limit",n,"F")}function oE(n,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S1(e)&&t.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ut.fromString(t));if(!we.isDocumentKey(s))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bx(n,new we(s))}if(t instanceof wn)return bx(n,t._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(t)}.`)}function lE(n,e){if(!Array.isArray(n)||n.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(n,e){const t=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class K4{convertValue(e,t="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ki(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Jh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>Rt(u.doubleValue));return new vv(l)}convertGeoPoint(e){return new yv(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Cf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=ji(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ut.fromString(e);Ze(Q1(s),9688,{name:e});const a=new hu(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(t)||Bs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CA extends SA{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Lh extends CA{data(e={}){return super.data(e)}}class IA{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Xc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Lh(this._firestore,this._userDataWriter,s.key,s,new Xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const m=new Lh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Xc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Lh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Xc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,v=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:Q4(f.type),doc:m,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){n=_r(n,wn);const e=_r(n.firestore,Ba);return M4(Bf(e),n._key).then(t=>OA(e,n,t))}class Iv extends K4{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function uf(n){n=_r(n,Gs);const e=_r(n.firestore,Ba),t=Bf(e),s=new Iv(e);return RA(n._query),D4(t,n._query).then(a=>new IA(e,s,n,a))}function Ds(n,e,t,...s){n=_r(n,wn);const a=_r(n.firestore,Ba),l=_v(a);let u;return u=typeof(e=pt(e))=="string"||e instanceof Ff?q4(l,"updateDoc",n._key,e,t,s):F4(l,"updateDoc",n._key,e),DA(a,[u.toMutation(n._key,Wr.exists(!0))])}function ka(n,e){const t=_r(n.firestore,Ba),s=or(n),a=Y4(n.converter,e);return DA(t,[B4(_v(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Wr.exists(!1))]).then(()=>s)}function MA(n,...e){var t,s,a;n=pt(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||iE(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(iE(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,y,v;if(n instanceof wn)y=_r(n.firestore,Ba),v=If(n._key.path),m={next:b=>{e[u]&&e[u](OA(y,n,b))},error:e[u+1],complete:e[u+2]};else{const b=_r(n,Gs);y=_r(b.firestore,Ba),v=b._query;const w=new Iv(y);m={next:S=>{e[u]&&e[u](new IA(y,w,b,S))},error:e[u+1],complete:e[u+2]},RA(n._query)}return function(w,S,O,M){const I=new gv(M),F=new fv(S,I,O);return w.asyncQueue.enqueueAndForget(async()=>uv(await lf(w),F)),()=>{I.xu(),w.asyncQueue.enqueueAndForget(async()=>dv(await lf(w),F))}}(Bf(y),v,f,m)}function DA(n,e){return function(s,a){const l=new Vs;return s.asyncQueue.enqueueAndForget(async()=>_4(await I4(s),a,l)),l.promise}(Bf(n),e)}function OA(n,e,t){const s=t.docs.get(e._key),a=new Iv(n);return new CA(n,a,e._key,s,new Xc(t.hasPendingWrites,t.fromCache),e.converter)}function Ot(){return new bv("serverTimestamp")}function W4(...n){return new wv("arrayUnion",n)}function Z4(...n){return new xv("arrayRemove",n)}(function(e,t=!0){(function(a){_l=a})(Ha),ja(new ki("firestore",(s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ba(new qD(s.getProvider("auth-internal")),new $D(u,s.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(y.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Yr(lx,cx,e),Yr(lx,cx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebasestorage.googleapis.com",PA="storageBucket",J4=2*60*1e3,eP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends ss{constructor(e,t,s=0){super(xg(e),`Firebase Storage: ${t} (${xg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function xg(n){return"storage/"+n}function Mv(){const n="An unknown error occurred, please check the error payload for server response.";return new Et(xt.UNKNOWN,n)}function tP(n){return new Et(xt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function nP(n){return new Et(xt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(xt.UNAUTHENTICATED,n)}function sP(){return new Et(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iP(n){return new Et(xt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function aP(){return new Et(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oP(){return new Et(xt.CANCELED,"User canceled the upload/download.")}function lP(n){return new Et(xt.INVALID_URL,"Invalid URL '"+n+"'.")}function cP(n){return new Et(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uP(){return new Et(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PA+"' property when initializing the app?")}function dP(){return new Et(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hP(){return new Et(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fP(n){return new Et(xt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function py(n){return new Et(xt.INVALID_ARGUMENT,n)}function jA(){return new Et(xt.APP_DELETED,"The Firebase app was deleted.")}function mP(n){return new Et(xt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(n,e){return new Et(xt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function qc(n){throw new Et(xt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Gn.makeFromUrl(e,t)}catch{return new Gn(e,"")}if(s.path==="")return s;throw cP(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function y(G){G.path_=decodeURIComponent(G.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),O={bucket:1,path:3},M=t===kA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",F=new RegExp(`^https?://${M}/${a}/${I}`,"i"),L=[{regex:f,indices:m,postModify:l},{regex:S,indices:O,postModify:y},{regex:F,indices:{bucket:1,path:2},postModify:y}];for(let G=0;G<L.length;G++){const J=L[G],ae=J.regex.exec(e);if(ae){const C=ae[J.indices.bucket];let A=ae[J.indices.path];A||(A=""),s=new Gn(C,A),J.postModify(s);break}}if(s==null)throw lP(e);return s}}class pP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n,e,t){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let y=!1;function v(...I){y||(y=!0,e.apply(null,I))}function b(I){a=setTimeout(()=>{a=null,n(S,m())},I)}function w(){l&&clearTimeout(l)}function S(I,...F){if(y){w();return}if(I){w(),v.call(null,I,...F);return}if(m()||u){w(),v.call(null,I,...F);return}s<64&&(s*=2);let L;f===1?(f=2,L=0):L=(s+Math.random())*1e3,b(L)}let O=!1;function M(I){O||(O=!0,w(),!y&&(a!==null?(I||(f=2),clearTimeout(a),b(0)):I||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,M(!0)},t),M}function yP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){return n!==void 0}function _P(n){return typeof n=="object"&&!Array.isArray(n)}function Dv(n){return typeof n=="string"||n instanceof String}function cE(n){return Ov()&&n instanceof Blob}function Ov(){return typeof Blob<"u"}function uE(n,e,t,s){if(s<e)throw py(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw py(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function VA(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Pa;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Pa||(Pa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,s,a,l,u,f,m,y,v,b,w=!0,S=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new yh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Pa.NO_ERROR,m=l.getStatus();if(!f||bP(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Pa.ABORT;s(!1,new yh(!1,null,v));return}const y=this.successCodes_.indexOf(m)!==-1;s(!0,new yh(y,l))})},t=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());vP(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=Mv();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?jA():oP();u(m)}else{const m=aP();u(m)}};this.canceled_?t(!1,new yh(!1,null,!0)):this.backoffId_=gP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function xP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function EP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function AP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SP(n,e,t,s,a,l,u=!0,f=!1){const m=VA(n.urlParams),y=n.url+m,v=Object.assign({},n.headers);return TP(v,e),xP(v,t),EP(v,l),AP(v,s),new wP(y,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NP(...n){const e=RP();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Ov())return new Blob(n);throw new Et(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){if(typeof atob>"u")throw fP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Eg{constructor(e,t){this.data=e,this.contentType=t||null}}function MP(n,e){switch(n){case Gr.RAW:return new Eg(LA(e));case Gr.BASE64:case Gr.BASE64URL:return new Eg(UA(n,e));case Gr.DATA_URL:return new Eg(OP(e),kP(e))}throw Mv()}function LA(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=n.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function DP(n){let e;try{e=decodeURIComponent(n)}catch{throw iu(Gr.DATA_URL,"Malformed data URL.")}return LA(e)}function UA(n,e){switch(n){case Gr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw iu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Gr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw iu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=IP(e)}catch(a){throw a.message.includes("polyfill")?a:iu(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class zA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw iu(Gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=PP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function OP(n){const e=new zA(n);return e.base64?UA(Gr.BASE64,e.rest):DP(e.rest)}function kP(n){return new zA(n).contentType}function PP(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){let s=0,a="";cE(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(cE(this.data_)){const s=this.data_,a=CP(s,e,t);return a===null?null:new Ni(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ni(s,!0)}}static getBlob(...e){if(Ov()){const t=e.map(s=>s instanceof Ni?s.data_:s);return new Ni(NP.apply(null,t))}else{const t=e.map(u=>Dv(u)?MP(Gr.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new Ni(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n){let e;try{e=JSON.parse(n)}catch{return null}return _P(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function VP(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function FA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e){return e}class bn{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||LP}}let vh=null;function UP(n){return!Dv(n)||n.length<2?n:FA(n)}function qA(){if(vh)return vh;const n=[];n.push(new bn("bucket")),n.push(new bn("generation")),n.push(new bn("metageneration")),n.push(new bn("name","fullPath",!0));function e(l,u){return UP(u)}const t=new bn("name");t.xform=e,n.push(t);function s(l,u){return u!==void 0?Number(u):u}const a=new bn("size");return a.xform=s,n.push(a),n.push(new bn("timeCreated")),n.push(new bn("updated")),n.push(new bn("md5Hash",null,!0)),n.push(new bn("cacheControl",null,!0)),n.push(new bn("contentDisposition",null,!0)),n.push(new bn("contentEncoding",null,!0)),n.push(new bn("contentLanguage",null,!0)),n.push(new bn("contentType",null,!0)),n.push(new bn("metadata","customMetadata",!0)),vh=n,vh}function zP(n,e){function t(){const s=n.bucket,a=n.fullPath,l=new Gn(s,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function BP(n,e,t){const s={};s.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return zP(s,n),s}function HA(n,e,t){const s=BA(e);return s===null?null:BP(n,s,t)}function FP(n,e,t,s){const a=BA(e);if(a===null||!Dv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(y=>{const v=n.bucket,b=n.fullPath,w="/b/"+u(v)+"/o/"+u(b),S=Kf(w,t,s),O=VA({alt:"media",token:y});return S+O})[0]}function qP(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class kv{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){if(!n)throw Mv()}function HP(n,e){function t(s,a){const l=HA(n,a,e);return GA(l!==null),l}return t}function GP(n,e){function t(s,a){const l=HA(n,a,e);return GA(l!==null),FP(l,a,n.host,n._protocol)}return t}function $A(n){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=sP():a=rP():t.getStatus()===402?a=nP(n.bucket):t.getStatus()===403?a=iP(n.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function KA(n){const e=$A(n);function t(s,a){let l=e(s,a);return s.getStatus()===404&&(l=tP(n.path)),l.serverResponse=a.serverResponse,l}return t}function $P(n,e,t){const s=e.fullServerUrl(),a=Kf(s,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,f=new kv(a,l,GP(n,t),u);return f.errorHandler=KA(e),f}function KP(n,e){const t=e.fullServerUrl(),s=Kf(t,n.host,n._protocol),a="DELETE",l=n.maxOperationRetryTime;function u(m,y){}const f=new kv(s,a,u,l);return f.successCodes=[200,204],f.errorHandler=KA(e),f}function YP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function QP(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=YP(null,e)),s}function XP(n,e,t,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let L="";for(let G=0;G<2;G++)L=L+Math.random().toString().slice(2);return L}const m=f();u["Content-Type"]="multipart/related; boundary="+m;const y=QP(e,s,a),v=qP(y,t),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=Ni.getBlob(b,s,w);if(S===null)throw dP();const O={name:y.fullPath},M=Kf(l,n.host,n._protocol),I="POST",F=n.maxUploadRetryTime,q=new kv(M,I,HP(n,t),F);return q.urlParams=O,q.headers=u,q.body=S.uploadData(),q.errorHandler=$A(e),q}class WP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,l){if(this.sent_)throw qc("cannot .send() more than once");if(qi(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZP extends WP{initXhr(){this.xhr_.responseType="text"}}function Pv(){return new ZP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t){this._service=e,t instanceof Gn?this._location=t:this._location=Gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fa(e,t)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FA(this._location.path)}get storage(){return this._service}get parent(){const e=jP(this._location.path);if(e===null)return null;const t=new Gn(this._location.bucket,e);return new Fa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw mP(e)}}function JP(n,e,t){n._throwIfRoot("uploadBytes");const s=XP(n.storage,n._location,qA(),new Ni(e,!0),t);return n.storage.makeRequestWithTokens(s,Pv).then(a=>({metadata:a,ref:n}))}function e3(n){n._throwIfRoot("getDownloadURL");const e=$P(n.storage,n._location,qA());return n.storage.makeRequestWithTokens(e,Pv).then(t=>{if(t===null)throw hP();return t})}function t3(n){n._throwIfRoot("deleteObject");const e=KP(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Pv)}function n3(n,e){const t=VP(n._location.path,e),s=new Gn(n._location.bucket,t);return new Fa(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(n){return/^[A-Za-z]+:\/\//.test(n)}function s3(n,e){return new Fa(n,e)}function YA(n,e){if(n instanceof jv){const t=n;if(t._bucket==null)throw uP();const s=new Fa(t,t._bucket);return e!=null?YA(s,e):s}else return e!==void 0?n3(n,e):n}function i3(n,e){if(e&&r3(e)){if(n instanceof jv)return s3(n,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}else return YA(n,e)}function dE(n,e){const t=e==null?void 0:e[PA];return t==null?null:Gn.makeFromBucketSpec(t,n)}function a3(n,e,t,s={}){n.host=`${e}:${t}`;const a=qi(e);a&&(Ny(`https://${n.host}/b`),Cy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:pT(l,n.app.options.projectId))}class jv{constructor(e,t,s,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=kA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J4,this._maxUploadRetryTime=eP,this._requests=new Set,a!=null?this._bucket=Gn.makeFromBucketSpec(a,this._host):this._bucket=dE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=dE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fa(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new pP(jA());{const u=SP(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const hE="@firebase/storage",fE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="storage";function Tg(n,e,t){return n=pt(n),JP(n,e,t)}function Ag(n){return n=pt(n),e3(n)}function o3(n){return n=pt(n),t3(n)}function _h(n,e){return n=pt(n),i3(n,e)}function l3(n=Dy(),e){n=pt(n);const s=Ef(n,QA).getImmediate({identifier:e}),a=hT("storage");return a&&c3(s,...a),s}function c3(n,e,t,s={}){a3(n,e,t,s)}function u3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new jv(t,s,a,e,Ha)}function d3(){ja(new ki(QA,u3,"PUBLIC").setMultipleInstances(!0)),Yr(hE,fE,""),Yr(hE,fE,"esm2017")}d3();const h3={apiKey:"AIzaSyCqBAOc6BESjL0PfUoEx3vPbAqI6tNCdWU",authDomain:"la-previa-chat.firebaseapp.com",projectId:"la-previa-chat",storageBucket:"la-previa-chat.firebasestorage.app",messagingSenderId:"680714262585",appId:"1:680714262585:web:50a60221d84e300eeed5e8"},Vv=vT(h3),Jo=UD(Vv),mt=j4(Vv),bh=l3(Vv),lt={USERS:"users",ROOMS:"rooms",MESSAGES:"messages",REPORTS:"reports"},gr={PUBLIC:"public",PRIVATE:"private",VIP_ONLY:"vipOnly"},XA={MALE:"masculino",FEMALE:"femenino",OTHER:"otro",PREFER_NOT_TO_SAY:"prefiero_no_decir"},WA=["Buenos Aires","Catamarca","Chaco","Chubut","Córdoba","Corrientes","Entre Ríos","Formosa","Jujuy","La Pampa","La Rioja","Mendoza","Misiones","Neuquén","Río Negro","Salta","San Juan","San Luis","Santa Cruz","Santa Fe","Santiago del Estero","Tierra del Fuego","Tucumán","Ciudad Autónoma de Buenos Aires"],f3=[{id:"general",name:"General",topic:"Charla general para todos",type:gr.PUBLIC,description:"Sala principal para charlar de todo un poco"},{id:"amistad",name:"Amistad",topic:"Conocé gente nueva y hacé amigos",type:gr.PUBLIC,description:"Para conocer gente y hacer nuevas amistades"},{id:"amor",name:"Amor y Romance",topic:"Buscás el amor? Esta es tu sala",type:gr.PUBLIC,description:"Para quienes buscan algo más que amistad"},{id:"musica",name:"Música",topic:"Hablemos de música argentina e internacional",type:gr.PUBLIC,description:"Compartí tus gustos musicales"},{id:"deportes",name:"Deportes",topic:"Fútbol, básquet, tenis y más",type:gr.PUBLIC,description:"Todo sobre deportes argentinos e internacionales"},{id:"vip-exclusiva",name:"VIP Exclusiva",topic:"Sala exclusiva para miembros VIP",type:gr.VIP_ONLY,description:"Acceso exclusivo para usuarios VIP con funciones premium"}],ar={MAX_MESSAGE_LENGTH:500,MAX_NICKNAME_LENGTH:20,MIN_NICKNAME_LENGTH:3,MAX_AUDIO_DURATION:60,SUPPORTED_IMAGE_TYPES:["image/jpeg","image/png","image/gif"],SUPPORTED_AUDIO_TYPES:["audio/mp3","audio/wav","audio/ogg"],MAX_FILE_SIZE:5*1024*1024,VIP_PRICE_ARS:999};class m3{async createUserProfile(e,t){try{const s=or(mt,lt.USERS,e);return await Ds(s,{...t,uid:e,createdAt:Ot(),lastSeen:Ot(),blockedUsers:[],isVIP:!1}),{success:!0}}catch{try{return await ka(Hn(mt,lt.USERS),{...t,uid:e,createdAt:Ot(),lastSeen:Ot(),blockedUsers:[],isVIP:!1}),{success:!0}}catch(a){return console.error("Error creating user profile:",a),{success:!1,error:a.message}}}}async getUserProfile(e){try{const t=or(mt,lt.USERS,e),s=await X4(t);return s.exists()?{id:s.id,...s.data()}:null}catch(t){throw console.error("Error getting user profile:",t),t}}async updateUserProfile(e,t){try{const s=or(mt,lt.USERS,e);return await Ds(s,{...t,updatedAt:Ot()}),{success:!0}}catch(s){return console.error("Error updating user profile:",s),{success:!1,error:s.message}}}async updateLastSeen(e){try{const t=or(mt,lt.USERS,e);await Ds(t,{lastSeen:Ot()})}catch(t){console.error("Error updating last seen:",t)}}async searchUsers(e){try{const t=Hn(mt,lt.USERS),s=gl(t,wg("nickname",">=",e),wg("nickname","<=",e+""),gu("nickname")),a=await uf(s),l=[];return a.forEach(u=>{l.push({id:u.id,...u.data()})}),l}catch(t){return console.error("Error searching users:",t),[]}}async isNicknameAvailable(e,t=null){try{const s=Hn(mt,lt.USERS),a=gl(s,wg("nickname","==",e)),l=await uf(a);return l.empty?!0:t?l.docs[0].data().uid===t:!1}catch(s){return console.error("Error checking nickname availability:",s),!1}}async updateVIPStatus(e,t){try{const s=or(mt,lt.USERS,e);return await Ds(s,{isVIP:t,vipUpdatedAt:Ot()}),{success:!0}}catch(s){return console.error("Error updating VIP status:",s),{success:!1,error:s.message}}}async blockUser(e,t){try{const s=or(mt,lt.USERS,e);return await Ds(s,{blockedUsers:W4(t)}),{success:!0}}catch(s){return console.error("Error blocking user:",s),{success:!1,error:s.message}}}async unblockUser(e,t){try{const s=or(mt,lt.USERS,e);return await Ds(s,{blockedUsers:Z4(t)}),{success:!0}}catch(s){return console.error("Error unblocking user:",s),{success:!1,error:s.message}}}async getBlockedUsers(e){try{const t=await this.getUserProfile(e);return(t==null?void 0:t.blockedUsers)||[]}catch(t){return console.error("Error getting blocked users:",t),[]}}async isUserBlocked(e,t){try{return(await this.getBlockedUsers(e)).includes(t)}catch(s){return console.error("Error checking if user is blocked:",s),!1}}}const $n=new m3,ZA=N.createContext(),$s=()=>{const n=N.useContext(ZA);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},p3=({children:n})=>{const[e,t]=N.useState(null),[s,a]=N.useState(null),[l,u]=N.useState(!0);N.useEffect(()=>{const y=RM(Jo,async v=>{var b;if(t(v),v)try{const w=await $n.getUserProfile(v.uid);if(w)a(w);else{const S={nickname:v.displayName||((b=v.email)==null?void 0:b.split("@")[0])||"Invitado",email:v.email||"",profilePicUrl:v.photoURL||null,isVIP:!1,createdAt:Ot(),lastSeen:Ot()};await $n.createUserProfile(v.uid,S),a(S)}}catch(w){console.error("Error fetching or creating user profile:",w),a(null)}else a(null);u(!1)});return()=>y()},[]);const m={user:e,userProfile:s,loading:l,updateUserProfile:y=>{a(y)},isAuthenticated:!!e,isVIP:(s==null?void 0:s.isVIP)||!1};return p.jsx(ZA.Provider,{value:m,children:n})};class g3{async initializeDefaultRooms(){try{const e=Hn(mt,lt.ROOMS);if((await uf(e)).empty)for(const s of f3)await ka(e,{...s,createdAt:Ot(),lastMessageAt:Ot(),participantCount:0,activeUsers:[]})}catch(e){console.error("Error initializing default rooms:",e)}}async getRooms(){try{const e=Hn(mt,lt.ROOMS),t=gl(e,gu("lastMessageAt","desc")),s=await uf(t),a=[];return s.forEach(l=>{a.push({id:l.id,...l.data()})}),a}catch(e){return console.error("Error getting rooms:",e),[]}}subscribeToRooms(e){try{const t=Hn(mt,lt.ROOMS),s=gl(t,gu("lastMessageAt","desc"));return MA(s,a=>{const l=[];a.forEach(u=>{l.push({id:u.id,...u.data()})}),e(l)})}catch(t){return console.error("Error subscribing to rooms:",t),()=>{}}}async createRoom(e){try{const t=Hn(mt,lt.ROOMS);return{success:!0,roomId:(await ka(t,{...e,createdAt:Ot(),lastMessageAt:Ot(),participantCount:0,activeUsers:[]})).id}}catch(t){return console.error("Error creating room:",t),{success:!1,error:t.message}}}async updateRoomLastMessage(e){try{const t=or(mt,lt.ROOMS,e);await Ds(t,{lastMessageAt:Ot()})}catch(t){console.error("Error updating room last message:",t)}}async joinRoom(e,t){try{const s=or(mt,lt.ROOMS,e);return await Ds(s,{lastActivityAt:Ot()}),{success:!0}}catch(s){return console.error("Error joining room:",s),{success:!1,error:s.message}}}async leaveRoom(e,t){try{const s=or(mt,lt.ROOMS,e);return await Ds(s,{lastActivityAt:Ot()}),{success:!0}}catch(s){return console.error("Error leaving room:",s),{success:!1,error:s.message}}}async getRoomById(e){try{const t=or(mt,lt.ROOMS,e),s=await getDoc(t);return s.exists()?{id:s.id,...s.data()}:null}catch(t){return console.error("Error getting room by ID:",t),null}}}const Lv=new g3,JA=N.createContext(),Yf=()=>{const n=N.useContext(JA);if(!n)throw new Error("useChat must be used within a ChatProvider");return n},y3=({children:n})=>{const[e,t]=N.useState([]),[s,a]=N.useState(null),[l,u]=N.useState([]),[f,m]=N.useState([]),[y,v]=N.useState(!0);N.useEffect(()=>Lv.subscribeToRooms(M=>{t(M),v(!1)}),[]);const S={rooms:e,currentRoom:s,messages:l,onlineUsers:f,loading:y,joinRoom:O=>{a(O),u([])},leaveRoom:()=>{a(null),u([]),m([])},setMessages:u,setOnlineUsers:m};return p.jsx(JA.Provider,{value:S,children:n})};function mE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Qf(...n){return e=>{let t=!1;const s=n.map(a=>{const l=mE(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():mE(n[a],null)}}}}function In(...n){return N.useCallback(Qf(...n),n)}function yu(n){const e=v3(n),t=N.forwardRef((s,a)=>{const{children:l,...u}=s,f=N.Children.toArray(l),m=f.find(b3);if(m){const y=m.props.children,v=f.map(b=>b===m?N.Children.count(y)>1?N.Children.only(null):N.isValidElement(y)?y.props.children:null:b);return p.jsx(e,{...u,ref:a,children:N.isValidElement(y)?N.cloneElement(y,void 0,v):null})}return p.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var eS=yu("Slot");function v3(n){const e=N.forwardRef((t,s)=>{const{children:a,...l}=t;if(N.isValidElement(a)){const u=x3(a),f=w3(l,a.props);return a.type!==N.Fragment&&(f.ref=s?Qf(s,u):u),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _3=Symbol("radix.slottable");function b3(n){return N.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_3}function w3(n,e){const t={...e};for(const s in e){const a=n[s],l=e[s];/^on[A-Z]/.test(s)?a&&l?t[s]=(...f)=>{const m=l(...f);return a(...f),m}:a&&(t[s]=a):s==="style"?t[s]={...a,...l}:s==="className"&&(t[s]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function x3(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function tS(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=tS(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function nS(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=tS(n))&&(s&&(s+=" "),s+=e);return s}const pE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gE=nS,rS=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return gE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(y=>{const v=t==null?void 0:t[y],b=l==null?void 0:l[y];if(v===null)return null;const w=pE(v)||pE(b);return a[y][w]}),f=t&&Object.entries(t).reduce((y,v)=>{let[b,w]=v;return w===void 0||(y[b]=w),y},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((y,v)=>{let{class:b,className:w,...S}=v;return Object.entries(S).every(O=>{let[M,I]=O;return Array.isArray(I)?I.includes({...l,...f}[M]):{...l,...f}[M]===I})?[...y,b,w]:y},[]);return gE(n,u,m,t==null?void 0:t.class,t==null?void 0:t.className)},Uv="-",E3=n=>{const e=A3(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:u=>{const f=u.split(Uv);return f[0]===""&&f.length!==1&&f.shift(),sS(f,e)||T3(u)},getConflictingClassGroupIds:(u,f)=>{const m=t[u]||[];return f&&s[u]?[...m,...s[u]]:m}}},sS=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),a=s?sS(n.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(Uv);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},yE=/^\[(.+)\]$/,T3=n=>{if(yE.test(n)){const e=yE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},A3=n=>{const{theme:e,classGroups:t}=n,s={nextPart:new Map,validators:[]};for(const a in t)gy(t[a],s,a,e);return s},gy=(n,e,t,s)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:vE(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(S3(a)){gy(a(s),e,t,s);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,u])=>{gy(u,vE(e,l),t,s)})})},vE=(n,e)=>{let t=n;return e.split(Uv).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},S3=n=>n.isThemeGetter,R3=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const a=(l,u)=>{t.set(l,u),e++,e>n&&(e=0,s=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=s.get(l))!==void 0)return a(l,u),u},set(l,u){t.has(l)?t.set(l,u):a(l,u)}}},yy="!",vy=":",N3=vy.length,C3=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=a=>{const l=[];let u=0,f=0,m=0,y;for(let O=0;O<a.length;O++){let M=a[O];if(u===0&&f===0){if(M===vy){l.push(a.slice(m,O)),m=O+N3;continue}if(M==="/"){y=O;continue}}M==="["?u++:M==="]"?u--:M==="("?f++:M===")"&&f--}const v=l.length===0?a:a.substring(m),b=I3(v),w=b!==v,S=y&&y>m?y-m:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:S}};if(e){const a=e+vy,l=s;s=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=s;s=l=>t({className:l,parseClassName:a})}return s},I3=n=>n.endsWith(yy)?n.substring(0,n.length-1):n.startsWith(yy)?n.substring(1):n,M3=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let l=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},D3=n=>({cache:R3(n.cacheSize),parseClassName:C3(n),sortModifiers:M3(n),...E3(n)}),O3=/\s+/,k3=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=n.trim().split(O3);let m="";for(let y=f.length-1;y>=0;y-=1){const v=f[y],{isExternal:b,modifiers:w,hasImportantModifier:S,baseClassName:O,maybePostfixModifierPosition:M}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let I=!!M,F=s(I?O.substring(0,M):O);if(!F){if(!I){m=v+(m.length>0?" "+m:m);continue}if(F=s(O),!F){m=v+(m.length>0?" "+m:m);continue}I=!1}const q=l(w).join(":"),L=S?q+yy:q,G=L+F;if(u.includes(G))continue;u.push(G);const J=a(F,I);for(let ae=0;ae<J.length;++ae){const C=J[ae];u.push(L+C)}m=v+(m.length>0?" "+m:m)}return m};function P3(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=iS(e))&&(s&&(s+=" "),s+=t);return s}const iS=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=iS(n[s]))&&(t&&(t+=" "),t+=e);return t};function j3(n,...e){let t,s,a,l=u;function u(m){const y=e.reduce((v,b)=>b(v),n());return t=D3(y),s=t.cache.get,a=t.cache.set,l=f,f(m)}function f(m){const y=s(m);if(y)return y;const v=k3(m,t);return a(m,v),v}return function(){return l(P3.apply(null,arguments))}}const Bt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},aS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,V3=/^\d+\/\d+$/,L3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,B3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=n=>V3.test(n),Pe=n=>!!n&&!Number.isNaN(Number(n)),xi=n=>!!n&&Number.isInteger(Number(n)),Sg=n=>n.endsWith("%")&&Pe(n.slice(0,-1)),Ms=n=>L3.test(n),q3=()=>!0,H3=n=>U3.test(n)&&!z3.test(n),lS=()=>!1,G3=n=>B3.test(n),$3=n=>F3.test(n),K3=n=>!ye(n)&&!ve(n),Y3=n=>Al(n,dS,lS),ye=n=>aS.test(n),Ia=n=>Al(n,hS,H3),Rg=n=>Al(n,J3,Pe),_E=n=>Al(n,cS,lS),Q3=n=>Al(n,uS,$3),wh=n=>Al(n,fS,G3),ve=n=>oS.test(n),Hc=n=>Sl(n,hS),X3=n=>Sl(n,ej),bE=n=>Sl(n,cS),W3=n=>Sl(n,dS),Z3=n=>Sl(n,uS),xh=n=>Sl(n,fS,!0),Al=(n,e,t)=>{const s=aS.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Sl=(n,e,t=!1)=>{const s=oS.exec(n);return s?s[1]?e(s[1]):t:!1},cS=n=>n==="position"||n==="percentage",uS=n=>n==="image"||n==="url",dS=n=>n==="length"||n==="size"||n==="bg-size",hS=n=>n==="length",J3=n=>n==="number",ej=n=>n==="family-name",fS=n=>n==="shadow",tj=()=>{const n=Bt("color"),e=Bt("font"),t=Bt("text"),s=Bt("font-weight"),a=Bt("tracking"),l=Bt("leading"),u=Bt("breakpoint"),f=Bt("container"),m=Bt("spacing"),y=Bt("radius"),v=Bt("shadow"),b=Bt("inset-shadow"),w=Bt("text-shadow"),S=Bt("drop-shadow"),O=Bt("blur"),M=Bt("perspective"),I=Bt("aspect"),F=Bt("ease"),q=Bt("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...G(),ve,ye],ae=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],A=()=>[ve,ye,m],D=()=>[Go,"full","auto",...A()],P=()=>[xi,"none","subgrid",ve,ye],U=()=>["auto",{span:["full",xi,ve,ye]},xi,ve,ye],z=()=>[xi,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ce=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...A()],ce=()=>[Go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],Z=()=>[n,ve,ye],ue=()=>[...G(),bE,_E,{position:[ve,ye]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",W3,Y3,{size:[ve,ye]}],de=()=>[Sg,Hc,Ia],oe=()=>["","none","full",y,ve,ye],fe=()=>["",Pe,Hc,Ia],Re=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[Pe,Sg,bE,_E],He=()=>["","none",O,ve,ye],nt=()=>["none",Pe,ve,ye],Pt=()=>["none",Pe,ve,ye],an=()=>[Pe,ve,ye],pn=()=>[Go,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ms],breakpoint:[Ms],color:[q3],container:[Ms],"drop-shadow":[Ms],ease:["in","out","in-out"],font:[K3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ms],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ms],shadow:[Ms],spacing:["px",Pe],text:[Ms],"text-shadow":[Ms],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Go,ye,ve,I]}],container:["container"],columns:[{columns:[Pe,ye,ve,f]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",ve,ye]}],basis:[{basis:[Go,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Go,"auto","initial","none",ye]}],grow:[{grow:["",Pe,ve,ye]}],shrink:[{shrink:["",Pe,ve,ye]}],order:[{order:[xi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ce()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Ce(),"baseline"]}],"place-self":[{"place-self":["auto",...Ce()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[f,"screen",...ce()]}],"min-w":[{"min-w":[f,"screen","none",...ce()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",t,Hc,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ve,Rg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sg,ye]}],"font-family":[{font:[X3,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Pe,"none",ve,Rg]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ve,Ia]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Pe,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,ve,ye],radial:["",ve,ye],conic:[xi,ve,ye]},Z3,Q3]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ve,ye]}],"outline-w":[{outline:["",Pe,Hc,Ia]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",v,xh,wh]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",b,xh,wh]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Pe,Ia]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",w,xh,wh]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Pe,ve,ye]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:He()}],brightness:[{brightness:[Pe,ve,ye]}],contrast:[{contrast:[Pe,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",S,xh,wh]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Pe,ve,ye]}],"hue-rotate":[{"hue-rotate":[Pe,ve,ye]}],invert:[{invert:["",Pe,ve,ye]}],saturate:[{saturate:[Pe,ve,ye]}],sepia:[{sepia:["",Pe,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":He()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ve,ye]}],ease:[{ease:["linear","initial",F,ve,ye]}],delay:[{delay:[Pe,ve,ye]}],animate:[{animate:["none",q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,ve,ye]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:Pt()}],"scale-x":[{"scale-x":Pt()}],"scale-y":[{"scale-y":Pt()}],"scale-z":[{"scale-z":Pt()}],"scale-3d":["scale-3d"],skew:[{skew:an()}],"skew-x":[{"skew-x":an()}],"skew-y":[{"skew-y":an()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pn()}],"translate-x":[{"translate-x":pn()}],"translate-y":[{"translate-y":pn()}],"translate-z":[{"translate-z":pn()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Pe,Hc,Ia,Rg]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nj=j3(tj);function Ht(...n){return nj(nS(n))}const rj=rS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function dt({className:n,variant:e,size:t,asChild:s=!1,...a}){const l=s?eS:"button";return p.jsx(l,{"data-slot":"button",className:Ht(rj({variant:e,size:t,className:n})),...a})}function Bn({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:Ht("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function br({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:Ht("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function ju({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:Ht("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Vu({className:n,...e}){return p.jsx("div",{"data-slot":"card-title",className:Ht("leading-none font-semibold",n),...e})}function sj({className:n,...e}){return p.jsx("div",{"data-slot":"card-description",className:Ht("text-muted-foreground text-sm",n),...e})}function Jr({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:Ht("px-6",n),...e})}function ze(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Ya(n,e=[]){let t=[];function s(l,u){const f=N.createContext(u),m=t.length;t=[...t,u];const y=b=>{var F;const{scope:w,children:S,...O}=b,M=((F=w==null?void 0:w[n])==null?void 0:F[m])||f,I=N.useMemo(()=>O,Object.values(O));return p.jsx(M.Provider,{value:I,children:S})};y.displayName=l+"Provider";function v(b,w){var M;const S=((M=w==null?void 0:w[n])==null?void 0:M[m])||f,O=N.useContext(S);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[y,v]}const a=()=>{const l=t.map(u=>N.createContext(u));return function(f){const m=(f==null?void 0:f[n])||l;return N.useMemo(()=>({[`__scope${n}`]:{...f,[n]:m}}),[f,m])}};return a.scopeName=n,[s,ij(a,...e)]}function ij(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=s.reduce((f,{useScope:m,scopeName:y})=>{const b=m(l)[`__scope${y}`];return{...f,...b}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function mS(n){const e=n+"CollectionProvider",[t,s]=Ya(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=M=>{const{scope:I,children:F}=M,q=Ei.useRef(null),L=Ei.useRef(new Map).current;return p.jsx(a,{scope:I,itemMap:L,collectionRef:q,children:F})};u.displayName=e;const f=n+"CollectionSlot",m=yu(f),y=Ei.forwardRef((M,I)=>{const{scope:F,children:q}=M,L=l(f,F),G=In(I,L.collectionRef);return p.jsx(m,{ref:G,children:q})});y.displayName=f;const v=n+"CollectionItemSlot",b="data-radix-collection-item",w=yu(v),S=Ei.forwardRef((M,I)=>{const{scope:F,children:q,...L}=M,G=Ei.useRef(null),J=In(I,G),ae=l(v,F);return Ei.useEffect(()=>(ae.itemMap.set(G,{ref:G,...L}),()=>void ae.itemMap.delete(G))),p.jsx(w,{[b]:"",ref:J,children:q})});S.displayName=v;function O(M){const I=l(n+"CollectionConsumer",M);return Ei.useCallback(()=>{const q=I.collectionRef.current;if(!q)return[];const L=Array.from(q.querySelectorAll(`[${b}]`));return Array.from(I.itemMap.values()).sort((ae,C)=>L.indexOf(ae.ref.current)-L.indexOf(C.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:u,Slot:y,ItemSlot:S},O,s]}var xr=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},aj=aT[" useId ".trim().toString()]||(()=>{}),oj=0;function df(n){const[e,t]=N.useState(aj());return xr(()=>{t(s=>s??String(oj++))},[n]),n||(e?`radix-${e}`:"")}var zv=oT();const lj=iT(zv);var cj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vt=cj.reduce((n,e)=>{const t=yu(`Primitive.${e}`),s=N.forwardRef((a,l)=>{const{asChild:u,...f}=a,m=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(m,{...f,ref:l})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function pS(n,e){n&&zv.flushSync(()=>n.dispatchEvent(e))}function ns(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}var uj=aT[" useInsertionEffect ".trim().toString()]||xr;function Bv({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[a,l,u]=dj({defaultProp:e,onChange:t}),f=n!==void 0,m=f?n:a;{const v=N.useRef(n!==void 0);N.useEffect(()=>{const b=v.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,s])}const y=N.useCallback(v=>{var b;if(f){const w=hj(v)?v(n):v;w!==n&&((b=u.current)==null||b.call(u,w))}else l(v)},[f,n,l,u]);return[m,y]}function dj({defaultProp:n,onChange:e}){const[t,s]=N.useState(n),a=N.useRef(t),l=N.useRef(e);return uj(()=>{l.current=e},[e]),N.useEffect(()=>{var u;a.current!==t&&((u=l.current)==null||u.call(l,t),a.current=t)},[t,a]),[t,s,l]}function hj(n){return typeof n=="function"}var fj=N.createContext(void 0);function Fv(n){const e=N.useContext(fj);return n||e||"ltr"}var Ng="rovingFocusGroup.onEntryFocus",mj={bubbles:!1,cancelable:!0},Lu="RovingFocusGroup",[_y,gS,pj]=mS(Lu),[gj,Xf]=Ya(Lu,[pj]),[yj,vj]=gj(Lu),yS=N.forwardRef((n,e)=>p.jsx(_y.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(_y.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(_j,{...n,ref:e})})}));yS.displayName=Lu;var _j=N.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:y,preventScrollOnEntryFocus:v=!1,...b}=n,w=N.useRef(null),S=In(e,w),O=Fv(l),[M,I]=Bv({prop:u,defaultProp:f??null,onChange:m,caller:Lu}),[F,q]=N.useState(!1),L=ns(y),G=gS(t),J=N.useRef(!1),[ae,C]=N.useState(0);return N.useEffect(()=>{const A=w.current;if(A)return A.addEventListener(Ng,L),()=>A.removeEventListener(Ng,L)},[L]),p.jsx(yj,{scope:t,orientation:s,dir:O,loop:a,currentTabStopId:M,onItemFocus:N.useCallback(A=>I(A),[I]),onItemShiftTab:N.useCallback(()=>q(!0),[]),onFocusableItemAdd:N.useCallback(()=>C(A=>A+1),[]),onFocusableItemRemove:N.useCallback(()=>C(A=>A-1),[]),children:p.jsx(vt.div,{tabIndex:F||ae===0?-1:0,"data-orientation":s,...b,ref:S,style:{outline:"none",...n.style},onMouseDown:ze(n.onMouseDown,()=>{J.current=!0}),onFocus:ze(n.onFocus,A=>{const D=!J.current;if(A.target===A.currentTarget&&D&&!F){const P=new CustomEvent(Ng,mj);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const U=G().filter(Y=>Y.focusable),z=U.find(Y=>Y.active),k=U.find(Y=>Y.id===M),Ce=[z,k,...U].filter(Boolean).map(Y=>Y.ref.current);bS(Ce,v)}}J.current=!1}),onBlur:ze(n.onBlur,()=>q(!1))})})}),vS="RovingFocusGroupItem",_S=N.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:a=!1,tabStopId:l,children:u,...f}=n,m=df(),y=l||m,v=vj(vS,t),b=v.currentTabStopId===y,w=gS(t),{onFocusableItemAdd:S,onFocusableItemRemove:O,currentTabStopId:M}=v;return N.useEffect(()=>{if(s)return S(),()=>O()},[s,S,O]),p.jsx(_y.ItemSlot,{scope:t,id:y,focusable:s,active:a,children:p.jsx(vt.span,{tabIndex:b?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:ze(n.onMouseDown,I=>{s?v.onItemFocus(y):I.preventDefault()}),onFocus:ze(n.onFocus,()=>v.onItemFocus(y)),onKeyDown:ze(n.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){v.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const F=xj(I,v.orientation,v.dir);if(F!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let L=w().filter(G=>G.focusable).map(G=>G.ref.current);if(F==="last")L.reverse();else if(F==="prev"||F==="next"){F==="prev"&&L.reverse();const G=L.indexOf(I.currentTarget);L=v.loop?Ej(L,G+1):L.slice(G+1)}setTimeout(()=>bS(L))}}),children:typeof u=="function"?u({isCurrentTabStop:b,hasTabStop:M!=null}):u})})});_S.displayName=vS;var bj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wj(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function xj(n,e,t){const s=wj(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return bj[s]}function bS(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function Ej(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var wS=yS,xS=_S;function Tj(n,e){return N.useReducer((t,s)=>e[t][s]??t,n)}var Rl=n=>{const{present:e,children:t}=n,s=Aj(e),a=typeof t=="function"?t({present:s.isPresent}):N.Children.only(t),l=In(s.ref,Sj(a));return typeof t=="function"||s.isPresent?N.cloneElement(a,{ref:l}):null};Rl.displayName="Presence";function Aj(n){const[e,t]=N.useState(),s=N.useRef(null),a=N.useRef(n),l=N.useRef("none"),u=n?"mounted":"unmounted",[f,m]=Tj(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const y=Eh(s.current);l.current=f==="mounted"?y:"none"},[f]),xr(()=>{const y=s.current,v=a.current;if(v!==n){const w=l.current,S=Eh(y);n?m("MOUNT"):S==="none"||(y==null?void 0:y.display)==="none"?m("UNMOUNT"):m(v&&w!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),xr(()=>{if(e){let y;const v=e.ownerDocument.defaultView??window,b=S=>{const M=Eh(s.current).includes(S.animationName);if(S.target===e&&M&&(m("ANIMATION_END"),!a.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",y=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},w=S=>{S.target===e&&(l.current=Eh(s.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(y),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(y=>{s.current=y?getComputedStyle(y):null,t(y)},[])}}function Eh(n){return(n==null?void 0:n.animationName)||"none"}function Sj(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Wf="Tabs",[Rj,X5]=Ya(Wf,[Xf]),ES=Xf(),[Nj,qv]=Rj(Wf),TS=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:m="automatic",...y}=n,v=Fv(f),[b,w]=Bv({prop:s,onChange:a,defaultProp:l??"",caller:Wf});return p.jsx(Nj,{scope:t,baseId:df(),value:b,onValueChange:w,orientation:u,dir:v,activationMode:m,children:p.jsx(vt.div,{dir:v,"data-orientation":u,...y,ref:e})})});TS.displayName=Wf;var AS="TabsList",SS=N.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...a}=n,l=qv(AS,t),u=ES(t);return p.jsx(wS,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:s,children:p.jsx(vt.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});SS.displayName=AS;var RS="TabsTrigger",NS=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:a=!1,...l}=n,u=qv(RS,t),f=ES(t),m=MS(u.baseId,s),y=DS(u.baseId,s),v=s===u.value;return p.jsx(xS,{asChild:!0,...f,focusable:!a,active:v,children:p.jsx(vt.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":y,"data-state":v?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:m,...l,ref:e,onMouseDown:ze(n.onMouseDown,b=>{!a&&b.button===0&&b.ctrlKey===!1?u.onValueChange(s):b.preventDefault()}),onKeyDown:ze(n.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&u.onValueChange(s)}),onFocus:ze(n.onFocus,()=>{const b=u.activationMode!=="manual";!v&&!a&&b&&u.onValueChange(s)})})})});NS.displayName=RS;var CS="TabsContent",IS=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:a,children:l,...u}=n,f=qv(CS,t),m=MS(f.baseId,s),y=DS(f.baseId,s),v=s===f.value,b=N.useRef(v);return N.useEffect(()=>{const w=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(w)},[]),p.jsx(Rl,{present:a||v,children:({present:w})=>p.jsx(vt.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:y,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:b.current?"0s":void 0},children:w&&l})})});IS.displayName=CS;function MS(n,e){return`${n}-trigger-${e}`}function DS(n,e){return`${n}-content-${e}`}var Cj=TS,Ij=SS,Mj=NS,Dj=IS;function Oj({className:n,...e}){return p.jsx(Cj,{"data-slot":"tabs",className:Ht("flex flex-col gap-2",n),...e})}function kj({className:n,...e}){return p.jsx(Ij,{"data-slot":"tabs-list",className:Ht("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function wE({className:n,...e}){return p.jsx(Mj,{"data-slot":"tabs-trigger",className:Ht("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function xE({className:n,...e}){return p.jsx(Dj,{"data-slot":"tabs-content",className:Ht("flex-1 outline-none",n),...e})}var Pj="Label",OS=N.forwardRef((n,e)=>p.jsx(vt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));OS.displayName=Pj;var jj=OS;function dn({className:n,...e}){return p.jsx(jj,{"data-slot":"label",className:Ht("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),EE=n=>{const e=Lj(n);return e.charAt(0).toUpperCase()+e.slice(1)},kS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),Uj=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>N.createElement("svg",{ref:m,...zj,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:kS("lucide",a),...!l&&!Uj(f)&&{"aria-hidden":"true"},...f},[...u.map(([y,v])=>N.createElement(y,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(n,e)=>{const t=N.forwardRef(({className:s,...a},l)=>N.createElement(Bj,{ref:l,iconNode:e,className:kS(`lucide-${Vj(EE(n))}`,`lucide-${n}`,s),...a}));return t.displayName=EE(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qj=qe("arrow-left",Fj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gj=qe("bell",Hj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hv=qe("calendar",$j);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yj=qe("camera",Kj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Xj=qe("clock",Qj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Wc=qe("crown",Wj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Gv=qe("ellipsis-vertical",Zj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eV=qe("eye-off",Jj);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nV=qe("eye",tV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],PS=qe("flag",rV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iV=qe("globe",sV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],$v=qe("heart",aV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],by=qe("house",oV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cV=qe("image",lV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vu=qe("lock",uV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],hV=qe("log-out",dV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TE=qe("mail",fV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$r=qe("map-pin",mV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],gV=qe("menu",pV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],sl=qe("message-circle",yV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],_V=qe("mic",vV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Cg=qe("navigation",bV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xV=qe("save",wV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_u=qe("search",EV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AV=qe("send",TV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RV=qe("settings",SV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ig=qe("shield",NV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],AE=qe("sparkles",CV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Uh=qe("star",IV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],jS=qe("user-x",MV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bu=qe("user",DV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hf=qe("users",OV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],PV=qe("volume-2",kV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],VV=qe("volume-x",jV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ff=qe("x",LV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wy=qe("zap",UV);class zV{constructor(){this.googleProvider=new Os}async signInWithEmail(e,t){try{return{success:!0,user:(await TM(Jo,e,t)).user}}catch(s){return{success:!1,error:this.getErrorMessage(s.code)}}}async createAccount(e,t,s){try{const a=await EM(Jo,e,t);return await $n.createUserProfile(a.user.uid,{email:a.user.email,...s,createdAt:new Date,isVIP:!1,lastSeen:new Date}),{success:!0,user:a.user}}catch(a){return{success:!1,error:this.getErrorMessage(a.code)}}}async signInWithGoogle(){try{const e=await YM(Jo,this.googleProvider);return await $n.getUserProfile(e.user.uid)?await $n.updateLastSeen(e.user.uid):await $n.createUserProfile(e.user.uid,{email:e.user.email,nickname:e.user.displayName||"Usuario",profilePicUrl:e.user.photoURL||"",createdAt:new Date,isVIP:!1,lastSeen:new Date}),{success:!0,user:e.user}}catch(e){return{success:!1,error:this.getErrorMessage(e.code)}}}async signOut(){try{return await NM(Jo),{success:!0}}catch(e){return{success:!1,error:this.getErrorMessage(e.code)}}}getCurrentUser(){return Jo.currentUser}getErrorMessage(e){return{"auth/user-not-found":"No existe una cuenta con este email","auth/wrong-password":"Contraseña incorrecta","auth/email-already-in-use":"Ya existe una cuenta con este email","auth/weak-password":"La contraseña debe tener al menos 6 caracteres","auth/invalid-email":"Email inválido","auth/user-disabled":"Esta cuenta ha sido deshabilitada","auth/too-many-requests":"Demasiados intentos fallidos. Intentá más tarde","auth/network-request-failed":"Error de conexión. Verificá tu internet","auth/popup-closed-by-user":"Ventana cerrada por el usuario","auth/cancelled-popup-request":"Solicitud cancelada","auth/popup-blocked":"Popup bloqueado por el navegador"}[e]||"Error desconocido. Intentá nuevamente"}}const Mg=new zV,SE=n=>{if(!n)return"";const e=n.toDate?n.toDate():new Date(n),s=Math.floor((new Date-e)/(1e3*60));if(s<1)return"Ahora";if(s<60)return`Hace ${s}m`;const a=Math.floor(s/60);if(a<24)return`Hace ${a}h`;const l=Math.floor(a/24);return l<7?`Hace ${l}d`:e.toLocaleDateString("es-AR")},BV=n=>n?(n.toDate?n.toDate():new Date(n)).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}):"",VS=n=>!n||n.trim().length===0?{isValid:!1,error:"El nickname es requerido"}:n.length<3?{isValid:!1,error:"El nickname debe tener al menos 3 caracteres"}:n.length>20?{isValid:!1,error:"El nickname no puede tener más de 20 caracteres"}:/^[a-zA-Z0-9_-]+$/.test(n)?{isValid:!0}:{isValid:!1,error:"El nickname solo puede contener letras, números, guiones y guiones bajos"},RE=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),LS=n=>{const e=parseInt(n);return e>=13&&e<=120},Nl=n=>{const e=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];let t=0;for(let s=0;s<n.length;s++)t=n.charCodeAt(s)+((t<<5)-t);return e[Math.abs(t)%e.length]},Cl=n=>{if(!n)return"??";const e=n.trim().split(" ");return e.length===1?e[0].substring(0,2).toUpperCase():(e[0][0]+e[1][0]).toUpperCase()},FV=(n,e)=>{let t;return function(...a){const l=()=>{clearTimeout(t),n(...a)};clearTimeout(t),t=setTimeout(l,e)}},qV=n=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(n),HV=({onSuccess:n})=>{const[e,t]=N.useState("login"),[s,a]=N.useState(!1),[l,u]=N.useState(!1),[f,m]=N.useState(""),[y,v]=N.useState({email:"",password:""}),[b,w]=N.useState({email:"",password:"",confirmPassword:"",nickname:"",age:"",gender:"",location:"",interests:""}),S=async I=>{if(I.preventDefault(),u(!0),m(""),!RE(y.email)){m("Email inválido"),u(!1);return}const F=await Mg.signInWithEmail(y.email,y.password);F.success?n():m(F.error),u(!1)},O=async I=>{if(I.preventDefault(),u(!0),m(""),!RE(b.email)){m("Email inválido"),u(!1);return}if(b.password!==b.confirmPassword){m("Las contraseñas no coinciden"),u(!1);return}if(b.password.length<6){m("La contraseña debe tener al menos 6 caracteres"),u(!1);return}const F=VS(b.nickname);if(!F.isValid){m(F.error),u(!1);return}if(!LS(b.age)){m("La edad debe estar entre 13 y 120 años"),u(!1);return}const q={nickname:b.nickname,age:parseInt(b.age),gender:b.gender,location:b.location,interests:b.interests.split(",").map(G=>G.trim()).filter(G=>G)},L=await Mg.createAccount(b.email,b.password,q);L.success?n():m(L.error),u(!1)},M=async()=>{u(!0),m("");const I=await Mg.signInWithGoogle();I.success?n():m(I.error),u(!1)};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs(br,{className:"w-full max-w-md glass-effect border-none",children:[p.jsxs(ju,{className:"text-center",children:[p.jsx(Vu,{className:"text-3xl font-extrabold text-white drop-shadow-lg",children:"La Previa Chat"}),p.jsx(sj,{className:"text-white text-opacity-80",children:"Conectate con gente de Argentina"})]}),p.jsx(Jr,{children:p.jsxs(Oj,{value:e,onValueChange:t,children:[p.jsxs(kj,{className:"grid w-full grid-cols-2 bg-white bg-opacity-20 backdrop-blur-sm border border-white border-opacity-30 rounded-lg shadow-inner",children:[p.jsx(wE,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:text-indigo-600 data-[state=active]:shadow-md text-white text-opacity-90",children:"Iniciar Sesión"}),p.jsx(wE,{value:"register",className:"data-[state=active]:bg-white data-[state=active]:text-indigo-600 data-[state=active]:shadow-md text-white text-opacity-90",children:"Registrarse"})]}),p.jsxs(xE,{value:"login",className:"space-y-4 mt-6",children:[p.jsxs("form",{onSubmit:S,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"email",className:"text-white text-opacity-90",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(TE,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsx(Bn,{id:"email",type:"email",placeholder:"tu@email.com",className:"pl-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:y.email,onChange:I=>v({...y,email:I.target.value}),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"password",className:"text-white text-opacity-90",children:"Contraseña"}),p.jsxs("div",{className:"relative",children:[p.jsx(vu,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsx(Bn,{id:"password",type:s?"text":"password",placeholder:"Tu contraseña",className:"pl-10 pr-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:y.password,onChange:I=>v({...y,password:I.target.value}),required:!0}),p.jsx("button",{type:"button",className:"absolute right-3 top-3 text-white text-opacity-70 hover:text-white",onClick:()=>a(!s),children:s?p.jsx(eV,{className:"h-4 w-4"}):p.jsx(nV,{className:"h-4 w-4"})})]})]}),f&&p.jsx("div",{className:"text-red-300 text-sm text-center bg-red-900 bg-opacity-30 p-2 rounded-md",children:f}),p.jsx(dt,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105",disabled:l,children:l?"Iniciando sesión...":"Iniciar Sesión"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("span",{className:"w-full border-t border-white border-opacity-30"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-transparent px-2 text-white text-opacity-80",children:"O"})})]}),p.jsx(dt,{type:"button",variant:"outline",className:"w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white border border-white border-opacity-30 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105",onClick:M,disabled:l,children:"Continuar con Google"})]}),p.jsx(xE,{value:"register",className:"space-y-4 mt-6",children:p.jsxs("form",{onSubmit:O,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"nickname",className:"text-white text-opacity-90",children:"Nickname"}),p.jsxs("div",{className:"relative",children:[p.jsx(bu,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsx(Bn,{id:"nickname",placeholder:"Tu nickname",className:"pl-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:b.nickname,onChange:I=>w({...b,nickname:I.target.value}),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"age",className:"text-white text-opacity-90",children:"Edad"}),p.jsxs("div",{className:"relative",children:[p.jsx(Hv,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsx(Bn,{id:"age",type:"number",placeholder:"25",className:"pl-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",min:"13",max:"120",value:b.age,onChange:I=>w({...b,age:I.target.value}),required:!0})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"register-email",className:"text-white text-opacity-90",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(TE,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsx(Bn,{id:"register-email",type:"email",placeholder:"tu@email.com",className:"pl-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:b.email,onChange:I=>w({...b,email:I.target.value}),required:!0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"register-password",className:"text-white text-opacity-90",children:"Contraseña"}),p.jsxs("div",{className:"relative",children:[p.jsx(vu,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsx(Bn,{id:"register-password",type:s?"text":"password",placeholder:"Contraseña",className:"pl-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:b.password,onChange:I=>w({...b,password:I.target.value}),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"confirm-password",className:"text-white text-opacity-90",children:"Confirmar"}),p.jsx(Bn,{id:"confirm-password",type:s?"text":"password",placeholder:"Confirmar",className:"bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:b.confirmPassword,onChange:I=>w({...b,confirmPassword:I.target.value}),required:!0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"gender",className:"text-white text-opacity-90",children:"Género"}),p.jsxs("select",{id:"gender",className:"flex h-10 w-full rounded-md border border-white border-opacity-20 bg-white bg-opacity-10 px-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-white placeholder:text-opacity-60 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 disabled:cursor-not-allowed disabled:opacity-50",value:b.gender,onChange:I=>w({...b,gender:I.target.value}),required:!0,children:[p.jsx("option",{value:"",className:"bg-indigo-700 text-white",children:"Seleccionar"}),Object.entries(XA).map(([I,F])=>p.jsx("option",{value:F,className:"bg-indigo-700 text-white",children:F},I))]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"location",className:"text-white text-opacity-90",children:"Provincia"}),p.jsxs("div",{className:"relative",children:[p.jsx($r,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-70"}),p.jsxs("select",{id:"location",className:"flex h-10 w-full rounded-md border border-white border-opacity-20 bg-white bg-opacity-10 pl-10 pr-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-white placeholder:text-opacity-60 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 disabled:cursor-not-allowed disabled:opacity-50",value:b.location,onChange:I=>w({...b,location:I.target.value}),required:!0,children:[p.jsx("option",{value:"",className:"bg-indigo-700 text-white",children:"Seleccionar"}),WA.map(I=>p.jsx("option",{value:I,className:"bg-indigo-700 text-white",children:I},I))]})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"interests",className:"text-white text-opacity-90",children:"Intereses (separados por comas)"}),p.jsx(Bn,{id:"interests",placeholder:"música, deportes, cine...",className:"bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50",value:b.interests,onChange:I=>w({...b,interests:I.target.value})})]}),f&&p.jsx("div",{className:"text-red-300 text-sm text-center bg-red-900 bg-opacity-30 p-2 rounded-md",children:f}),p.jsx(dt,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105",disabled:l,children:l?"Creando cuenta...":"Crear Cuenta"})]})})]})})]})})},GV=({onShowProfile:n,onShowSearch:e,onShowRooms:t,onShowNearby:s,activeView:a})=>{var G,J;const{user:l,userProfile:u,logout:f}=$s(),[m,y]=N.useState(!1),[v,b]=N.useState(!1),[w,S]=N.useState(!1),O=()=>{y(!m)},M=()=>{b(!v)},I=()=>{S(!w)},F=()=>{n(),S(!1),y(!1)},q=()=>{f(),S(!1),y(!1)},L=ae=>{const C="hidden lg:flex items-center space-x-3 px-6 py-3 rounded-2xl font-semibold transition-all duration-300 text-base";return a===ae?`${C} bg-glass-200 text-glass-bright shadow-glow-md border border-glass-300`:`${C} text-glass-muted hover:text-glass-bright hover:bg-glass-100 hover:shadow-glow-sm`};return p.jsx("header",{className:"w-full bg-glass-100 backdrop-blur-xl border-b border-glass-200 shadow-glow-lg sticky top-0 z-50",children:p.jsx("div",{className:"container mx-auto px-6 max-w-7xl",children:p.jsxs("div",{className:"flex items-center justify-between h-20",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("div",{className:"glass-morphism-strong p-3 rounded-2xl glow-animation",children:p.jsx("img",{src:"/logo-la-previa-chat.png",alt:"La Previa Chat",className:"h-10 w-10 object-contain"})}),p.jsxs("div",{className:"hidden sm:block",children:[p.jsx("h1",{className:"text-2xl font-bold text-gradient leading-tight",children:"La Previa Chat"}),p.jsx("p",{className:"text-sm text-glass-muted font-medium",children:"Conectate con Argentina"})]})]}),p.jsxs("nav",{className:"hidden lg:flex items-center space-x-3",children:[p.jsxs("button",{onClick:t,className:L("rooms"),children:[p.jsx(by,{className:"h-5 w-5"}),p.jsx("span",{children:"Salas"})]}),p.jsxs("button",{onClick:e,className:L("search"),children:[p.jsx(_u,{className:"h-5 w-5"}),p.jsx("span",{children:"Buscar"})]}),p.jsxs("button",{onClick:s,className:L("nearby"),children:[p.jsx($r,{className:"h-5 w-5"}),p.jsx("span",{children:"Cerca de Acá"})]})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:M,className:"glass-morphism p-3 rounded-2xl hover:scale-105 transition-all duration-300 relative group",children:[p.jsx(Gj,{className:"h-6 w-6 text-glass-muted group-hover:text-glass-bright transition-colors duration-300"}),p.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse-soft flex items-center justify-center",children:p.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),v&&p.jsxs("div",{className:"absolute right-0 top-full mt-3 w-96 bg-glass-100 backdrop-blur-xl border border-glass-200 rounded-3xl shadow-glow-lg p-6 z-50 fade-in-up",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"font-bold text-glass-bright text-lg",children:"Notificaciones"}),p.jsx("button",{onClick:()=>b(!1),className:"text-glass-muted hover:text-glass-bright transition-colors duration-300",children:"✕"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"glass-morphism p-4 rounded-2xl",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full mt-2 animate-pulse-soft"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-glass-bright font-medium",children:"Nueva sala disponible"}),p.jsx("p",{className:"text-glass-muted text-sm",children:'Se abrió "Música Argentina" hace 5 min'})]})]})}),p.jsx("div",{className:"glass-morphism p-4 rounded-2xl",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mt-2 animate-pulse-soft"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-glass-bright font-medium",children:"Usuario cerca tuyo"}),p.jsx("p",{className:"text-glass-muted text-sm",children:"María está a 2km de distancia"})]})]})}),p.jsx("div",{className:"glass-morphism p-4 rounded-2xl",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full mt-2 animate-pulse-soft"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-glass-bright font-medium",children:"Mensaje privado"}),p.jsx("p",{className:"text-glass-muted text-sm",children:"Carlos te envió un mensaje"})]})]})})]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:I,className:"flex items-center space-x-3 glass-morphism p-3 rounded-2xl hover:scale-105 transition-all duration-300 group",children:[u!=null&&u.photoURL?p.jsx("img",{src:u.photoURL,alt:"Perfil",className:"w-10 h-10 rounded-xl object-cover border-2 border-glass-300 group-hover:border-primary-400 transition-colors duration-300"}):p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-accent-500 rounded-xl flex items-center justify-center border-2 border-glass-300 group-hover:border-primary-400 transition-colors duration-300",children:p.jsx(bu,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"hidden md:block text-left",children:[p.jsx("div",{className:"text-base font-semibold text-glass-bright group-hover:text-gradient transition-all duration-300",children:(u==null?void 0:u.displayName)||((G=l==null?void 0:l.email)==null?void 0:G.split("@")[0])||"Usuario"}),p.jsx("div",{className:"text-sm text-glass-muted",children:u!=null&&u.isVIP?p.jsx("span",{className:"text-yellow-400 font-medium",children:"✨ VIP"}):p.jsx("span",{children:"Gratis"})})]})]}),w&&p.jsx("div",{className:"absolute right-0 top-full mt-3 w-72 bg-glass-100 backdrop-blur-xl border border-glass-200 rounded-3xl shadow-glow-lg p-6 z-50 fade-in-up",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center pb-4 border-b border-glass-200",children:[u!=null&&u.photoURL?p.jsx("img",{src:u.photoURL,alt:"Perfil",className:"w-16 h-16 rounded-2xl object-cover mx-auto mb-3 border-2 border-glass-300"}):p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-accent-500 rounded-2xl flex items-center justify-center mx-auto mb-3 border-2 border-glass-300",children:p.jsx(bu,{className:"h-8 w-8 text-white"})}),p.jsx("h4",{className:"font-bold text-glass-bright text-lg",children:(u==null?void 0:u.displayName)||((J=l==null?void 0:l.email)==null?void 0:J.split("@")[0])||"Usuario"}),p.jsx("p",{className:"text-glass-muted text-sm",children:l==null?void 0:l.email})]}),p.jsxs("button",{onClick:F,className:"w-full flex items-center space-x-3 p-4 rounded-2xl hover:bg-glass-200 transition-all duration-300 text-left group",children:[p.jsx(RV,{className:"h-5 w-5 text-glass-muted group-hover:text-primary-400 transition-colors duration-300"}),p.jsx("span",{className:"text-glass-bright group-hover:text-primary-400 font-medium transition-colors duration-300",children:"Editar Perfil"})]}),p.jsxs("button",{onClick:q,className:"w-full flex items-center space-x-3 p-4 rounded-2xl hover:bg-red-500/20 transition-all duration-300 text-left group",children:[p.jsx(hV,{className:"h-5 w-5 text-red-400 group-hover:text-red-300 transition-colors duration-300"}),p.jsx("span",{className:"text-red-400 group-hover:text-red-300 font-medium transition-colors duration-300",children:"Cerrar Sesión"})]})]})})]}),p.jsxs("div",{className:"lg:hidden relative",children:[p.jsx("button",{onClick:O,className:"glass-morphism p-3 rounded-2xl hover:scale-105 transition-all duration-300",children:p.jsx(gV,{className:"h-6 w-6 text-glass-muted"})}),m&&p.jsx("div",{className:"absolute right-0 top-full mt-3 w-80 bg-glass-100 backdrop-blur-xl border border-glass-200 rounded-3xl shadow-glow-lg p-6 z-50 fade-in-up",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:()=>{t(),y(!1)},className:"w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-glass-200 transition-colors duration-300 text-left",children:[p.jsx(by,{className:"h-6 w-6 text-glass-muted"}),p.jsx("span",{className:"text-glass-bright font-medium text-lg",children:"Salas"})]}),p.jsxs("button",{onClick:()=>{e(),y(!1)},className:"w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-glass-200 transition-colors duration-300 text-left",children:[p.jsx(_u,{className:"h-6 w-6 text-glass-muted"}),p.jsx("span",{className:"text-glass-bright font-medium text-lg",children:"Buscar"})]}),p.jsxs("button",{onClick:()=>{s(),y(!1)},className:"w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-glass-200 transition-colors duration-300 text-left",children:[p.jsx($r,{className:"h-6 w-6 text-glass-muted"}),p.jsx("span",{className:"text-glass-bright font-medium text-lg",children:"Cerca de Acá"})]})]})})]})]})]})})})},$V=({activeView:n,onViewChange:e})=>{const t=[{id:"rooms",label:"Salas",icon:by,onClick:()=>e("rooms")},{id:"search",label:"Buscar",icon:_u,onClick:()=>e("search")},{id:"nearby",label:"Cerca",icon:$r,onClick:()=>e("nearby")},{id:"profile",label:"Perfil",icon:bu,onClick:()=>e("profile")}];return p.jsx("nav",{className:"w-full bg-glass-100 backdrop-blur-xl border-t border-glass-200 shadow-glow-sm",children:p.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:p.jsx("div",{className:"flex items-center justify-around h-16",children:t.map(s=>{const a=s.icon,l=n===s.id;return p.jsxs("button",{onClick:s.onClick,className:`flex flex-col items-center justify-center space-y-1 px-3 py-2 rounded-xl transition-all duration-300 min-w-0 flex-1 ${l?"text-glass-bright bg-glass-200 shadow-glow-sm":"text-glass-muted hover:text-glass-bright hover:bg-glass-100"}`,children:[p.jsx("div",{className:`p-1 rounded-lg transition-all duration-300 ${l?"bg-primary-500/20 scale-110":""}`,children:p.jsx(a,{className:`h-5 w-5 ${l?"icon-glow":""}`})}),p.jsx("span",{className:"text-xs font-medium truncate",children:s.label})]},s.id)})})})})},KV=rS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function NE({className:n,variant:e,asChild:t=!1,...s}){const a=t?eS:"span";return p.jsx(a,{"data-slot":"badge",className:Ht(KV({variant:e}),n),...s})}const CE=()=>{const{isVIP:n}=$s(),{rooms:e,loading:t,joinRoom:s}=Yf(),[a,l]=N.useState([]);N.useEffect(()=>{const y=e.filter(v=>!(v.type===gr.VIP_ONLY&&!n));l(y)},[e,n]);const u=y=>{s(y)},f=y=>{switch(y){case gr.VIP_ONLY:return p.jsx(Wc,{className:"h-6 w-6 text-yellow-300 icon-glow-strong"});case gr.PRIVATE:return p.jsx(vu,{className:"h-6 w-6 text-purple-300 icon-glow"});default:return p.jsx(sl,{className:"h-6 w-6 text-blue-300 icon-glow"})}},m=y=>{switch(y){case gr.VIP_ONLY:return p.jsxs("div",{className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium text-yellow-900 bg-yellow-300 bg-opacity-80 border border-yellow-400 border-opacity-60 rounded-lg",children:[p.jsx(Wc,{className:"h-4 w-4"}),p.jsx("span",{children:"VIP"})]});case gr.PRIVATE:return p.jsxs("div",{className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium text-purple-200 bg-purple-500 bg-opacity-30 border border-purple-400 border-opacity-40 rounded-lg",children:[p.jsx(vu,{className:"h-4 w-4"}),p.jsx("span",{children:"Privada"})]});default:return p.jsxs("div",{className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium text-blue-200 bg-blue-500 bg-opacity-30 border border-blue-400 border-opacity-40 rounded-lg",children:[p.jsx(AE,{className:"h-4 w-4"}),p.jsx("span",{children:"Pública"})]})}};return t?p.jsxs("div",{className:"w-full space-y-8",children:[p.jsxs("div",{className:"text-center space-y-4 fade-in-up",children:[p.jsx("div",{className:"h-12 bg-glass-200 rounded-xl w-80 mx-auto loading-shimmer"}),p.jsx("div",{className:"h-6 bg-glass-100 rounded-lg w-64 mx-auto loading-shimmer"})]}),p.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:[...Array(6)].map((y,v)=>p.jsxs("div",{className:"glass-morphism p-6 space-y-4 animate-pulse min-h-[320px]",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"h-8 bg-glass-200 rounded w-32 loading-shimmer"}),p.jsx("div",{className:"h-6 bg-glass-100 rounded w-20 loading-shimmer"})]}),p.jsx("div",{className:"h-5 bg-glass-100 rounded w-full loading-shimmer"}),p.jsx("div",{className:"h-5 bg-glass-100 rounded w-3/4 loading-shimmer"}),p.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[p.jsx("div",{className:"h-5 bg-glass-100 rounded w-24 loading-shimmer"}),p.jsx("div",{className:"h-10 bg-glass-200 rounded w-24 loading-shimmer"})]})]},v))})]}):p.jsxs("div",{className:"w-full space-y-8",children:[p.jsxs("div",{className:"text-center space-y-4 fade-in-up",children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gradient drop-shadow-lg",children:"Salas de Chat"}),p.jsx("p",{className:"text-glass-muted text-lg md:text-xl font-medium",children:"Elegí una sala y empezá a chatear"}),p.jsxs("div",{className:"flex items-center justify-center space-x-6 text-base",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse-soft"}),p.jsxs("span",{className:"text-glass-muted font-medium",children:[a.length," salas disponibles"]})]}),p.jsx("div",{className:"w-2 h-2 bg-glass-300 rounded-full"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx($v,{className:"h-4 w-4 text-red-400"}),p.jsx("span",{className:"text-glass-muted",children:"Conectate ahora"})]})]})]}),p.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:a.map((y,v)=>p.jsxs("div",{className:"content-card group cursor-pointer ripple-effect fade-in-up min-h-[320px] flex flex-col",style:{animationDelay:`${v*150}ms`},onClick:()=>u(y),children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[p.jsx("div",{className:"glass-morphism p-3 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:f(y.type)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"text-xl font-bold text-glass-bright group-hover:text-gradient transition-all duration-300 line-clamp-2 leading-tight mb-2",children:y.name}),m(y.type)]})]})}),p.jsx("div",{className:"flex-1 mb-6",children:p.jsx("p",{className:"text-glass-muted text-base leading-relaxed group-hover:text-glass transition-colors duration-300 line-clamp-4",children:y.description||y.topic})}),p.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-base text-glass-muted",children:[p.jsx(hf,{className:"h-5 w-5"}),p.jsx("span",{className:"font-medium",children:y.participantCount||0})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(Math.min(4,y.participantCount||0))].map((b,w)=>p.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse-soft",style:{animationDelay:`${w*300}ms`}},w)),(y.participantCount||0)>4&&p.jsxs("span",{className:"text-sm text-glass-muted ml-2",children:["+",(y.participantCount||0)-4]})]})]}),p.jsxs("button",{className:"btn-primary flex items-center space-x-2 group-hover:scale-105 transition-all duration-300 px-6 py-3 text-base",children:[p.jsx(wy,{className:"h-5 w-5"}),p.jsx("span",{className:"font-semibold",children:"Entrar"})]})]})]},y.id))}),!n&&p.jsx("div",{className:"content-card bg-gradient-to-br from-yellow-500/20 via-orange-500/20 to-red-500/20 border-yellow-400/30 fade-in-up",children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-y-6 lg:space-y-0 lg:space-x-8",children:[p.jsxs("div",{className:"flex items-center space-x-6 text-center lg:text-left",children:[p.jsx("div",{className:"glass-morphism-strong p-4 rounded-2xl glow-animation flex-shrink-0",children:p.jsx(Wc,{className:"h-12 w-12 text-yellow-300 icon-glow-strong"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-glass-bright text-2xl mb-3",children:"¡Hazte VIP!"}),p.jsx("p",{className:"text-glass-muted mb-4 leading-relaxed text-base",children:"Accedé a salas exclusivas, enviá audios y disfrutá sin anuncios"}),p.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 text-sm text-glass-muted",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Wc,{className:"h-4 w-4 text-yellow-400"}),p.jsx("span",{children:"Salas VIP"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(wy,{className:"h-4 w-4 text-blue-400"}),p.jsx("span",{children:"Sin anuncios"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Uh,{className:"h-4 w-4 text-purple-400"}),p.jsx("span",{children:"Funciones premium"})]})]})]})]}),p.jsxs("button",{className:"btn-secondary border-yellow-300/50 text-yellow-200 hover:bg-yellow-300/20 hover:border-yellow-300/70 hover:text-yellow-100 shadow-glow-sm flex items-center space-x-2 px-8 py-4 whitespace-nowrap text-base",children:[p.jsx(AE,{className:"h-5 w-5"}),p.jsx("span",{className:"font-semibold",children:"Saber más"})]})]})})]})};var Dg={exports:{}},Og={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function YV(){if(IE)return Og;IE=1;var n=wf();function e(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var t=typeof Object.is=="function"?Object.is:e,s=n.useState,a=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function f(b,w){var S=w(),O=s({inst:{value:S,getSnapshot:w}}),M=O[0].inst,I=O[1];return l(function(){M.value=S,M.getSnapshot=w,m(M)&&I({inst:M})},[b,S,w]),a(function(){return m(M)&&I({inst:M}),b(function(){m(M)&&I({inst:M})})},[b]),u(S),S}function m(b){var w=b.getSnapshot;b=b.value;try{var S=w();return!t(b,S)}catch{return!0}}function y(b,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:f;return Og.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Og}var ME;function QV(){return ME||(ME=1,Dg.exports=YV()),Dg.exports}var XV=QV();function WV(){return XV.useSyncExternalStore(ZV,()=>!0,()=>!1)}function ZV(){return()=>{}}var Kv="Avatar",[JV,W5]=Ya(Kv),[e6,US]=JV(Kv),zS=N.forwardRef((n,e)=>{const{__scopeAvatar:t,...s}=n,[a,l]=N.useState("idle");return p.jsx(e6,{scope:t,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:p.jsx(vt.span,{...s,ref:e})})});zS.displayName=Kv;var BS="AvatarImage",FS=N.forwardRef((n,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:a=()=>{},...l}=n,u=US(BS,t),f=t6(s,l),m=ns(y=>{a(y),u.onImageLoadingStatusChange(y)});return xr(()=>{f!=="idle"&&m(f)},[f,m]),f==="loaded"?p.jsx(vt.img,{...l,ref:e,src:s}):null});FS.displayName=BS;var qS="AvatarFallback",HS=N.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:s,...a}=n,l=US(qS,t),[u,f]=N.useState(s===void 0);return N.useEffect(()=>{if(s!==void 0){const m=window.setTimeout(()=>f(!0),s);return()=>window.clearTimeout(m)}},[s]),u&&l.imageLoadingStatus!=="loaded"?p.jsx(vt.span,{...a,ref:e}):null});HS.displayName=qS;function DE(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t6(n,{referrerPolicy:e,crossOrigin:t}){const s=WV(),a=N.useRef(null),l=s?(a.current||(a.current=new window.Image),a.current):null,[u,f]=N.useState(()=>DE(l,n));return xr(()=>{f(DE(l,n))},[l,n]),xr(()=>{const m=b=>()=>{f(b)};if(!l)return;const y=m("loaded"),v=m("error");return l.addEventListener("load",y),l.addEventListener("error",v),e&&(l.referrerPolicy=e),typeof t=="string"&&(l.crossOrigin=t),()=>{l.removeEventListener("load",y),l.removeEventListener("error",v)}},[l,t,e]),u}var n6=zS,r6=FS,s6=HS;function Il({className:n,...e}){return p.jsx(n6,{"data-slot":"avatar",className:Ht("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function Yv({className:n,...e}){return p.jsx(r6,{"data-slot":"avatar-image",className:Ht("aspect-square size-full",n),...e})}function Ml({className:n,...e}){return p.jsx(s6,{"data-slot":"avatar-fallback",className:Ht("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}class i6{async sendMessage(e,t,s,a,l="text",u=null){try{const f=Hn(mt,lt.ROOMS,e,lt.MESSAGES),m={senderId:t,senderName:s,text:a,type:l,timestamp:Ot(),roomId:e};return u&&(m.mediaUrl=u),await ka(f,m),await Lv.updateRoomLastMessage(e),{success:!0}}catch(f){return console.error("Error sending message:",f),{success:!1,error:f.message}}}subscribeToMessages(e,t,s=50){try{const a=Hn(mt,lt.ROOMS,e,lt.MESSAGES),l=gl(a,gu("timestamp","desc"),aE(s));return MA(l,u=>{const f=[];u.forEach(m=>{f.push({id:m.id,...m.data()})}),t(f.reverse())})}catch(a){return console.error("Error subscribing to messages:",a),()=>{}}}async getMessages(e,t=50){try{const s=Hn(mt,lt.ROOMS,e,lt.MESSAGES),a=gl(s,gu("timestamp","desc"),aE(t)),l=await getDocs(a),u=[];return l.forEach(f=>{u.push({id:f.id,...f.data()})}),u.reverse()}catch(s){return console.error("Error getting messages:",s),[]}}async sendAudioMessage(e,t,s,a,l){try{return await this.sendMessage(e,t,s,`Audio (${l}s)`,"audio",a)}catch(u){return console.error("Error sending audio message:",u),{success:!1,error:u.message}}}async sendImageMessage(e,t,s,a,l=""){try{return await this.sendMessage(e,t,s,l||"Imagen","image",a)}catch(u){return console.error("Error sending image message:",u),{success:!1,error:u.message}}}}const OE=new i6;class a6{async uploadProfilePicture(e,t){try{const s=_h(bh,`profile-pictures/${e}/${Date.now()}_${t.name}`),a=await Tg(s,t);return{success:!0,url:await Ag(a.ref)}}catch(s){return console.error("Error uploading profile picture:",s),{success:!1,error:s.message}}}async uploadAudio(e,t,s){try{const a=`audio_${Date.now()}.webm`,l=_h(bh,`audio-messages/${s}/${e}/${a}`),u=await Tg(l,t);return{success:!0,url:await Ag(u.ref)}}catch(a){return console.error("Error uploading audio:",a),{success:!1,error:a.message}}}async uploadImage(e,t,s){try{const a=_h(bh,`image-messages/${s}/${e}/${Date.now()}_${t.name}`),l=await Tg(a,t);return{success:!0,url:await Ag(l.ref)}}catch(a){return console.error("Error uploading image:",a),{success:!1,error:a.message}}}async deleteFile(e){try{const t=_h(bh,e);return await o3(t),{success:!0}}catch(t){return console.error("Error deleting file:",t),{success:!1,error:t.message}}}validateFile(e,t,s){return t.includes(e.type)?e.size>s?{isValid:!1,error:"El archivo es demasiado grande"}:{isValid:!0}:{isValid:!1,error:"Tipo de archivo no permitido"}}}const au=new a6,o6=({onSendMessage:n})=>{const{isVIP:e}=$s(),{currentRoom:t}=Yf(),[s,a]=N.useState(""),[l,u]=N.useState(!1),[f,m]=N.useState(!1),y=N.useRef(null),v=N.useRef(null),b=N.useRef([]),w=q=>{if(q.preventDefault(),!!s.trim()){if(s.length>ar.MAX_MESSAGE_LENGTH){alert(`El mensaje no puede tener más de ${ar.MAX_MESSAGE_LENGTH} caracteres`);return}n(s.trim()),a("")}},S=async q=>{const L=q.target.files[0];if(!L)return;const G=au.validateFile(L,ar.SUPPORTED_IMAGE_TYPES,ar.MAX_FILE_SIZE);if(!G.isValid){alert(G.error);return}m(!0);try{const J=await au.uploadImage(user.uid,L,t.id);J.success?n("Imagen","image",J.url):alert("Error al subir la imagen")}catch(J){console.error("Error uploading image:",J),alert("Error al subir la imagen")}finally{m(!1),q.target.value=""}},O=async()=>{if(!e){alert("Los audios son una función exclusiva para usuarios VIP");return}try{const q=await navigator.mediaDevices.getUserMedia({audio:!0});v.current=new MediaRecorder(q),b.current=[],v.current.ondataavailable=L=>{b.current.push(L.data)},v.current.onstop=async()=>{const L=new Blob(b.current,{type:"audio/webm"});m(!0);try{const G=await au.uploadAudio(user.uid,L,t.id);G.success?n("Audio","audio",G.url):alert("Error al subir el audio")}catch(G){console.error("Error uploading audio:",G),alert("Error al subir el audio")}finally{m(!1)}q.getTracks().forEach(G=>G.stop())},v.current.start(),u(!0),setTimeout(()=>{l&&M()},ar.MAX_AUDIO_DURATION*1e3)}catch(q){console.error("Error accessing microphone:",q),alert("No se pudo acceder al micrófono")}},M=()=>{v.current&&l&&(v.current.stop(),u(!1))},I=q=>{a(L=>L+q)},F=["😀","😂","❤️","👍","👎","😢","😮","😡","🎉","🔥"];return p.jsxs("div",{className:"space-y-3",children:[p.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:F.map(q=>p.jsx(dt,{variant:"ghost",size:"sm",className:"text-lg hover:bg-white hover:bg-opacity-20 text-white flex-shrink-0",onClick:()=>I(q),children:q},q))}),p.jsxs("form",{onSubmit:w,className:"flex items-center space-x-2",children:[p.jsxs("div",{className:"flex space-x-1",children:[p.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var q;return(q=y.current)==null?void 0:q.click()},disabled:f,className:"text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(cV,{className:"h-4 w-4"})}),p.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:S,className:"hidden"}),p.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:l?M:O,disabled:f,className:`${l?"text-red-400 hover:text-red-500 animate-pulse":e?"text-white hover:text-white hover:bg-white hover:bg-opacity-20":"text-gray-400 cursor-not-allowed"}`,title:e?l?"Detener grabación":"Grabar audio":"Función VIP",children:p.jsx(_V,{className:"h-4 w-4"})})]}),p.jsx(Bn,{value:s,onChange:q=>a(q.target.value),placeholder:f?"Subiendo archivo...":"Escribí tu mensaje...",disabled:f||l,maxLength:ar.MAX_MESSAGE_LENGTH,className:"flex-1 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50"}),p.jsx(dt,{type:"submit",size:"sm",disabled:!s.trim()||f||l,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105",children:p.jsx(AV,{className:"h-4 w-4"})})]}),s.length>ar.MAX_MESSAGE_LENGTH*.8&&p.jsxs("div",{className:"text-xs text-right text-white text-opacity-70",children:[s.length,"/",ar.MAX_MESSAGE_LENGTH]}),l&&p.jsxs("div",{className:"text-center text-red-400 text-sm animate-pulse",children:["🔴 Grabando audio... (máx. ",ar.MAX_AUDIO_DURATION,"s)"]})]})};function l6(n,e=globalThis==null?void 0:globalThis.document){const t=ns(n);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var c6="DismissableLayer",xy="dismissableLayer.update",u6="dismissableLayer.pointerDownOutside",d6="dismissableLayer.focusOutside",kE,GS=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$S=N.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...m}=n,y=N.useContext(GS),[v,b]=N.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=N.useState({}),O=In(e,C=>b(C)),M=Array.from(y.layers),[I]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),F=M.indexOf(I),q=v?M.indexOf(v):-1,L=y.layersWithOutsidePointerEventsDisabled.size>0,G=q>=F,J=m6(C=>{const A=C.target,D=[...y.branches].some(P=>P.contains(A));!G||D||(a==null||a(C),u==null||u(C),C.defaultPrevented||f==null||f())},w),ae=p6(C=>{const A=C.target;[...y.branches].some(P=>P.contains(A))||(l==null||l(C),u==null||u(C),C.defaultPrevented||f==null||f())},w);return l6(C=>{q===y.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&f&&(C.preventDefault(),f()))},w),N.useEffect(()=>{if(v)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(kE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(v)),y.layers.add(v),PE(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=kE)}},[v,w,t,y]),N.useEffect(()=>()=>{v&&(y.layers.delete(v),y.layersWithOutsidePointerEventsDisabled.delete(v),PE())},[v,y]),N.useEffect(()=>{const C=()=>S({});return document.addEventListener(xy,C),()=>document.removeEventListener(xy,C)},[]),p.jsx(vt.div,{...m,ref:O,style:{pointerEvents:L?G?"auto":"none":void 0,...n.style},onFocusCapture:ze(n.onFocusCapture,ae.onFocusCapture),onBlurCapture:ze(n.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:ze(n.onPointerDownCapture,J.onPointerDownCapture)})});$S.displayName=c6;var h6="DismissableLayerBranch",f6=N.forwardRef((n,e)=>{const t=N.useContext(GS),s=N.useRef(null),a=In(e,s);return N.useEffect(()=>{const l=s.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),p.jsx(vt.div,{...n,ref:a})});f6.displayName=h6;function m6(n,e=globalThis==null?void 0:globalThis.document){const t=ns(n),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const l=f=>{if(f.target&&!s.current){let m=function(){KS(u6,t,y,{discrete:!0})};const y={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function p6(n,e=globalThis==null?void 0:globalThis.document){const t=ns(n),s=N.useRef(!1);return N.useEffect(()=>{const a=l=>{l.target&&!s.current&&KS(d6,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function PE(){const n=new CustomEvent(xy);document.dispatchEvent(n)}function KS(n,e,t,{discrete:s}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),s?pS(a,l):a.dispatchEvent(l)}var kg=0;function g6(){N.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??jE()),document.body.insertAdjacentElement("beforeend",n[1]??jE()),kg++,()=>{kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kg--}},[])}function jE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Pg="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",VE={bubbles:!1,cancelable:!0},y6="FocusScope",YS=N.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=n,[f,m]=N.useState(null),y=ns(a),v=ns(l),b=N.useRef(null),w=In(e,M=>m(M)),S=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let M=function(L){if(S.paused||!f)return;const G=L.target;f.contains(G)?b.current=G:Ti(b.current,{select:!0})},I=function(L){if(S.paused||!f)return;const G=L.relatedTarget;G!==null&&(f.contains(G)||Ti(b.current,{select:!0}))},F=function(L){if(document.activeElement===document.body)for(const J of L)J.removedNodes.length>0&&Ti(f)};document.addEventListener("focusin",M),document.addEventListener("focusout",I);const q=new MutationObserver(F);return f&&q.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",M),document.removeEventListener("focusout",I),q.disconnect()}}},[s,f,S.paused]),N.useEffect(()=>{if(f){UE.add(S);const M=document.activeElement;if(!f.contains(M)){const F=new CustomEvent(Pg,VE);f.addEventListener(Pg,y),f.dispatchEvent(F),F.defaultPrevented||(v6(E6(QS(f)),{select:!0}),document.activeElement===M&&Ti(f))}return()=>{f.removeEventListener(Pg,y),setTimeout(()=>{const F=new CustomEvent(jg,VE);f.addEventListener(jg,v),f.dispatchEvent(F),F.defaultPrevented||Ti(M??document.body,{select:!0}),f.removeEventListener(jg,v),UE.remove(S)},0)}}},[f,y,v,S]);const O=N.useCallback(M=>{if(!t&&!s||S.paused)return;const I=M.key==="Tab"&&!M.altKey&&!M.ctrlKey&&!M.metaKey,F=document.activeElement;if(I&&F){const q=M.currentTarget,[L,G]=_6(q);L&&G?!M.shiftKey&&F===G?(M.preventDefault(),t&&Ti(L,{select:!0})):M.shiftKey&&F===L&&(M.preventDefault(),t&&Ti(G,{select:!0})):F===q&&M.preventDefault()}},[t,s,S.paused]);return p.jsx(vt.div,{tabIndex:-1,...u,ref:w,onKeyDown:O})});YS.displayName=y6;function v6(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(Ti(s,{select:e}),document.activeElement!==t)return}function _6(n){const e=QS(n),t=LE(e,n),s=LE(e.reverse(),n);return[t,s]}function QS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function LE(n,e){for(const t of n)if(!b6(t,{upTo:e}))return t}function b6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function w6(n){return n instanceof HTMLInputElement&&"select"in n}function Ti(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&w6(n)&&e&&n.select()}}var UE=x6();function x6(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=zE(n,e),n.unshift(e)},remove(e){var t;n=zE(n,e),(t=n[0])==null||t.resume()}}}function zE(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function E6(n){return n.filter(e=>e.tagName!=="A")}const T6=["top","right","bottom","left"],Bi=Math.min,Fn=Math.max,mf=Math.round,Th=Math.floor,es=n=>({x:n,y:n}),A6={left:"right",right:"left",bottom:"top",top:"bottom"},S6={start:"end",end:"start"};function Ey(n,e,t){return Fn(n,Bi(e,t))}function qs(n,e){return typeof n=="function"?n(e):n}function Hs(n){return n.split("-")[0]}function Dl(n){return n.split("-")[1]}function Qv(n){return n==="x"?"y":"x"}function Xv(n){return n==="y"?"height":"width"}function Kr(n){return["top","bottom"].includes(Hs(n))?"y":"x"}function Wv(n){return Qv(Kr(n))}function R6(n,e,t){t===void 0&&(t=!1);const s=Dl(n),a=Wv(n),l=Xv(a);let u=a==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=pf(u)),[u,pf(u)]}function N6(n){const e=pf(n);return[Ty(n),e,Ty(e)]}function Ty(n){return n.replace(/start|end/g,e=>S6[e])}function C6(n,e,t){const s=["left","right"],a=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:s:e?s:a;case"left":case"right":return e?l:u;default:return[]}}function I6(n,e,t,s){const a=Dl(n);let l=C6(Hs(n),t==="start",s);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Ty)))),l}function pf(n){return n.replace(/left|right|bottom|top/g,e=>A6[e])}function M6(n){return{top:0,right:0,bottom:0,left:0,...n}}function XS(n){return typeof n!="number"?M6(n):{top:n,right:n,bottom:n,left:n}}function gf(n){const{x:e,y:t,width:s,height:a}=n;return{width:s,height:a,top:t,left:e,right:e+s,bottom:t+a,x:e,y:t}}function BE(n,e,t){let{reference:s,floating:a}=n;const l=Kr(e),u=Wv(e),f=Xv(u),m=Hs(e),y=l==="y",v=s.x+s.width/2-a.width/2,b=s.y+s.height/2-a.height/2,w=s[f]/2-a[f]/2;let S;switch(m){case"top":S={x:v,y:s.y-a.height};break;case"bottom":S={x:v,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:b};break;case"left":S={x:s.x-a.width,y:b};break;default:S={x:s.x,y:s.y}}switch(Dl(e)){case"start":S[u]-=w*(t&&y?-1:1);break;case"end":S[u]+=w*(t&&y?-1:1);break}return S}const D6=async(n,e,t)=>{const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:u}=t,f=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let y=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=BE(y,s,m),w=s,S={},O=0;for(let M=0;M<f.length;M++){const{name:I,fn:F}=f[M],{x:q,y:L,data:G,reset:J}=await F({x:v,y:b,initialPlacement:s,placement:w,strategy:a,middlewareData:S,rects:y,platform:u,elements:{reference:n,floating:e}});v=q??v,b=L??b,S={...S,[I]:{...S[I],...G}},J&&O<=50&&(O++,typeof J=="object"&&(J.placement&&(w=J.placement),J.rects&&(y=J.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):J.rects),{x:v,y:b}=BE(y,w,m)),M=-1)}return{x:v,y:b,placement:w,strategy:a,middlewareData:S}};async function wu(n,e){var t;e===void 0&&(e={});const{x:s,y:a,platform:l,rects:u,elements:f,strategy:m}=n,{boundary:y="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:w=!1,padding:S=0}=qs(e,n),O=XS(S),I=f[w?b==="floating"?"reference":"floating":b],F=gf(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(I)))==null||t?I:I.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:y,rootBoundary:v,strategy:m})),q=b==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),G=await(l.isElement==null?void 0:l.isElement(L))?await(l.getScale==null?void 0:l.getScale(L))||{x:1,y:1}:{x:1,y:1},J=gf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:q,offsetParent:L,strategy:m}):q);return{top:(F.top-J.top+O.top)/G.y,bottom:(J.bottom-F.bottom+O.bottom)/G.y,left:(F.left-J.left+O.left)/G.x,right:(J.right-F.right+O.right)/G.x}}const O6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:a,rects:l,platform:u,elements:f,middlewareData:m}=e,{element:y,padding:v=0}=qs(n,e)||{};if(y==null)return{};const b=XS(v),w={x:t,y:s},S=Wv(a),O=Xv(S),M=await u.getDimensions(y),I=S==="y",F=I?"top":"left",q=I?"bottom":"right",L=I?"clientHeight":"clientWidth",G=l.reference[O]+l.reference[S]-w[S]-l.floating[O],J=w[S]-l.reference[S],ae=await(u.getOffsetParent==null?void 0:u.getOffsetParent(y));let C=ae?ae[L]:0;(!C||!await(u.isElement==null?void 0:u.isElement(ae)))&&(C=f.floating[L]||l.floating[O]);const A=G/2-J/2,D=C/2-M[O]/2-1,P=Bi(b[F],D),U=Bi(b[q],D),z=P,k=C-M[O]-U,Se=C/2-M[O]/2+A,Ce=Ey(z,Se,k),Y=!m.arrow&&Dl(a)!=null&&Se!==Ce&&l.reference[O]/2-(Se<z?P:U)-M[O]/2<0,ce=Y?Se<z?Se-z:Se-k:0;return{[S]:w[S]+ce,data:{[S]:Ce,centerOffset:Se-Ce-ce,...Y&&{alignmentOffset:ce}},reset:Y}}}),k6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:m,elements:y}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:M=!0,...I}=qs(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const F=Hs(a),q=Kr(f),L=Hs(f)===f,G=await(m.isRTL==null?void 0:m.isRTL(y.floating)),J=w||(L||!M?[pf(f)]:N6(f)),ae=O!=="none";!w&&ae&&J.push(...I6(f,M,O,G));const C=[f,...J],A=await wu(e,I),D=[];let P=((s=l.flip)==null?void 0:s.overflows)||[];if(v&&D.push(A[F]),b){const Se=R6(a,u,G);D.push(A[Se[0]],A[Se[1]])}if(P=[...P,{placement:a,overflows:D}],!D.every(Se=>Se<=0)){var U,z;const Se=(((U=l.flip)==null?void 0:U.index)||0)+1,Ce=C[Se];if(Ce&&(!(b==="alignment"?q!==Kr(Ce):!1)||P.every(Z=>Z.overflows[0]>0&&Kr(Z.placement)===q)))return{data:{index:Se,overflows:P},reset:{placement:Ce}};let Y=(z=P.filter(ce=>ce.overflows[0]<=0).sort((ce,Z)=>ce.overflows[1]-Z.overflows[1])[0])==null?void 0:z.placement;if(!Y)switch(S){case"bestFit":{var k;const ce=(k=P.filter(Z=>{if(ae){const ue=Kr(Z.placement);return ue===q||ue==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ue=>ue>0).reduce((ue,V)=>ue+V,0)]).sort((Z,ue)=>Z[1]-ue[1])[0])==null?void 0:k[0];ce&&(Y=ce);break}case"initialPlacement":Y=f;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};function FE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function qE(n){return T6.some(e=>n[e]>=0)}const P6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...a}=qs(n,e);switch(s){case"referenceHidden":{const l=await wu(e,{...a,elementContext:"reference"}),u=FE(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:qE(u)}}}case"escaped":{const l=await wu(e,{...a,altBoundary:!0}),u=FE(l,t.floating);return{data:{escapedOffsets:u,escaped:qE(u)}}}default:return{}}}}};async function j6(n,e){const{placement:t,platform:s,elements:a}=n,l=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Hs(t),f=Dl(t),m=Kr(t)==="y",y=["left","top"].includes(u)?-1:1,v=l&&m?-1:1,b=qs(e,n);let{mainAxis:w,crossAxis:S,alignmentAxis:O}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof O=="number"&&(S=f==="end"?O*-1:O),m?{x:S*v,y:w*y}:{x:w*y,y:S*v}}const V6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:a,y:l,placement:u,middlewareData:f}=e,m=await j6(e,n);return u===((t=f.offset)==null?void 0:t.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:u}}}}},L6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:I=>{let{x:F,y:q}=I;return{x:F,y:q}}},...m}=qs(n,e),y={x:t,y:s},v=await wu(e,m),b=Kr(Hs(a)),w=Qv(b);let S=y[w],O=y[b];if(l){const I=w==="y"?"top":"left",F=w==="y"?"bottom":"right",q=S+v[I],L=S-v[F];S=Ey(q,S,L)}if(u){const I=b==="y"?"top":"left",F=b==="y"?"bottom":"right",q=O+v[I],L=O-v[F];O=Ey(q,O,L)}const M=f.fn({...e,[w]:S,[b]:O});return{...M,data:{x:M.x-t,y:M.y-s,enabled:{[w]:l,[b]:u}}}}}},U6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:a,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:m=!0,crossAxis:y=!0}=qs(n,e),v={x:t,y:s},b=Kr(a),w=Qv(b);let S=v[w],O=v[b];const M=qs(f,e),I=typeof M=="number"?{mainAxis:M,crossAxis:0}:{mainAxis:0,crossAxis:0,...M};if(m){const L=w==="y"?"height":"width",G=l.reference[w]-l.floating[L]+I.mainAxis,J=l.reference[w]+l.reference[L]-I.mainAxis;S<G?S=G:S>J&&(S=J)}if(y){var F,q;const L=w==="y"?"width":"height",G=["top","left"].includes(Hs(a)),J=l.reference[b]-l.floating[L]+(G&&((F=u.offset)==null?void 0:F[b])||0)+(G?0:I.crossAxis),ae=l.reference[b]+l.reference[L]+(G?0:((q=u.offset)==null?void 0:q[b])||0)-(G?I.crossAxis:0);O<J?O=J:O>ae&&(O=ae)}return{[w]:S,[b]:O}}}},z6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:a,rects:l,platform:u,elements:f}=e,{apply:m=()=>{},...y}=qs(n,e),v=await wu(e,y),b=Hs(a),w=Dl(a),S=Kr(a)==="y",{width:O,height:M}=l.floating;let I,F;b==="top"||b==="bottom"?(I=b,F=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(F=b,I=w==="end"?"top":"bottom");const q=M-v.top-v.bottom,L=O-v.left-v.right,G=Bi(M-v[I],q),J=Bi(O-v[F],L),ae=!e.middlewareData.shift;let C=G,A=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=L),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(C=q),ae&&!w){const P=Fn(v.left,0),U=Fn(v.right,0),z=Fn(v.top,0),k=Fn(v.bottom,0);S?A=O-2*(P!==0||U!==0?P+U:Fn(v.left,v.right)):C=M-2*(z!==0||k!==0?z+k:Fn(v.top,v.bottom))}await m({...e,availableWidth:A,availableHeight:C});const D=await u.getDimensions(f.floating);return O!==D.width||M!==D.height?{reset:{rects:!0}}:{}}}};function Zf(){return typeof window<"u"}function Ol(n){return WS(n)?(n.nodeName||"").toLowerCase():"#document"}function Kn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function is(n){var e;return(e=(WS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function WS(n){return Zf()?n instanceof Node||n instanceof Kn(n).Node:!1}function Er(n){return Zf()?n instanceof Element||n instanceof Kn(n).Element:!1}function rs(n){return Zf()?n instanceof HTMLElement||n instanceof Kn(n).HTMLElement:!1}function HE(n){return!Zf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kn(n).ShadowRoot}function Uu(n){const{overflow:e,overflowX:t,overflowY:s,display:a}=Tr(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(a)}function B6(n){return["table","td","th"].includes(Ol(n))}function Jf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Zv(n){const e=Jv(),t=Er(n)?Tr(n):n;return["transform","translate","scale","rotate","perspective"].some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function F6(n){let e=Fi(n);for(;rs(e)&&!yl(e);){if(Zv(e))return e;if(Jf(e))return null;e=Fi(e)}return null}function Jv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yl(n){return["html","body","#document"].includes(Ol(n))}function Tr(n){return Kn(n).getComputedStyle(n)}function em(n){return Er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fi(n){if(Ol(n)==="html")return n;const e=n.assignedSlot||n.parentNode||HE(n)&&n.host||is(n);return HE(e)?e.host:e}function ZS(n){const e=Fi(n);return yl(e)?n.ownerDocument?n.ownerDocument.body:n.body:rs(e)&&Uu(e)?e:ZS(e)}function xu(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=ZS(n),l=a===((s=n.ownerDocument)==null?void 0:s.body),u=Kn(a);if(l){const f=Ay(u);return e.concat(u,u.visualViewport||[],Uu(a)?a:[],f&&t?xu(f):[])}return e.concat(a,xu(a,[],t))}function Ay(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JS(n){const e=Tr(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=rs(n),l=a?n.offsetWidth:t,u=a?n.offsetHeight:s,f=mf(t)!==l||mf(s)!==u;return f&&(t=l,s=u),{width:t,height:s,$:f}}function e_(n){return Er(n)?n:n.contextElement}function il(n){const e=e_(n);if(!rs(e))return es(1);const t=e.getBoundingClientRect(),{width:s,height:a,$:l}=JS(e);let u=(l?mf(t.width):t.width)/s,f=(l?mf(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const q6=es(0);function eR(n){const e=Kn(n);return!Jv()||!e.visualViewport?q6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kn(n)?!1:e}function qa(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=e_(n);let u=es(1);e&&(s?Er(s)&&(u=il(s)):u=il(n));const f=H6(l,t,s)?eR(l):es(0);let m=(a.left+f.x)/u.x,y=(a.top+f.y)/u.y,v=a.width/u.x,b=a.height/u.y;if(l){const w=Kn(l),S=s&&Er(s)?Kn(s):s;let O=w,M=Ay(O);for(;M&&s&&S!==O;){const I=il(M),F=M.getBoundingClientRect(),q=Tr(M),L=F.left+(M.clientLeft+parseFloat(q.paddingLeft))*I.x,G=F.top+(M.clientTop+parseFloat(q.paddingTop))*I.y;m*=I.x,y*=I.y,v*=I.x,b*=I.y,m+=L,y+=G,O=Kn(M),M=Ay(O)}}return gf({width:v,height:b,x:m,y})}function t_(n,e){const t=em(n).scrollLeft;return e?e.left+t:qa(is(n)).left+t}function tR(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=s.left+e.scrollLeft-(t?0:t_(n,s)),l=s.top+e.scrollTop;return{x:a,y:l}}function G6(n){let{elements:e,rect:t,offsetParent:s,strategy:a}=n;const l=a==="fixed",u=is(s),f=e?Jf(e.floating):!1;if(s===u||f&&l)return t;let m={scrollLeft:0,scrollTop:0},y=es(1);const v=es(0),b=rs(s);if((b||!b&&!l)&&((Ol(s)!=="body"||Uu(u))&&(m=em(s)),rs(s))){const S=qa(s);y=il(s),v.x=S.x+s.clientLeft,v.y=S.y+s.clientTop}const w=u&&!b&&!l?tR(u,m,!0):es(0);return{width:t.width*y.x,height:t.height*y.y,x:t.x*y.x-m.scrollLeft*y.x+v.x+w.x,y:t.y*y.y-m.scrollTop*y.y+v.y+w.y}}function $6(n){return Array.from(n.getClientRects())}function K6(n){const e=is(n),t=em(n),s=n.ownerDocument.body,a=Fn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=Fn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-t.scrollLeft+t_(n);const f=-t.scrollTop;return Tr(s).direction==="rtl"&&(u+=Fn(e.clientWidth,s.clientWidth)-a),{width:a,height:l,x:u,y:f}}function Y6(n,e){const t=Kn(n),s=is(n),a=t.visualViewport;let l=s.clientWidth,u=s.clientHeight,f=0,m=0;if(a){l=a.width,u=a.height;const y=Jv();(!y||y&&e==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:l,height:u,x:f,y:m}}function Q6(n,e){const t=qa(n,!0,e==="fixed"),s=t.top+n.clientTop,a=t.left+n.clientLeft,l=rs(n)?il(n):es(1),u=n.clientWidth*l.x,f=n.clientHeight*l.y,m=a*l.x,y=s*l.y;return{width:u,height:f,x:m,y}}function GE(n,e,t){let s;if(e==="viewport")s=Y6(n,t);else if(e==="document")s=K6(is(n));else if(Er(e))s=Q6(e,t);else{const a=eR(n);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return gf(s)}function nR(n,e){const t=Fi(n);return t===e||!Er(t)||yl(t)?!1:Tr(t).position==="fixed"||nR(t,e)}function X6(n,e){const t=e.get(n);if(t)return t;let s=xu(n,[],!1).filter(f=>Er(f)&&Ol(f)!=="body"),a=null;const l=Tr(n).position==="fixed";let u=l?Fi(n):n;for(;Er(u)&&!yl(u);){const f=Tr(u),m=Zv(u);!m&&f.position==="fixed"&&(a=null),(l?!m&&!a:!m&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Uu(u)&&!m&&nR(n,u))?s=s.filter(v=>v!==u):a=f,u=Fi(u)}return e.set(n,s),s}function W6(n){let{element:e,boundary:t,rootBoundary:s,strategy:a}=n;const u=[...t==="clippingAncestors"?Jf(e)?[]:X6(e,this._c):[].concat(t),s],f=u[0],m=u.reduce((y,v)=>{const b=GE(e,v,a);return y.top=Fn(b.top,y.top),y.right=Bi(b.right,y.right),y.bottom=Bi(b.bottom,y.bottom),y.left=Fn(b.left,y.left),y},GE(e,f,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Z6(n){const{width:e,height:t}=JS(n);return{width:e,height:t}}function J6(n,e,t){const s=rs(e),a=is(e),l=t==="fixed",u=qa(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=es(0);function y(){m.x=t_(a)}if(s||!s&&!l)if((Ol(e)!=="body"||Uu(a))&&(f=em(e)),s){const S=qa(e,!0,l,e);m.x=S.x+e.clientLeft,m.y=S.y+e.clientTop}else a&&y();l&&!s&&a&&y();const v=a&&!s&&!l?tR(a,f):es(0),b=u.left+f.scrollLeft-m.x-v.x,w=u.top+f.scrollTop-m.y-v.y;return{x:b,y:w,width:u.width,height:u.height}}function Vg(n){return Tr(n).position==="static"}function $E(n,e){if(!rs(n)||Tr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return is(n)===t&&(t=t.ownerDocument.body),t}function rR(n,e){const t=Kn(n);if(Jf(n))return t;if(!rs(n)){let a=Fi(n);for(;a&&!yl(a);){if(Er(a)&&!Vg(a))return a;a=Fi(a)}return t}let s=$E(n,e);for(;s&&B6(s)&&Vg(s);)s=$E(s,e);return s&&yl(s)&&Vg(s)&&!Zv(s)?t:s||F6(n)||t}const eL=async function(n){const e=this.getOffsetParent||rR,t=this.getDimensions,s=await t(n.floating);return{reference:J6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function tL(n){return Tr(n).direction==="rtl"}const nL={convertOffsetParentRelativeRectToViewportRelativeRect:G6,getDocumentElement:is,getClippingRect:W6,getOffsetParent:rR,getElementRects:eL,getClientRects:$6,getDimensions:Z6,getScale:il,isElement:Er,isRTL:tL};function sR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function rL(n,e){let t=null,s;const a=is(n);function l(){var f;clearTimeout(s),(f=t)==null||f.disconnect(),t=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const y=n.getBoundingClientRect(),{left:v,top:b,width:w,height:S}=y;if(f||e(),!w||!S)return;const O=Th(b),M=Th(a.clientWidth-(v+w)),I=Th(a.clientHeight-(b+S)),F=Th(v),L={rootMargin:-O+"px "+-M+"px "+-I+"px "+-F+"px",threshold:Fn(0,Bi(1,m))||1};let G=!0;function J(ae){const C=ae[0].intersectionRatio;if(C!==m){if(!G)return u();C?u(!1,C):s=setTimeout(()=>{u(!1,1e-7)},1e3)}C===1&&!sR(y,n.getBoundingClientRect())&&u(),G=!1}try{t=new IntersectionObserver(J,{...L,root:a.ownerDocument})}catch{t=new IntersectionObserver(J,L)}t.observe(n)}return u(!0),l}function sL(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,y=e_(n),v=a||l?[...y?xu(y):[],...xu(e)]:[];v.forEach(F=>{a&&F.addEventListener("scroll",t,{passive:!0}),l&&F.addEventListener("resize",t)});const b=y&&f?rL(y,t):null;let w=-1,S=null;u&&(S=new ResizeObserver(F=>{let[q]=F;q&&q.target===y&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var L;(L=S)==null||L.observe(e)})),t()}),y&&!m&&S.observe(y),S.observe(e));let O,M=m?qa(n):null;m&&I();function I(){const F=qa(n);M&&!sR(M,F)&&t(),M=F,O=requestAnimationFrame(I)}return t(),()=>{var F;v.forEach(q=>{a&&q.removeEventListener("scroll",t),l&&q.removeEventListener("resize",t)}),b==null||b(),(F=S)==null||F.disconnect(),S=null,m&&cancelAnimationFrame(O)}}const iL=V6,aL=L6,oL=k6,lL=z6,cL=P6,KE=O6,uL=U6,dL=(n,e,t)=>{const s=new Map,a={platform:nL,...t},l={...a.platform,_c:s};return D6(n,e,{...a,platform:l})};var hL=typeof document<"u",fL=function(){},zh=hL?N.useLayoutEffect:fL;function yf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!yf(n[s],e[s]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=t;s--!==0;){const l=a[s];if(!(l==="_owner"&&n.$$typeof)&&!yf(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function iR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function YE(n,e){const t=iR(n);return Math.round(e*t)/t}function Lg(n){const e=N.useRef(n);return zh(()=>{e.current=n}),e}function mL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:m,open:y}=n,[v,b]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=N.useState(s);yf(w,s)||S(s);const[O,M]=N.useState(null),[I,F]=N.useState(null),q=N.useCallback(Z=>{Z!==ae.current&&(ae.current=Z,M(Z))},[]),L=N.useCallback(Z=>{Z!==C.current&&(C.current=Z,F(Z))},[]),G=l||O,J=u||I,ae=N.useRef(null),C=N.useRef(null),A=N.useRef(v),D=m!=null,P=Lg(m),U=Lg(a),z=Lg(y),k=N.useCallback(()=>{if(!ae.current||!C.current)return;const Z={placement:e,strategy:t,middleware:w};U.current&&(Z.platform=U.current),dL(ae.current,C.current,Z).then(ue=>{const V={...ue,isPositioned:z.current!==!1};Se.current&&!yf(A.current,V)&&(A.current=V,zv.flushSync(()=>{b(V)}))})},[w,e,t,U,z]);zh(()=>{y===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,b(Z=>({...Z,isPositioned:!1})))},[y]);const Se=N.useRef(!1);zh(()=>(Se.current=!0,()=>{Se.current=!1}),[]),zh(()=>{if(G&&(ae.current=G),J&&(C.current=J),G&&J){if(P.current)return P.current(G,J,k);k()}},[G,J,k,P,D]);const Ce=N.useMemo(()=>({reference:ae,floating:C,setReference:q,setFloating:L}),[q,L]),Y=N.useMemo(()=>({reference:G,floating:J}),[G,J]),ce=N.useMemo(()=>{const Z={position:t,left:0,top:0};if(!Y.floating)return Z;const ue=YE(Y.floating,v.x),V=YE(Y.floating,v.y);return f?{...Z,transform:"translate("+ue+"px, "+V+"px)",...iR(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:V}},[t,f,Y.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:k,refs:Ce,elements:Y,floatingStyles:ce}),[v,k,Ce,Y,ce])}const pL=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:a}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?KE({element:s.current,padding:a}).fn(t):{}:s?KE({element:s,padding:a}).fn(t):{}}}},gL=(n,e)=>({...iL(n),options:[n,e]}),yL=(n,e)=>({...aL(n),options:[n,e]}),vL=(n,e)=>({...uL(n),options:[n,e]}),_L=(n,e)=>({...oL(n),options:[n,e]}),bL=(n,e)=>({...lL(n),options:[n,e]}),wL=(n,e)=>({...cL(n),options:[n,e]}),xL=(n,e)=>({...pL(n),options:[n,e]});var EL="Arrow",aR=N.forwardRef((n,e)=>{const{children:t,width:s=10,height:a=5,...l}=n;return p.jsx(vt.svg,{...l,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});aR.displayName=EL;var TL=aR;function AL(n){const[e,t]=N.useState(void 0);return xr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const m=l.borderBoxSize,y=Array.isArray(m)?m[0]:m;u=y.inlineSize,f=y.blockSize}else u=n.offsetWidth,f=n.offsetHeight;t({width:u,height:f})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var n_="Popper",[oR,lR]=Ya(n_),[SL,cR]=oR(n_),uR=n=>{const{__scopePopper:e,children:t}=n,[s,a]=N.useState(null);return p.jsx(SL,{scope:e,anchor:s,onAnchorChange:a,children:t})};uR.displayName=n_;var dR="PopperAnchor",hR=N.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...a}=n,l=cR(dR,t),u=N.useRef(null),f=In(e,u);return N.useEffect(()=>{l.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:p.jsx(vt.div,{...a,ref:f})});hR.displayName=dR;var r_="PopperContent",[RL,NL]=oR(r_),fR=N.forwardRef((n,e)=>{var Ie,He,nt,Pt,an,pn;const{__scopePopper:t,side:s="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:y=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:O,...M}=n,I=cR(r_,t),[F,q]=N.useState(null),L=In(e,Mn=>q(Mn)),[G,J]=N.useState(null),ae=AL(G),C=(ae==null?void 0:ae.width)??0,A=(ae==null?void 0:ae.height)??0,D=s+(l!=="center"?"-"+l:""),P=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},U=Array.isArray(y)?y:[y],z=U.length>0,k={padding:P,boundary:U.filter(IL),altBoundary:z},{refs:Se,floatingStyles:Ce,placement:Y,isPositioned:ce,middlewareData:Z}=mL({strategy:"fixed",placement:D,whileElementsMounted:(...Mn)=>sL(...Mn,{animationFrame:S==="always"}),elements:{reference:I.anchor},middleware:[gL({mainAxis:a+A,alignmentAxis:u}),m&&yL({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?vL():void 0,...k}),m&&_L({...k}),bL({...k,apply:({elements:Mn,rects:Ar,availableWidth:Qi,availableHeight:Wa})=>{const{width:En,height:kl}=Ar.reference,Sr=Mn.floating.style;Sr.setProperty("--radix-popper-available-width",`${Qi}px`),Sr.setProperty("--radix-popper-available-height",`${Wa}px`),Sr.setProperty("--radix-popper-anchor-width",`${En}px`),Sr.setProperty("--radix-popper-anchor-height",`${kl}px`)}}),G&&xL({element:G,padding:f}),ML({arrowWidth:C,arrowHeight:A}),w&&wL({strategy:"referenceHidden",...k})]}),[ue,V]=gR(Y),te=ns(O);xr(()=>{ce&&(te==null||te())},[ce,te]);const de=(Ie=Z.arrow)==null?void 0:Ie.x,oe=(He=Z.arrow)==null?void 0:He.y,fe=((nt=Z.arrow)==null?void 0:nt.centerOffset)!==0,[Re,_e]=N.useState();return xr(()=>{F&&_e(window.getComputedStyle(F).zIndex)},[F]),p.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:ce?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Pt=Z.transformOrigin)==null?void 0:Pt.x,(an=Z.transformOrigin)==null?void 0:an.y].join(" "),...((pn=Z.hide)==null?void 0:pn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(RL,{scope:t,placedSide:ue,onArrowChange:J,arrowX:de,arrowY:oe,shouldHideArrow:fe,children:p.jsx(vt.div,{"data-side":ue,"data-align":V,...M,ref:L,style:{...M.style,animation:ce?void 0:"none"}})})})});fR.displayName=r_;var mR="PopperArrow",CL={top:"bottom",right:"left",bottom:"top",left:"right"},pR=N.forwardRef(function(e,t){const{__scopePopper:s,...a}=e,l=NL(mR,s),u=CL[l.placedSide];return p.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:p.jsx(TL,{...a,ref:t,style:{...a.style,display:"block"}})})});pR.displayName=mR;function IL(n){return n!==null}var ML=n=>({name:"transformOrigin",options:n,fn(e){var I,F,q;const{placement:t,rects:s,middlewareData:a}=e,u=((I=a.arrow)==null?void 0:I.centerOffset)!==0,f=u?0:n.arrowWidth,m=u?0:n.arrowHeight,[y,v]=gR(t),b={start:"0%",center:"50%",end:"100%"}[v],w=(((F=a.arrow)==null?void 0:F.x)??0)+f/2,S=(((q=a.arrow)==null?void 0:q.y)??0)+m/2;let O="",M="";return y==="bottom"?(O=u?b:`${w}px`,M=`${-m}px`):y==="top"?(O=u?b:`${w}px`,M=`${s.floating.height+m}px`):y==="right"?(O=`${-m}px`,M=u?b:`${S}px`):y==="left"&&(O=`${s.floating.width+m}px`,M=u?b:`${S}px`),{data:{x:O,y:M}}}});function gR(n){const[e,t="center"]=n.split("-");return[e,t]}var DL=uR,OL=hR,kL=fR,PL=pR,jL="Portal",yR=N.forwardRef((n,e)=>{var f;const{container:t,...s}=n,[a,l]=N.useState(!1);xr(()=>l(!0),[]);const u=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?lj.createPortal(p.jsx(vt.div,{...s,ref:e}),u):null});yR.displayName=jL;var VL=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},$o=new WeakMap,Ah=new WeakMap,Sh={},Ug=0,vR=function(n){return n&&(n.host||vR(n.parentNode))},LL=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=vR(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},UL=function(n,e,t,s){var a=LL(e,Array.isArray(n)?n:[n]);Sh[t]||(Sh[t]=new WeakMap);var l=Sh[t],u=[],f=new Set,m=new Set(a),y=function(b){!b||f.has(b)||(f.add(b),y(b.parentNode))};a.forEach(y);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(w){if(f.has(w))v(w);else try{var S=w.getAttribute(s),O=S!==null&&S!=="false",M=($o.get(w)||0)+1,I=(l.get(w)||0)+1;$o.set(w,M),l.set(w,I),u.push(w),M===1&&O&&Ah.set(w,!0),I===1&&w.setAttribute(t,"true"),O||w.setAttribute(s,"true")}catch(F){console.error("aria-hidden: cannot operate on ",w,F)}})};return v(e),f.clear(),Ug++,function(){u.forEach(function(b){var w=$o.get(b)-1,S=l.get(b)-1;$o.set(b,w),l.set(b,S),w||(Ah.has(b)||b.removeAttribute(s),Ah.delete(b)),S||b.removeAttribute(t)}),Ug--,Ug||($o=new WeakMap,$o=new WeakMap,Ah=new WeakMap,Sh={})}},zL=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),a=VL(n);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),UL(s,a,t,"aria-hidden")):function(){return null}},Bh="right-scroll-bar-position",Fh="width-before-scroll-bar",BL="with-scroll-bars-hidden",FL="--removed-body-scroll-bar-size";function zg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function qL(n,e){var t=N.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var a=t.value;a!==s&&(t.value=s,t.callback(s,a))}}}})[0];return t.callback=e,t.facade}var HL=typeof window<"u"?N.useLayoutEffect:N.useEffect,QE=new WeakMap;function GL(n,e){var t=qL(null,function(s){return n.forEach(function(a){return zg(a,s)})});return HL(function(){var s=QE.get(t);if(s){var a=new Set(s),l=new Set(n),u=t.current;a.forEach(function(f){l.has(f)||zg(f,null)}),l.forEach(function(f){a.has(f)||zg(f,u)})}QE.set(t,n)},[n]),t}function $L(n){return n}function KL(n,e){e===void 0&&(e=$L);var t=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,s);return t.push(u),function(){t=t.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(s=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){s=!0;var u=[];if(t.length){var f=t;t=[],f.forEach(l),u=t}var m=function(){var v=u;u=[],v.forEach(l)},y=function(){return Promise.resolve().then(m)};y(),t={push:function(v){u.push(v),y()},filter:function(v){return u=u.filter(v),t}}}};return a}function YL(n){n===void 0&&(n={});var e=KL(null);return e.options=Hr({async:!0,ssr:!1},n),e}var _R=function(n){var e=n.sideCar,t=Ru(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,Hr({},t))};_R.isSideCarExport=!0;function QL(n,e){return n.useMedium(e),_R}var bR=YL(),Bg=function(){},tm=N.forwardRef(function(n,e){var t=N.useRef(null),s=N.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),a=s[0],l=s[1],u=n.forwardProps,f=n.children,m=n.className,y=n.removeScrollBar,v=n.enabled,b=n.shards,w=n.sideCar,S=n.noRelative,O=n.noIsolation,M=n.inert,I=n.allowPinchZoom,F=n.as,q=F===void 0?"div":F,L=n.gapMode,G=Ru(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=w,ae=GL([t,e]),C=Hr(Hr({},G),a);return N.createElement(N.Fragment,null,v&&N.createElement(J,{sideCar:bR,removeScrollBar:y,shards:b,noRelative:S,noIsolation:O,inert:M,setCallbacks:l,allowPinchZoom:!!I,lockRef:t,gapMode:L}),u?N.cloneElement(N.Children.only(f),Hr(Hr({},C),{ref:ae})):N.createElement(q,Hr({},C,{className:m,ref:ae}),f))});tm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tm.classNames={fullWidth:Fh,zeroRight:Bh};var XL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WL(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=XL();return e&&n.setAttribute("nonce",e),n}function ZL(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function JL(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var eU=function(){var n=0,e=null;return{add:function(t){n==0&&(e=WL())&&(ZL(e,t),JL(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tU=function(){var n=eU();return function(e,t){N.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},wR=function(){var n=tU(),e=function(t){var s=t.styles,a=t.dynamic;return n(s,a),null};return e},nU={left:0,top:0,right:0,gap:0},Fg=function(n){return parseInt(n||"",10)||0},rU=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Fg(t),Fg(s),Fg(a)]},sU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return nU;var e=rU(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},iU=wR(),al="data-scroll-locked",aU=function(n,e,t,s){var a=n.left,l=n.top,u=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(BL,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(al,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bh,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Fh,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Bh," .").concat(Bh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(al,`] {
    `).concat(FL,": ").concat(f,`px;
  }
`)},XE=function(){var n=parseInt(document.body.getAttribute(al)||"0",10);return isFinite(n)?n:0},oU=function(){N.useEffect(function(){return document.body.setAttribute(al,(XE()+1).toString()),function(){var n=XE()-1;n<=0?document.body.removeAttribute(al):document.body.setAttribute(al,n.toString())}},[])},lU=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,a=s===void 0?"margin":s;oU();var l=N.useMemo(function(){return sU(a)},[a]);return N.createElement(iU,{styles:aU(l,!e,a,t?"":"!important")})},Sy=!1;if(typeof window<"u")try{var Rh=Object.defineProperty({},"passive",{get:function(){return Sy=!0,!0}});window.addEventListener("test",Rh,Rh),window.removeEventListener("test",Rh,Rh)}catch{Sy=!1}var Ko=Sy?{passive:!1}:!1,cU=function(n){return n.tagName==="TEXTAREA"},xR=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!cU(n)&&t[e]==="visible")},uU=function(n){return xR(n,"overflowY")},dU=function(n){return xR(n,"overflowX")},WE=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=ER(n,s);if(a){var l=TR(n,s),u=l[1],f=l[2];if(u>f)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},hU=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},fU=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},ER=function(n,e){return n==="v"?uU(e):dU(e)},TR=function(n,e){return n==="v"?hU(e):fU(e)},mU=function(n,e){return n==="h"&&e==="rtl"?-1:1},pU=function(n,e,t,s,a){var l=mU(n,window.getComputedStyle(e).direction),u=l*s,f=t.target,m=e.contains(f),y=!1,v=u>0,b=0,w=0;do{if(!f)break;var S=TR(n,f),O=S[0],M=S[1],I=S[2],F=M-I-l*O;(O||F)&&ER(n,f)&&(b+=F,w+=O);var q=f.parentNode;f=q&&q.nodeType===Node.DOCUMENT_FRAGMENT_NODE?q.host:q}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(b)<1||!v&&Math.abs(w)<1)&&(y=!0),y},Nh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ZE=function(n){return[n.deltaX,n.deltaY]},JE=function(n){return n&&"current"in n?n.current:n},gU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},yU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},vU=0,Yo=[];function _U(n){var e=N.useRef([]),t=N.useRef([0,0]),s=N.useRef(),a=N.useState(vU++)[0],l=N.useState(wR)[0],u=N.useRef(n);N.useEffect(function(){u.current=n},[n]),N.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var M=TI([n.lockRef.current],(n.shards||[]).map(JE),!0).filter(Boolean);return M.forEach(function(I){return I.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),M.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=N.useCallback(function(M,I){if("touches"in M&&M.touches.length===2||M.type==="wheel"&&M.ctrlKey)return!u.current.allowPinchZoom;var F=Nh(M),q=t.current,L="deltaX"in M?M.deltaX:q[0]-F[0],G="deltaY"in M?M.deltaY:q[1]-F[1],J,ae=M.target,C=Math.abs(L)>Math.abs(G)?"h":"v";if("touches"in M&&C==="h"&&ae.type==="range")return!1;var A=WE(C,ae);if(!A)return!0;if(A?J=C:(J=C==="v"?"h":"v",A=WE(C,ae)),!A)return!1;if(!s.current&&"changedTouches"in M&&(L||G)&&(s.current=J),!J)return!0;var D=s.current||J;return pU(D,I,M,D==="h"?L:G)},[]),m=N.useCallback(function(M){var I=M;if(!(!Yo.length||Yo[Yo.length-1]!==l)){var F="deltaY"in I?ZE(I):Nh(I),q=e.current.filter(function(J){return J.name===I.type&&(J.target===I.target||I.target===J.shadowParent)&&gU(J.delta,F)})[0];if(q&&q.should){I.cancelable&&I.preventDefault();return}if(!q){var L=(u.current.shards||[]).map(JE).filter(Boolean).filter(function(J){return J.contains(I.target)}),G=L.length>0?f(I,L[0]):!u.current.noIsolation;G&&I.cancelable&&I.preventDefault()}}},[]),y=N.useCallback(function(M,I,F,q){var L={name:M,delta:I,target:F,should:q,shadowParent:bU(F)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(G){return G!==L})},1)},[]),v=N.useCallback(function(M){t.current=Nh(M),s.current=void 0},[]),b=N.useCallback(function(M){y(M.type,ZE(M),M.target,f(M,n.lockRef.current))},[]),w=N.useCallback(function(M){y(M.type,Nh(M),M.target,f(M,n.lockRef.current))},[]);N.useEffect(function(){return Yo.push(l),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:w}),document.addEventListener("wheel",m,Ko),document.addEventListener("touchmove",m,Ko),document.addEventListener("touchstart",v,Ko),function(){Yo=Yo.filter(function(M){return M!==l}),document.removeEventListener("wheel",m,Ko),document.removeEventListener("touchmove",m,Ko),document.removeEventListener("touchstart",v,Ko)}},[]);var S=n.removeScrollBar,O=n.inert;return N.createElement(N.Fragment,null,O?N.createElement(l,{styles:yU(a)}):null,S?N.createElement(lU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function bU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const wU=QL(bR,_U);var AR=N.forwardRef(function(n,e){return N.createElement(tm,Hr({},n,{ref:e,sideCar:wU}))});AR.classNames=tm.classNames;var Ry=["Enter"," "],xU=["ArrowDown","PageUp","Home"],SR=["ArrowUp","PageDown","End"],EU=[...xU,...SR],TU={ltr:[...Ry,"ArrowRight"],rtl:[...Ry,"ArrowLeft"]},AU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zu="Menu",[Eu,SU,RU]=mS(zu),[Qa,RR]=Ya(zu,[RU,lR,Xf]),nm=lR(),NR=Xf(),[NU,Xa]=Qa(zu),[CU,Bu]=Qa(zu),CR=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:a,onOpenChange:l,modal:u=!0}=n,f=nm(e),[m,y]=N.useState(null),v=N.useRef(!1),b=ns(l),w=Fv(a);return N.useEffect(()=>{const S=()=>{v.current=!0,document.addEventListener("pointerdown",O,{capture:!0,once:!0}),document.addEventListener("pointermove",O,{capture:!0,once:!0})},O=()=>v.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",O,{capture:!0}),document.removeEventListener("pointermove",O,{capture:!0})}},[]),p.jsx(DL,{...f,children:p.jsx(NU,{scope:e,open:t,onOpenChange:b,content:m,onContentChange:y,children:p.jsx(CU,{scope:e,onClose:N.useCallback(()=>b(!1),[b]),isUsingKeyboardRef:v,dir:w,modal:u,children:s})})})};CR.displayName=zu;var IU="MenuAnchor",s_=N.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,a=nm(t);return p.jsx(OL,{...a,...s,ref:e})});s_.displayName=IU;var i_="MenuPortal",[MU,IR]=Qa(i_,{forceMount:void 0}),MR=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:a}=n,l=Xa(i_,e);return p.jsx(MU,{scope:e,forceMount:t,children:p.jsx(Rl,{present:t||l.open,children:p.jsx(yR,{asChild:!0,container:a,children:s})})})};MR.displayName=i_;var lr="MenuContent",[DU,a_]=Qa(lr),DR=N.forwardRef((n,e)=>{const t=IR(lr,n.__scopeMenu),{forceMount:s=t.forceMount,...a}=n,l=Xa(lr,n.__scopeMenu),u=Bu(lr,n.__scopeMenu);return p.jsx(Eu.Provider,{scope:n.__scopeMenu,children:p.jsx(Rl,{present:s||l.open,children:p.jsx(Eu.Slot,{scope:n.__scopeMenu,children:u.modal?p.jsx(OU,{...a,ref:e}):p.jsx(kU,{...a,ref:e})})})})}),OU=N.forwardRef((n,e)=>{const t=Xa(lr,n.__scopeMenu),s=N.useRef(null),a=In(e,s);return N.useEffect(()=>{const l=s.current;if(l)return zL(l)},[]),p.jsx(o_,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ze(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),kU=N.forwardRef((n,e)=>{const t=Xa(lr,n.__scopeMenu);return p.jsx(o_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),PU=yu("MenuContent.ScrollLock"),o_=N.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:y,onPointerDownOutside:v,onFocusOutside:b,onInteractOutside:w,onDismiss:S,disableOutsideScroll:O,...M}=n,I=Xa(lr,t),F=Bu(lr,t),q=nm(t),L=NR(t),G=SU(t),[J,ae]=N.useState(null),C=N.useRef(null),A=In(e,C,I.onContentChange),D=N.useRef(0),P=N.useRef(""),U=N.useRef(0),z=N.useRef(null),k=N.useRef("right"),Se=N.useRef(0),Ce=O?AR:N.Fragment,Y=O?{as:PU,allowPinchZoom:!0}:void 0,ce=ue=>{var Ie,He;const V=P.current+ue,te=G().filter(nt=>!nt.disabled),de=document.activeElement,oe=(Ie=te.find(nt=>nt.ref.current===de))==null?void 0:Ie.textValue,fe=te.map(nt=>nt.textValue),Re=KU(fe,V,oe),_e=(He=te.find(nt=>nt.textValue===Re))==null?void 0:He.ref.current;(function nt(Pt){P.current=Pt,window.clearTimeout(D.current),Pt!==""&&(D.current=window.setTimeout(()=>nt(""),1e3))})(V),_e&&setTimeout(()=>_e.focus())};N.useEffect(()=>()=>window.clearTimeout(D.current),[]),g6();const Z=N.useCallback(ue=>{var te,de;return k.current===((te=z.current)==null?void 0:te.side)&&QU(ue,(de=z.current)==null?void 0:de.area)},[]);return p.jsx(DU,{scope:t,searchRef:P,onItemEnter:N.useCallback(ue=>{Z(ue)&&ue.preventDefault()},[Z]),onItemLeave:N.useCallback(ue=>{var V;Z(ue)||((V=C.current)==null||V.focus(),ae(null))},[Z]),onTriggerLeave:N.useCallback(ue=>{Z(ue)&&ue.preventDefault()},[Z]),pointerGraceTimerRef:U,onPointerGraceIntentChange:N.useCallback(ue=>{z.current=ue},[]),children:p.jsx(Ce,{...Y,children:p.jsx(YS,{asChild:!0,trapped:a,onMountAutoFocus:ze(l,ue=>{var V;ue.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:p.jsx($S,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:y,onPointerDownOutside:v,onFocusOutside:b,onInteractOutside:w,onDismiss:S,children:p.jsx(wS,{asChild:!0,...L,dir:F.dir,orientation:"vertical",loop:s,currentTabStopId:J,onCurrentTabStopIdChange:ae,onEntryFocus:ze(m,ue=>{F.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(kL,{role:"menu","aria-orientation":"vertical","data-state":YR(I.open),"data-radix-menu-content":"",dir:F.dir,...q,...M,ref:A,style:{outline:"none",...M.style},onKeyDown:ze(M.onKeyDown,ue=>{const te=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,de=ue.ctrlKey||ue.altKey||ue.metaKey,oe=ue.key.length===1;te&&(ue.key==="Tab"&&ue.preventDefault(),!de&&oe&&ce(ue.key));const fe=C.current;if(ue.target!==fe||!EU.includes(ue.key))return;ue.preventDefault();const _e=G().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);SR.includes(ue.key)&&_e.reverse(),GU(_e)}),onBlur:ze(n.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout(D.current),P.current="")}),onPointerMove:ze(n.onPointerMove,Tu(ue=>{const V=ue.target,te=Se.current!==ue.clientX;if(ue.currentTarget.contains(V)&&te){const de=ue.clientX>Se.current?"right":"left";k.current=de,Se.current=ue.clientX}}))})})})})})})});DR.displayName=lr;var jU="MenuGroup",l_=N.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return p.jsx(vt.div,{role:"group",...s,ref:e})});l_.displayName=jU;var VU="MenuLabel",OR=N.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return p.jsx(vt.div,{...s,ref:e})});OR.displayName=VU;var vf="MenuItem",eT="menu.itemSelect",rm=N.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...a}=n,l=N.useRef(null),u=Bu(vf,n.__scopeMenu),f=a_(vf,n.__scopeMenu),m=In(e,l),y=N.useRef(!1),v=()=>{const b=l.current;if(!t&&b){const w=new CustomEvent(eT,{bubbles:!0,cancelable:!0});b.addEventListener(eT,S=>s==null?void 0:s(S),{once:!0}),pS(b,w),w.defaultPrevented?y.current=!1:u.onClose()}};return p.jsx(kR,{...a,ref:m,disabled:t,onClick:ze(n.onClick,v),onPointerDown:b=>{var w;(w=n.onPointerDown)==null||w.call(n,b),y.current=!0},onPointerUp:ze(n.onPointerUp,b=>{var w;y.current||(w=b.currentTarget)==null||w.click()}),onKeyDown:ze(n.onKeyDown,b=>{const w=f.searchRef.current!=="";t||w&&b.key===" "||Ry.includes(b.key)&&(b.currentTarget.click(),b.preventDefault())})})});rm.displayName=vf;var kR=N.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:a,...l}=n,u=a_(vf,t),f=NR(t),m=N.useRef(null),y=In(e,m),[v,b]=N.useState(!1),[w,S]=N.useState("");return N.useEffect(()=>{const O=m.current;O&&S((O.textContent??"").trim())},[l.children]),p.jsx(Eu.ItemSlot,{scope:t,disabled:s,textValue:a??w,children:p.jsx(xS,{asChild:!0,...f,focusable:!s,children:p.jsx(vt.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:y,onPointerMove:ze(n.onPointerMove,Tu(O=>{s?u.onItemLeave(O):(u.onItemEnter(O),O.defaultPrevented||O.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(n.onPointerLeave,Tu(O=>u.onItemLeave(O))),onFocus:ze(n.onFocus,()=>b(!0)),onBlur:ze(n.onBlur,()=>b(!1))})})})}),LU="MenuCheckboxItem",PR=N.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...a}=n;return p.jsx(zR,{scope:n.__scopeMenu,checked:t,children:p.jsx(rm,{role:"menuitemcheckbox","aria-checked":_f(t)?"mixed":t,...a,ref:e,"data-state":u_(t),onSelect:ze(a.onSelect,()=>s==null?void 0:s(_f(t)?!0:!t),{checkForDefaultPrevented:!1})})})});PR.displayName=LU;var jR="MenuRadioGroup",[UU,zU]=Qa(jR,{value:void 0,onValueChange:()=>{}}),VR=N.forwardRef((n,e)=>{const{value:t,onValueChange:s,...a}=n,l=ns(s);return p.jsx(UU,{scope:n.__scopeMenu,value:t,onValueChange:l,children:p.jsx(l_,{...a,ref:e})})});VR.displayName=jR;var LR="MenuRadioItem",UR=N.forwardRef((n,e)=>{const{value:t,...s}=n,a=zU(LR,n.__scopeMenu),l=t===a.value;return p.jsx(zR,{scope:n.__scopeMenu,checked:l,children:p.jsx(rm,{role:"menuitemradio","aria-checked":l,...s,ref:e,"data-state":u_(l),onSelect:ze(s.onSelect,()=>{var u;return(u=a.onValueChange)==null?void 0:u.call(a,t)},{checkForDefaultPrevented:!1})})})});UR.displayName=LR;var c_="MenuItemIndicator",[zR,BU]=Qa(c_,{checked:!1}),BR=N.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...a}=n,l=BU(c_,t);return p.jsx(Rl,{present:s||_f(l.checked)||l.checked===!0,children:p.jsx(vt.span,{...a,ref:e,"data-state":u_(l.checked)})})});BR.displayName=c_;var FU="MenuSeparator",FR=N.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return p.jsx(vt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});FR.displayName=FU;var qU="MenuArrow",qR=N.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,a=nm(t);return p.jsx(PL,{...a,...s,ref:e})});qR.displayName=qU;var HU="MenuSub",[Z5,HR]=Qa(HU),Zc="MenuSubTrigger",GR=N.forwardRef((n,e)=>{const t=Xa(Zc,n.__scopeMenu),s=Bu(Zc,n.__scopeMenu),a=HR(Zc,n.__scopeMenu),l=a_(Zc,n.__scopeMenu),u=N.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=l,y={__scopeMenu:n.__scopeMenu},v=N.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return N.useEffect(()=>v,[v]),N.useEffect(()=>{const b=f.current;return()=>{window.clearTimeout(b),m(null)}},[f,m]),p.jsx(s_,{asChild:!0,...y,children:p.jsx(kR,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":YR(t.open),...n,ref:Qf(e,a.onTriggerChange),onClick:b=>{var w;(w=n.onClick)==null||w.call(n,b),!(n.disabled||b.defaultPrevented)&&(b.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ze(n.onPointerMove,Tu(b=>{l.onItemEnter(b),!b.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),v()},100))})),onPointerLeave:ze(n.onPointerLeave,Tu(b=>{var S,O;v();const w=(S=t.content)==null?void 0:S.getBoundingClientRect();if(w){const M=(O=t.content)==null?void 0:O.dataset.side,I=M==="right",F=I?-5:5,q=w[I?"left":"right"],L=w[I?"right":"left"];l.onPointerGraceIntentChange({area:[{x:b.clientX+F,y:b.clientY},{x:q,y:w.top},{x:L,y:w.top},{x:L,y:w.bottom},{x:q,y:w.bottom}],side:M}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(b),b.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ze(n.onKeyDown,b=>{var S;const w=l.searchRef.current!=="";n.disabled||w&&b.key===" "||TU[s.dir].includes(b.key)&&(t.onOpenChange(!0),(S=t.content)==null||S.focus(),b.preventDefault())})})})});GR.displayName=Zc;var $R="MenuSubContent",KR=N.forwardRef((n,e)=>{const t=IR(lr,n.__scopeMenu),{forceMount:s=t.forceMount,...a}=n,l=Xa(lr,n.__scopeMenu),u=Bu(lr,n.__scopeMenu),f=HR($R,n.__scopeMenu),m=N.useRef(null),y=In(e,m);return p.jsx(Eu.Provider,{scope:n.__scopeMenu,children:p.jsx(Rl,{present:s||l.open,children:p.jsx(Eu.Slot,{scope:n.__scopeMenu,children:p.jsx(o_,{id:f.contentId,"aria-labelledby":f.triggerId,...a,ref:y,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var b;u.isUsingKeyboardRef.current&&((b=m.current)==null||b.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:ze(n.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ze(n.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:ze(n.onKeyDown,v=>{var S;const b=v.currentTarget.contains(v.target),w=AU[u.dir].includes(v.key);b&&w&&(l.onOpenChange(!1),(S=f.trigger)==null||S.focus(),v.preventDefault())})})})})})});KR.displayName=$R;function YR(n){return n?"open":"closed"}function _f(n){return n==="indeterminate"}function u_(n){return _f(n)?"indeterminate":n?"checked":"unchecked"}function GU(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function $U(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function KU(n,e,t){const a=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let u=$U(n,Math.max(l,0));a.length===1&&(u=u.filter(y=>y!==t));const m=u.find(y=>y.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function YU(n,e){const{x:t,y:s}=n;let a=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l],m=e[u],y=f.x,v=f.y,b=m.x,w=m.y;v>s!=w>s&&t<(b-y)*(s-v)/(w-v)+y&&(a=!a)}return a}function QU(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return YU(t,e)}function Tu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var XU=CR,WU=s_,ZU=MR,JU=DR,e5=l_,t5=OR,n5=rm,r5=PR,s5=VR,i5=UR,a5=BR,o5=FR,l5=qR,c5=GR,u5=KR,sm="DropdownMenu",[d5,J5]=Ya(sm,[RR]),xn=RR(),[h5,QR]=d5(sm),XR=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:a,defaultOpen:l,onOpenChange:u,modal:f=!0}=n,m=xn(e),y=N.useRef(null),[v,b]=Bv({prop:a,defaultProp:l??!1,onChange:u,caller:sm});return p.jsx(h5,{scope:e,triggerId:df(),triggerRef:y,contentId:df(),open:v,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(w=>!w),[b]),modal:f,children:p.jsx(XU,{...m,open:v,onOpenChange:b,dir:s,modal:f,children:t})})};XR.displayName=sm;var WR="DropdownMenuTrigger",ZR=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...a}=n,l=QR(WR,t),u=xn(t);return p.jsx(WU,{asChild:!0,...u,children:p.jsx(vt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Qf(e,l.triggerRef),onPointerDown:ze(n.onPointerDown,f=>{!s&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:ze(n.onKeyDown,f=>{s||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});ZR.displayName=WR;var f5="DropdownMenuPortal",JR=n=>{const{__scopeDropdownMenu:e,...t}=n,s=xn(e);return p.jsx(ZU,{...s,...t})};JR.displayName=f5;var eN="DropdownMenuContent",tN=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=QR(eN,t),l=xn(t),u=N.useRef(!1);return p.jsx(JU,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...s,ref:e,onCloseAutoFocus:ze(n.onCloseAutoFocus,f=>{var m;u.current||(m=a.triggerRef.current)==null||m.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:ze(n.onInteractOutside,f=>{const m=f.detail.originalEvent,y=m.button===0&&m.ctrlKey===!0,v=m.button===2||y;(!a.modal||v)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tN.displayName=eN;var m5="DropdownMenuGroup",p5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(e5,{...a,...s,ref:e})});p5.displayName=m5;var g5="DropdownMenuLabel",y5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(t5,{...a,...s,ref:e})});y5.displayName=g5;var v5="DropdownMenuItem",nN=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(n5,{...a,...s,ref:e})});nN.displayName=v5;var _5="DropdownMenuCheckboxItem",b5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(r5,{...a,...s,ref:e})});b5.displayName=_5;var w5="DropdownMenuRadioGroup",x5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(s5,{...a,...s,ref:e})});x5.displayName=w5;var E5="DropdownMenuRadioItem",T5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(i5,{...a,...s,ref:e})});T5.displayName=E5;var A5="DropdownMenuItemIndicator",S5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(a5,{...a,...s,ref:e})});S5.displayName=A5;var R5="DropdownMenuSeparator",N5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(o5,{...a,...s,ref:e})});N5.displayName=R5;var C5="DropdownMenuArrow",I5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(l5,{...a,...s,ref:e})});I5.displayName=C5;var M5="DropdownMenuSubTrigger",D5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(c5,{...a,...s,ref:e})});D5.displayName=M5;var O5="DropdownMenuSubContent",k5=N.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,a=xn(t);return p.jsx(u5,{...a,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k5.displayName=O5;var P5=XR,j5=ZR,V5=JR,L5=tN,U5=nN;function rN({...n}){return p.jsx(P5,{"data-slot":"dropdown-menu",...n})}function sN({...n}){return p.jsx(j5,{"data-slot":"dropdown-menu-trigger",...n})}function iN({className:n,sideOffset:e=4,...t}){return p.jsx(V5,{children:p.jsx(L5,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ht("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function bf({className:n,inset:e,variant:t="default",...s}){return p.jsx(U5,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ht("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s})}class z5{async reportUser(e,t,s,a=""){try{const l=Hn(mt,lt.REPORTS);return await ka(l,{reporterId:e,reportedId:t,type:"user",reason:s,description:a,timestamp:Ot(),status:"pending"}),{success:!0}}catch(l){return console.error("Error reporting user:",l),{success:!1,error:l.message}}}async reportMessage(e,t,s,a,l=""){try{const u=Hn(mt,lt.REPORTS);return await ka(u,{reporterId:e,messageId:t,roomId:s,type:"message",reason:a,description:l,timestamp:Ot(),status:"pending"}),{success:!0}}catch(u){return console.error("Error reporting message:",u),{success:!1,error:u.message}}}async reportRoom(e,t,s,a=""){try{const l=Hn(mt,lt.REPORTS);return await ka(l,{reporterId:e,roomId:t,type:"room",reason:s,description:a,timestamp:Ot(),status:"pending"}),{success:!0}}catch(l){return console.error("Error reporting room:",l),{success:!1,error:l.message}}}}const aN=new z5,B5=({message:n,isOwn:e})=>{const{user:t}=$s(),[s,a]=N.useState(!1),[l,u]=N.useState(!1),f=async()=>{if(!t)return;const v=prompt("¿Por qué querés reportar este mensaje?");if(!v)return;(await aN.reportMessage(t.uid,n.id,n.roomId,"inappropriate_content",v)).success?alert("Mensaje reportado correctamente"):alert("Error al reportar el mensaje")},m=async()=>{if(!t||e||!confirm(`¿Estás seguro de que querés bloquear a ${n.senderName}?`))return;(await $n.blockUser(t.uid,n.senderId)).success?(a(!0),alert(`${n.senderName} ha sido bloqueado`)):alert("Error al bloquear usuario")},y=()=>{if(!n.mediaUrl)return;const v=new Audio(n.mediaUrl);u(!0),v.onended=()=>u(!1),v.onerror=()=>{u(!1),alert("Error al reproducir el audio")},v.play().catch(()=>{u(!1),alert("Error al reproducir el audio")})};return s?p.jsx("div",{className:"text-center text-white text-opacity-60 text-sm py-2",children:"Mensaje de usuario bloqueado"}):p.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} group`,children:p.jsxs("div",{className:`flex max-w-xs lg:max-w-md ${e?"flex-row-reverse":"flex-row"} items-end space-x-2`,children:[!e&&p.jsx(Il,{className:"h-8 w-8 flex-shrink-0",children:p.jsx(Ml,{style:{backgroundColor:Nl(n.senderName)},className:"text-white text-xs font-semibold",children:Cl(n.senderName)})}),p.jsxs("div",{className:`flex flex-col ${e?"items-end":"items-start"}`,children:[!e&&p.jsx("span",{className:"text-xs text-white text-opacity-70 mb-1 px-2",children:n.senderName}),p.jsxs("div",{className:`relative rounded-lg px-3 py-2 max-w-full break-words shadow-lg ${e?"bg-indigo-600 text-white":"glass-effect text-white"}`,children:[n.type==="text"&&p.jsx("p",{className:"text-sm",children:n.text}),n.type==="image"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("img",{src:n.mediaUrl,alt:"Imagen compartida",className:"max-w-full h-auto rounded-lg cursor-pointer",onClick:()=>window.open(n.mediaUrl,"_blank")}),n.text&&n.text!=="Imagen"&&p.jsx("p",{className:"text-sm text-white text-opacity-80",children:n.text})]}),n.type==="audio"&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(dt,{variant:"ghost",size:"sm",onClick:y,disabled:l,className:`p-1 ${e?"text-white hover:bg-indigo-700":"text-white hover:bg-white hover:bg-opacity-20"}`,children:l?p.jsx(VV,{className:"h-4 w-4"}):p.jsx(PV,{className:"h-4 w-4"})}),p.jsx("span",{className:"text-sm text-white text-opacity-80",children:l?"Reproduciendo...":"Audio"})]}),!e&&p.jsx("div",{className:"absolute -right-8 top-0 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsxs(rN,{children:[p.jsx(sN,{asChild:!0,children:p.jsx(dt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(Gv,{className:"h-3 w-3"})})}),p.jsxs(iN,{align:"end",className:"glass-effect border-none text-white",children:[p.jsxs(bf,{onClick:f,className:"hover:bg-white hover:bg-opacity-20 focus:bg-white focus:bg-opacity-20",children:[p.jsx(PS,{className:"h-4 w-4 mr-2 text-white text-opacity-80"}),"Reportar mensaje"]}),p.jsxs(bf,{onClick:m,className:"hover:bg-white hover:bg-opacity-20 focus:bg-white focus:bg-opacity-20",children:[p.jsx(jS,{className:"h-4 w-4 mr-2 text-white text-opacity-80"}),"Bloquear usuario"]})]})]})})]}),p.jsx("span",{className:`text-xs text-white text-opacity-60 mt-1 px-2 ${e?"text-right":"text-left"}`,children:BV(n.timestamp)})]})]})})},tT=()=>{const{user:n,userProfile:e}=$s(),{currentRoom:t,messages:s,setMessages:a,leaveRoom:l}=Yf(),[u,f]=N.useState(!0),m=N.useRef(null),y=N.useRef(null);N.useEffect(()=>(t&&(f(!0),y.current=OE.subscribeToMessages(t.id,S=>{a(S),f(!1)})),()=>{y.current&&y.current()}),[t,a]),N.useEffect(()=>{v()},[s]);const v=()=>{var S;(S=m.current)==null||S.scrollIntoView({behavior:"smooth"})},b=async(S,O="text",M=null)=>{if(!n||!e||!t)return;const I=await OE.sendMessage(t.id,n.uid,e.nickname,S,O,M);I.success||console.error("Error sending message:",I.error)},w=()=>{l()};return t?p.jsxs("div",{className:"flex flex-col h-full glass-effect rounded-lg shadow-lg overflow-hidden",children:[p.jsx(br,{className:"glass-effect rounded-b-none border-b border-white border-opacity-30 shadow-none",children:p.jsx(ju,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(dt,{variant:"ghost",size:"sm",onClick:w,className:"md:hidden text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(qj,{className:"h-4 w-4"})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Il,{className:"h-8 w-8",children:p.jsx(Ml,{style:{backgroundColor:Nl(t.name)},className:"text-white text-sm font-semibold",children:Cl(t.name)})}),p.jsxs("div",{children:[p.jsx(Vu,{className:"text-lg text-white",children:t.name}),p.jsx("p",{className:"text-sm text-white text-opacity-70",children:t.topic})]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 text-sm text-white text-opacity-70",children:[p.jsx(hf,{className:"h-4 w-4"}),p.jsx("span",{children:t.participantCount||0})]}),p.jsx(dt,{variant:"ghost",size:"sm",className:"text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(Gv,{className:"h-4 w-4"})})]})]})})}),p.jsx(br,{className:"flex-1 rounded-none border-x-0 border-t-0 bg-transparent shadow-none",children:p.jsx(Jr,{className:"p-0 h-full flex flex-col",children:p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[u?p.jsx("div",{className:"flex items-center justify-center h-32",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white border-opacity-70"})}):s.length===0?p.jsx("div",{className:"flex items-center justify-center h-32 text-white text-opacity-70",children:p.jsxs("div",{className:"text-center",children:[p.jsx(sl,{className:"h-12 w-12 mx-auto mb-2 text-white text-opacity-50"}),p.jsx("p",{children:"No hay mensajes aún"}),p.jsx("p",{className:"text-sm",children:"¡Sé el primero en escribir!"})]})}):s.map(S=>p.jsx(B5,{message:S,isOwn:S.senderId===(n==null?void 0:n.uid)},S.id)),p.jsx("div",{ref:m})]})})}),p.jsx(br,{className:"glass-effect rounded-t-none border-t border-white border-opacity-30 shadow-none",children:p.jsx(Jr,{className:"p-4",children:p.jsx(o6,{onSendMessage:b})})})]}):null},nT=({onUserSelect:n})=>{const[e,t]=N.useState(""),[s,a]=N.useState([]),[l,u]=N.useState(!1),[f,m]=N.useState(!1),y=FV(async w=>{if(!w.trim()){a([]),m(!1);return}u(!0),m(!0);try{const S=await $n.searchUsers(w.trim());a(S)}catch(S){console.error("Error searching users:",S),a([])}finally{u(!1)}},500),v=w=>{const S=w.target.value;t(S),y(S)},b=w=>{n&&n(w)};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs(br,{className:"glass-effect border-none",children:[p.jsx(ju,{className:"border-b border-white border-opacity-30",children:p.jsxs(Vu,{className:"flex items-center space-x-2 text-white",children:[p.jsx(_u,{className:"h-5 w-5"}),p.jsx("span",{children:"Buscar Usuarios"})]})}),p.jsx(Jr,{className:"p-6",children:p.jsxs("div",{className:"relative",children:[p.jsx(_u,{className:"absolute left-3 top-3 h-4 w-4 text-white text-opacity-60"}),p.jsx(Bn,{placeholder:"Buscá por nickname...",value:e,onChange:v,className:"pl-10 bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50"})]})})]}),l&&p.jsx("div",{className:"flex items-center justify-center py-8",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white border-opacity-70"})}),f&&!l&&s.length===0&&p.jsx(br,{className:"glass-effect border-none",children:p.jsxs(Jr,{className:"py-8 text-center text-white text-opacity-70",children:[p.jsx(bu,{className:"h-12 w-12 mx-auto mb-2 text-white text-opacity-50"}),p.jsx("p",{children:"No se encontraron usuarios"}),p.jsx("p",{className:"text-sm",children:"Intentá con otro nickname"})]})}),s.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h3",{className:"font-semibold text-white text-opacity-90",children:["Resultados (",s.length,")"]}),p.jsx("div",{className:"space-y-2",children:s.map(w=>p.jsx(br,{className:"glass-effect hover:shadow-xl transition-all duration-300 cursor-pointer border-none",onClick:()=>b(w),children:p.jsx(Jr,{className:"p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Il,{className:"h-12 w-12 border-2 border-white border-opacity-50 shadow-lg",children:p.jsx(Ml,{style:{backgroundColor:Nl(w.nickname)},className:"text-white font-semibold",children:Cl(w.nickname)})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h4",{className:"font-semibold text-white truncate",children:w.nickname}),w.isVIP&&p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-900 bg-opacity-30 text-yellow-300 border border-yellow-400 border-opacity-50",children:"VIP"})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-sm text-white text-opacity-70",children:[w.age&&p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Hv,{className:"h-3 w-3"}),p.jsxs("span",{children:[w.age," años"]})]}),w.gender&&p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx($v,{className:"h-3 w-3"}),p.jsx("span",{className:"capitalize",children:w.gender})]}),w.location&&p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx($r,{className:"h-3 w-3"}),p.jsx("span",{className:"truncate",children:w.location})]})]}),w.interests&&w.interests.length>0&&p.jsx("div",{className:"mt-2",children:p.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.interests.slice(0,3).map((S,O)=>p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-white bg-opacity-10 text-white border border-white border-opacity-20",children:S},O)),w.interests.length>3&&p.jsxs("span",{className:"text-xs text-white text-opacity-60",children:["+",w.interests.length-3," más"]})]})})]})]})})},w.id))})]})]})};function F5({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:Ht("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}const rT=({onClose:n})=>{var I,F,q,L,G,J,ae;const{user:e,userProfile:t,updateUserProfile:s}=$s(),[a,l]=N.useState(!1),[u,f]=N.useState(!1),[m,y]=N.useState(!1),v=N.useRef(null),[b,w]=N.useState({nickname:(t==null?void 0:t.nickname)||"",age:(t==null?void 0:t.age)||"",gender:(t==null?void 0:t.gender)||"",location:(t==null?void 0:t.location)||"",interests:((I=t==null?void 0:t.interests)==null?void 0:I.join(", "))||"",bio:(t==null?void 0:t.bio)||""}),S=async()=>{f(!0);const C=VS(b.nickname);if(!C.isValid){alert(C.error),f(!1);return}if(!LS(b.age)){alert("La edad debe estar entre 13 y 120 años"),f(!1);return}if(b.nickname!==t.nickname&&!await $n.isNicknameAvailable(b.nickname,e.uid)){alert("Este nickname ya está en uso"),f(!1);return}const A={nickname:b.nickname,age:parseInt(b.age),gender:b.gender,location:b.location,interests:b.interests.split(",").map(P=>P.trim()).filter(P=>P),bio:b.bio};(await $n.updateUserProfile(e.uid,A)).success?(s({...t,...A}),l(!1),alert("Perfil actualizado correctamente")):alert("Error al actualizar el perfil"),f(!1)},O=async C=>{const A=C.target.files[0];if(!A)return;const D=au.validateFile(A,ar.SUPPORTED_IMAGE_TYPES,ar.MAX_FILE_SIZE);if(!D.isValid){alert(D.error);return}y(!0);try{const P=await au.uploadProfilePicture(e.uid,A);P.success?(await $n.updateUserProfile(e.uid,{profilePicUrl:P.url})).success&&(s({...t,profilePicUrl:P.url}),alert("Foto de perfil actualizada")):alert("Error al subir la imagen")}catch(P){console.error("Error uploading profile picture:",P),alert("Error al subir la imagen")}finally{y(!1),C.target.value=""}},M=()=>{var C;w({nickname:(t==null?void 0:t.nickname)||"",age:(t==null?void 0:t.age)||"",gender:(t==null?void 0:t.gender)||"",location:(t==null?void 0:t.location)||"",interests:((C=t==null?void 0:t.interests)==null?void 0:C.join(", "))||"",bio:(t==null?void 0:t.bio)||""}),l(!1)};return t?p.jsxs(br,{className:"max-w-2xl mx-auto glass-effect border-none",children:[p.jsx(ju,{className:"border-b border-white border-opacity-30",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Vu,{className:"text-white",children:"Mi Perfil"}),p.jsxs("div",{className:"flex space-x-2",children:[a?p.jsxs(p.Fragment,{children:[p.jsxs(dt,{onClick:S,disabled:u,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p.jsx(xV,{className:"h-4 w-4 mr-2"}),u?"Guardando...":"Guardar"]}),p.jsxs(dt,{onClick:M,variant:"outline",className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border border-white border-opacity-30",children:[p.jsx(ff,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]}):p.jsx(dt,{onClick:()=>l(!0),variant:"outline",className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border border-white border-opacity-30",children:"Editar"}),n&&p.jsx(dt,{onClick:n,variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(ff,{className:"h-4 w-4"})})]})]})}),p.jsxs(Jr,{className:"space-y-6 p-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Il,{className:"h-24 w-24 border-2 border-white border-opacity-50 shadow-lg",children:t.profilePicUrl?p.jsx(Yv,{src:t.profilePicUrl,alt:"Foto de perfil"}):p.jsx(Ml,{style:{backgroundColor:Nl(t.nickname)},className:"text-white text-xl font-semibold",children:Cl(t.nickname)})}),a&&p.jsx(dt,{size:"sm",className:"absolute -bottom-2 -right-2 rounded-full h-8 w-8 p-0 bg-indigo-600 hover:bg-indigo-700 text-white shadow-md",onClick:()=>{var C;return(C=v.current)==null?void 0:C.click()},disabled:m,children:p.jsx(Yj,{className:"h-4 w-4"})})]}),p.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:O,className:"hidden"}),m&&p.jsx("p",{className:"text-sm text-white text-opacity-70",children:"Subiendo imagen..."}),t.isVIP&&p.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-900 bg-opacity-30 text-yellow-300 border border-yellow-400 border-opacity-50",children:"⭐ Usuario VIP"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"nickname",className:"text-white text-opacity-90",children:"Nickname"}),p.jsx(Bn,{id:"nickname",value:b.nickname,onChange:C=>w({...b,nickname:C.target.value}),disabled:!a,maxLength:20,className:"bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"age",className:"text-white text-opacity-90",children:"Edad"}),p.jsx(Bn,{id:"age",type:"number",value:b.age,onChange:C=>w({...b,age:C.target.value}),disabled:!a,min:"13",max:"120",className:"bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"gender",className:"text-white text-opacity-90",children:"Género"}),p.jsxs("select",{id:"gender",className:"flex h-10 w-full rounded-md border border-white border-opacity-20 bg-white bg-opacity-10 px-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-white placeholder:text-opacity-60 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 disabled:cursor-not-allowed disabled:opacity-50",value:b.gender,onChange:C=>w({...b,gender:C.target.value}),disabled:!a,children:[p.jsx("option",{value:"",className:"bg-indigo-700 text-white",children:"Seleccionar"}),Object.entries(XA).map(([C,A])=>p.jsx("option",{value:A,className:"bg-indigo-700 text-white",children:A},C))]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"location",className:"text-white text-opacity-90",children:"Provincia"}),p.jsxs("select",{id:"location",className:"flex h-10 w-full rounded-md border border-white border-opacity-20 bg-white bg-opacity-10 px-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-white placeholder:text-opacity-60 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 disabled:cursor-not-allowed disabled:opacity-50",value:b.location,onChange:C=>w({...b,location:C.target.value}),disabled:!a,children:[p.jsx("option",{value:"",className:"bg-indigo-700 text-white",children:"Seleccionar"}),WA.map(C=>p.jsx("option",{value:C,className:"bg-indigo-700 text-white",children:C},C))]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"interests",className:"text-white text-opacity-90",children:"Intereses (separados por comas)"}),p.jsx(Bn,{id:"interests",value:b.interests,onChange:C=>w({...b,interests:C.target.value}),disabled:!a,placeholder:"música, deportes, cine...",className:"bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(dn,{htmlFor:"bio",className:"text-white text-opacity-90",children:"Biografía"}),p.jsx(F5,{id:"bio",value:b.bio,onChange:C=>w({...b,bio:C.target.value}),disabled:!a,placeholder:"Contanos un poco sobre vos...",rows:3,maxLength:200,className:"bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-60 focus:ring-2 focus:ring-white focus:ring-opacity-50"}),a&&p.jsxs("p",{className:"text-xs text-white text-opacity-70 text-right",children:[b.bio.length,"/200"]})]}),p.jsxs("div",{className:"pt-4 border-t border-white border-opacity-30",children:[p.jsx("h3",{className:"font-semibold text-white text-opacity-90 mb-2",children:"Información de la cuenta"}),p.jsxs("div",{className:"text-sm text-white text-opacity-70 space-y-1",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Miembro desde:"})," ",((L=(q=(F=t.createdAt)==null?void 0:F.toDate)==null?void 0:q.call(F))==null?void 0:L.toLocaleDateString("es-AR"))||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Última conexión:"})," ",((ae=(J=(G=t.lastSeen)==null?void 0:G.toDate)==null?void 0:J.call(G))==null?void 0:ae.toLocaleString("es-AR"))||"N/A"]})]})]})]})]}):p.jsx(br,{className:"glass-effect border-none",children:p.jsxs(Jr,{className:"p-8 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white border-opacity-70 mx-auto"}),p.jsx("p",{className:"mt-2 text-white text-opacity-70",children:"Cargando perfil..."})]})})},q5=({targetUser:n,onClose:e})=>{const{user:t}=$s(),[s,a]=N.useState(!1),[l,u]=N.useState(!1),f=async()=>{if(!t||!n||!confirm(`¿Estás seguro de que querés bloquear a ${n.nickname}?`))return;u(!0),(await $n.blockUser(t.uid,n.uid)).success?(a(!0),alert(`${n.nickname} ha sido bloqueado`)):alert("Error al bloquear usuario"),u(!1)},m=async()=>{if(!t||!n)return;const v=prompt("¿Por qué querés reportar a este usuario?");if(!v)return;u(!0),(await aN.reportUser(t.uid,n.uid,"inappropriate_content",v)).success?alert("Usuario reportado correctamente"):alert("Error al reportar usuario"),u(!1)},y=()=>{alert("Función de mensajes privados próximamente disponible")};return n?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsxs(br,{className:"max-w-md w-full max-h-[90vh] overflow-y-auto glass-effect border-none",children:[p.jsx(ju,{className:"border-b border-white border-opacity-30",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Vu,{className:"text-white",children:"Perfil de Usuario"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(rN,{children:[p.jsx(sN,{asChild:!0,children:p.jsx(dt,{variant:"ghost",size:"sm",disabled:l,className:"text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(Gv,{className:"h-4 w-4"})})}),p.jsxs(iN,{align:"end",className:"glass-effect border-none text-white",children:[p.jsxs(bf,{onClick:m,className:"hover:bg-white hover:bg-opacity-20 focus:bg-white focus:bg-opacity-20",children:[p.jsx(PS,{className:"h-4 w-4 mr-2 text-white text-opacity-80"}),"Reportar usuario"]}),p.jsxs(bf,{onClick:f,className:"hover:bg-white hover:bg-opacity-20 focus:bg-white focus:bg-opacity-20",children:[p.jsx(jS,{className:"h-4 w-4 mr-2 text-white text-opacity-80"}),"Bloquear usuario"]})]})]}),p.jsx(dt,{onClick:e,variant:"ghost",size:"sm",className:"text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(ff,{className:"h-4 w-4"})})]})]})}),p.jsxs(Jr,{className:"space-y-6 p-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx(Il,{className:"h-20 w-20 border-2 border-white border-opacity-50 shadow-lg",children:n.profilePicUrl?p.jsx(Yv,{src:n.profilePicUrl,alt:"Foto de perfil"}):p.jsx(Ml,{style:{backgroundColor:Nl(n.nickname)},className:"text-white text-lg font-semibold",children:Cl(n.nickname)})}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[p.jsx("h2",{className:"text-xl font-bold text-white",children:n.nickname}),n.isVIP&&p.jsx(NE,{variant:"secondary",className:"bg-yellow-900 bg-opacity-30 text-yellow-300 border border-yellow-400 border-opacity-50",children:"⭐ VIP"})]}),n.bio&&p.jsx("p",{className:"text-white text-opacity-70 text-sm",children:n.bio})]})]}),p.jsxs("div",{className:"space-y-3",children:[n.age&&p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white text-opacity-70",children:[p.jsx(Hv,{className:"h-4 w-4"}),p.jsxs("span",{children:[n.age," años"]})]}),n.gender&&p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white text-opacity-70",children:[p.jsx($v,{className:"h-4 w-4"}),p.jsx("span",{className:"capitalize",children:n.gender})]}),n.location&&p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white text-opacity-70",children:[p.jsx($r,{className:"h-4 w-4"}),p.jsx("span",{children:n.location})]})]}),n.interests&&n.interests.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-white text-opacity-90 mb-2",children:"Intereses"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map((v,b)=>p.jsx(NE,{variant:"outline",className:"bg-white bg-opacity-10 text-white border border-white border-opacity-20 text-xs",children:v},b))})]}),p.jsxs("div",{className:"pt-4 border-t border-white border-opacity-30",children:[p.jsx("h3",{className:"font-semibold text-white text-opacity-90 mb-2",children:"Información"}),p.jsxs("div",{className:"text-sm text-white text-opacity-70 space-y-1",children:[n.createdAt&&p.jsxs("p",{children:[p.jsx("strong",{children:"Miembro desde:"})," ",SE(n.createdAt)]}),n.lastSeen&&p.jsxs("p",{children:[p.jsx("strong",{children:"Última conexión:"})," ",SE(n.lastSeen)]})]})]}),!s&&p.jsx("div",{className:"flex space-x-2",children:p.jsxs(dt,{onClick:y,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105",disabled:l,children:[p.jsx(sl,{className:"h-4 w-4 mr-2"}),"Enviar mensaje"]})}),s&&p.jsx("div",{className:"text-center py-4",children:p.jsx("p",{className:"text-white text-opacity-70",children:"Usuario bloqueado"})})]})]})}):null},H5=({onUpgrade:n})=>{const[e,t]=N.useState(!0);if(!e)return null;const s=()=>{n?n():alert("Función de upgrade a VIP próximamente disponible")};return p.jsx(br,{className:"glass-effect border-none mb-4",children:p.jsx(Jr,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full shadow-md",children:p.jsx(Wc,{className:"h-6 w-6 text-yellow-300"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-white mb-1",children:"¡Hazte VIP y disfrutá sin límites!"}),p.jsx("p",{className:"text-sm text-white text-opacity-80 mb-2",children:"Enviá audios, accedé a salas exclusivas y navegá sin anuncios"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-white text-opacity-70",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Uh,{className:"h-3 w-3 text-yellow-300"}),p.jsx("span",{children:"Audios ilimitados"})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Uh,{className:"h-3 w-3 text-yellow-300"}),p.jsx("span",{children:"Salas VIP"})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Uh,{className:"h-3 w-3 text-yellow-300"}),p.jsx("span",{children:"Sin anuncios"})]})]})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2 ml-4",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-lg font-bold text-white",children:qV(ar.VIP_PRICE_ARS)}),p.jsx("div",{className:"text-xs text-white text-opacity-70",children:"por mes"})]}),p.jsx(dt,{onClick:s,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105",size:"sm",children:"Upgrade"}),p.jsx(dt,{onClick:()=>t(!1),variant:"ghost",size:"sm",className:"text-white hover:bg-white hover:bg-opacity-20",children:p.jsx(ff,{className:"h-4 w-4"})})]})]})})})},G5=({size:n="md",className:e=""})=>{const t={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return p.jsx("div",{className:`animate-spin rounded-full border-b-2 border-indigo-600 ${t[n]} ${e}`})},sT=()=>{const{user:n,userProfile:e}=$s(),[t,s]=N.useState(null),[a,l]=N.useState(null),[u,f]=N.useState([]),[m,y]=N.useState([]),[v,b]=N.useState(!1),[w,S]=N.useState(!1),O=[{id:"1",nickname:"Sofia_BA",age:25,distance:.8,isOnline:!0,profilePic:null,interests:["música","arte","café"],lastSeen:new Date},{id:"2",nickname:"Mateo_Palermo",age:28,distance:1.2,isOnline:!0,profilePic:null,interests:["deportes","tecnología"],lastSeen:new Date},{id:"3",nickname:"Luna_Recoleta",age:23,distance:2.1,isOnline:!1,profilePic:null,interests:["libros","cine","viajes"],lastSeen:new Date(Date.now()-15*60*1e3)}],M=[{id:"1",name:"Café Tortoni Chat",description:"Charlemos sobre el café más famoso de Buenos Aires",distance:.5,participants:12,isActive:!0,category:"Local"},{id:"2",name:"Palermo Soho Vibes",description:"Para los que andan por Palermo",distance:1.8,participants:8,isActive:!0,category:"Zona"},{id:"3",name:"Puerto Madero Sunset",description:"Atardeceres y charlas relajadas",distance:3.2,participants:15,isActive:!0,category:"Zona"}],I=async()=>{if(b(!0),S(!0),!navigator.geolocation){l("La geolocalización no está soportada en este navegador"),b(!1);return}navigator.geolocation.getCurrentPosition(L=>{s({latitude:L.coords.latitude,longitude:L.coords.longitude}),l(null),setTimeout(()=>{f(O),y(M),b(!1)},2e3)},L=>{l("No se pudo obtener tu ubicación. Verifica los permisos."),b(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},F=L=>L<1?`${Math.round(L*1e3)}m`:`${L.toFixed(1)}km`,q=L=>{const J=new Date-L,ae=Math.floor(J/6e4);if(ae<1)return"Ahora";if(ae<60)return`${ae}m`;const C=Math.floor(ae/60);return C<24?`${C}h`:`${Math.floor(C/24)}d`};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"text-center space-y-4 fade-in-up",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[p.jsx("div",{className:"glass-morphism p-3 rounded-xl",children:p.jsx($r,{className:"h-8 w-8 text-blue-300 icon-glow-strong"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl font-bold text-gradient drop-shadow-lg",children:"Cerca de Acá"}),p.jsx("p",{className:"text-glass-muted text-lg font-medium",children:"Descubrí gente y salas cerca tuyo"})]})]}),p.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-glass-muted",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(iV,{className:"h-4 w-4 text-green-400"}),p.jsx("span",{children:"Conexiones reales"})]}),p.jsx("div",{className:"w-1 h-1 bg-glass-300 rounded-full"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ig,{className:"h-4 w-4 text-blue-400"}),p.jsx("span",{children:"Privacidad protegida"})]})]})]}),!w&&p.jsxs("div",{className:"content-card text-center space-y-6 bg-gradient-to-br from-blue-500/20 via-purple-500/20 to-pink-500/20 border-blue-400/30 fade-in-up",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"glass-morphism-strong p-6 rounded-2xl inline-block glow-animation",children:p.jsx(Cg,{className:"h-12 w-12 text-blue-300 icon-glow-strong mx-auto"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-glass-bright mb-3",children:"Activar Ubicación"}),p.jsx("p",{className:"text-glass-muted leading-relaxed max-w-md mx-auto",children:"Para mostrarte personas y salas cerca tuyo, necesitamos acceso a tu ubicación. Tu privacidad está protegida y solo compartimos ubicaciones aproximadas."})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs(dt,{onClick:I,disabled:v,className:"btn-primary px-8 py-3 text-lg font-semibold shadow-glow",children:[p.jsx(Cg,{className:"h-5 w-5 mr-2"}),v?"Obteniendo ubicación...":"Permitir Ubicación"]}),p.jsxs("div",{className:"text-xs text-glass-muted space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx(vu,{className:"h-3 w-3"}),p.jsx("span",{children:"Tu ubicación exacta nunca se comparte"})]}),p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx(Ig,{className:"h-3 w-3"}),p.jsx("span",{children:"Solo mostramos distancias aproximadas"})]})]})]})]}),a&&p.jsxs("div",{className:"content-card bg-red-500/20 border-red-400/30 text-center space-y-4 fade-in-up",children:[p.jsx("div",{className:"glass-morphism p-4 rounded-xl inline-block",children:p.jsx($r,{className:"h-8 w-8 text-red-300"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-red-200 mb-2",children:"Error de Ubicación"}),p.jsx("p",{className:"text-red-300 text-sm",children:a})]}),p.jsx(dt,{onClick:I,className:"btn-secondary border-red-300/50 text-red-200 hover:bg-red-300/20",children:"Intentar de nuevo"})]}),v&&t&&p.jsxs("div",{className:"content-card text-center space-y-6 fade-in-up",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"glass-morphism p-6 rounded-2xl inline-block",children:p.jsx("div",{className:"animate-spin",children:p.jsx(Cg,{className:"h-8 w-8 text-blue-300"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-glass-bright",children:"Buscando cerca tuyo..."}),p.jsx("p",{className:"text-glass-muted",children:"Encontrando personas y salas en tu área"})]})]}),p.jsx("div",{className:"w-64 h-2 bg-glass-100 rounded-full overflow-hidden mx-auto",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-shimmer"})})]}),t&&!v&&p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-6 fade-in-up",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"text-2xl font-bold text-glass-bright flex items-center space-x-3",children:[p.jsx(hf,{className:"h-6 w-6 text-purple-300"}),p.jsx("span",{children:"Personas Cerca"})]}),p.jsxs("div",{className:"text-sm text-glass-muted",children:[u.length," encontradas"]})]}),p.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:u.map((L,G)=>p.jsx("div",{className:"content-card group cursor-pointer fade-in-up",style:{animationDelay:`${G*150}ms`},children:p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Il,{className:"h-14 w-14 border-2 border-glass-border-strong",children:L.profilePic?p.jsx(Yv,{src:L.profilePic,alt:L.nickname}):p.jsx(Ml,{style:{backgroundColor:Nl(L.nickname)},className:"text-white font-bold",children:Cl(L.nickname)})}),p.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 border-2 border-white rounded-full ${L.isOnline?"bg-green-400 animate-pulse-soft":"bg-gray-400"}`})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:"font-semibold text-glass-bright group-hover:text-gradient transition-all duration-300",children:L.nickname}),p.jsxs("div",{className:"flex items-center space-x-1 text-xs text-glass-muted",children:[p.jsx($r,{className:"h-3 w-3"}),p.jsx("span",{className:"font-medium",children:F(L.distance)})]})]}),p.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[p.jsxs("span",{className:"text-sm text-glass-muted",children:[L.age," años"]}),p.jsx("div",{className:"w-1 h-1 bg-glass-300 rounded-full"}),p.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[p.jsx(Xj,{className:"h-3 w-3 text-glass-muted"}),p.jsx("span",{className:"text-glass-muted",children:L.isOnline?"En línea":q(L.lastSeen)})]})]}),p.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:L.interests.slice(0,3).map((J,ae)=>p.jsx("span",{className:"badge-glass text-xs px-2 py-1",children:J},ae))}),p.jsxs(dt,{className:"btn-secondary w-full text-sm group-hover:scale-105 transition-all duration-300",children:[p.jsx(sl,{className:"h-4 w-4 mr-2"}),"Enviar mensaje"]})]})]})},L.id))})]}),p.jsxs("div",{className:"space-y-6 fade-in-up",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"text-2xl font-bold text-glass-bright flex items-center space-x-3",children:[p.jsx(sl,{className:"h-6 w-6 text-green-300"}),p.jsx("span",{children:"Salas Cerca"})]}),p.jsxs("div",{className:"text-sm text-glass-muted",children:[m.length," activas"]})]}),p.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:m.map((L,G)=>p.jsx("div",{className:"content-card group cursor-pointer fade-in-up",style:{animationDelay:`${G*150}ms`},children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"glass-morphism p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:p.jsx(sl,{className:"h-5 w-5 text-green-300 icon-glow"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-glass-bright group-hover:text-gradient transition-all duration-300",children:L.name}),p.jsx("div",{className:"badge-glass text-xs mt-1",children:L.category})]})]}),p.jsxs("div",{className:"flex items-center space-x-1 text-xs text-glass-muted",children:[p.jsx($r,{className:"h-3 w-3"}),p.jsx("span",{className:"font-medium",children:F(L.distance)})]})]}),p.jsx("p",{className:"text-glass-muted text-sm leading-relaxed",children:L.description}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-glass-muted",children:[p.jsx(hf,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:L.participants})]}),p.jsx("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(3,Math.floor(L.participants/3)))].map((J,ae)=>p.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse-soft",style:{animationDelay:`${ae*300}ms`}},ae))})]}),p.jsxs(dt,{className:"btn-primary flex items-center space-x-2 group-hover:scale-105 transition-all duration-300",children:[p.jsx(wy,{className:"h-4 w-4"}),p.jsx("span",{className:"font-semibold",children:"Unirse"})]})]})]})},L.id))})]}),p.jsx("div",{className:"content-card bg-gradient-to-br from-gray-500/10 via-gray-600/10 to-gray-700/10 border-gray-400/20 fade-in-up",children:p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"glass-morphism p-3 rounded-xl",children:p.jsx(Ig,{className:"h-6 w-6 text-gray-300"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"font-semibold text-glass-bright",children:"Tu Privacidad es Importante"}),p.jsxs("div",{className:"text-sm text-glass-muted space-y-1",children:[p.jsx("p",{children:"• Tu ubicación exacta nunca se comparte con otros usuarios"}),p.jsx("p",{children:'• Solo mostramos distancias aproximadas (ej: "1.2km")'}),p.jsx("p",{children:"• Puedes desactivar la ubicación en cualquier momento"}),p.jsx("p",{children:"• Los datos de ubicación no se almacenan en nuestros servidores"})]})]})]})})]})]})};function $5(){const{user:n,userProfile:e,loading:t,isVIP:s}=$s(),{currentRoom:a}=Yf(),[l,u]=N.useState("rooms"),[f,m]=N.useState(null),[y,v]=N.useState(!1);N.useEffect(()=>{n&&(Lv.initializeDefaultRooms(),$n.updateLastSeen(n.uid))},[n]);const b=F=>{m(F)},w=()=>{m(null)},S=()=>{v(!0),u("profile")},O=()=>{v(!1)},M=F=>{u(F),F!=="profile"&&v(!1)},I=()=>{u("nearby")};return t?p.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"bg-decoration"}),p.jsxs("div",{className:"text-center glass-morphism-strong p-12 space-y-6 fade-in-up max-w-md mx-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(G5,{size:"lg"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full blur-xl opacity-30 animate-pulse-soft"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("h2",{className:"text-2xl font-bold text-glass-bright",children:"La Previa Chat"}),p.jsx("p",{className:"text-glass-muted text-lg",children:"Cargando tu experiencia..."})]}),p.jsx("div",{className:"w-48 h-2 bg-glass-100 rounded-full overflow-hidden mx-auto",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-accent-500 rounded-full animate-shimmer"})})]})]}):n?p.jsxs("div",{className:"min-h-screen text-white relative overflow-hidden",children:[p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:p.jsx(GV,{onShowProfile:S,onShowSearch:()=>u("search"),onShowRooms:()=>u("rooms"),onShowNearby:I,activeView:l})}),p.jsx("main",{className:"relative z-10 pt-20 pb-24 md:pb-8",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[!s&&p.jsx("div",{className:"mb-6 fade-in-up",children:p.jsx(H5,{})}),p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"lg:hidden",children:[l==="rooms"&&!a&&p.jsx("div",{className:"fade-in-up",children:p.jsx(CE,{})}),l==="search"&&!a&&p.jsx("div",{className:"fade-in-up",children:p.jsx(nT,{onUserSelect:b})}),l==="nearby"&&!a&&p.jsx("div",{className:"fade-in-up",children:p.jsx(sT,{})}),l==="profile"&&y&&!a&&p.jsx("div",{className:"fade-in-up",children:p.jsx(rT,{onClose:O})}),a&&p.jsx("div",{className:"slide-in-right",children:p.jsx(tT,{})})]}),p.jsx("div",{className:"hidden lg:block",children:p.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"xl:col-span-2",children:[l==="rooms"&&p.jsx("div",{className:"fade-in-up",children:p.jsx(CE,{})}),l==="search"&&p.jsx("div",{className:"fade-in-up",children:p.jsx(nT,{onUserSelect:b})}),l==="nearby"&&p.jsx("div",{className:"fade-in-up",children:p.jsx(sT,{})}),l==="profile"&&y&&p.jsx("div",{className:"fade-in-up",children:p.jsx(rT,{onClose:O})})]}),p.jsx("div",{className:"xl:col-span-1",children:p.jsx("div",{className:"slide-in-right",children:p.jsx(tT,{})})})]})})]})]})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden",children:p.jsx($V,{activeView:l,onViewChange:M})}),f&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm fade-in-up",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsx(q5,{targetUser:f,onClose:w})})})]}):p.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"bg-decoration"}),p.jsx("div",{className:"bg-decoration"}),p.jsx(HV,{onSuccess:()=>u("rooms")})]})}function K5(){return p.jsx(p3,{children:p.jsx(y3,{children:p.jsx($5,{})})})}z2.createRoot(document.getElementById("root")).render(p.jsx(N.StrictMode,{children:p.jsx(K5,{})}));
